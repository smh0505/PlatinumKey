(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function na(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const We={},vn=[],Yt=()=>{},N0=()=>!1,F0=/^on[^a-z]/,is=e=>F0.test(e),Ro=e=>e.startsWith("onUpdate:"),Ye=Object.assign,Io=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},R0=Object.prototype.hasOwnProperty,Ge=(e,t)=>R0.call(e,t),be=Array.isArray,yn=e=>On(e)==="[object Map]",nn=e=>On(e)==="[object Set]",Nl=e=>On(e)==="[object Date]",I0=e=>On(e)==="[object RegExp]",xe=e=>typeof e=="function",Je=e=>typeof e=="string",ji=e=>typeof e=="symbol",Ke=e=>e!==null&&typeof e=="object",Do=e=>Ke(e)&&xe(e.then)&&xe(e.catch),Zc=Object.prototype.toString,On=e=>Zc.call(e),D0=e=>On(e).slice(8,-1),Jc=e=>On(e)==="[object Object]",Lo=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gi=na(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ia=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},L0=/-(\w)/g,At=ia(e=>e.replace(L0,(t,r)=>r?r.toUpperCase():"")),B0=/\B([A-Z])/g,Ut=ia(e=>e.replace(B0,"-$1").toLowerCase()),ss=ia(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ui=ia(e=>e?`on${ss(e)}`:""),Tn=(e,t)=>!Object.is(e,t),_n=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},$s=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Ws=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ks=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let Fl;const so=()=>Fl||(Fl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),G0="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",U0=na(G0);function Br(e){if(be(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Je(n)?W0(n):Br(n);if(i)for(const s in i)t[s]=i[s]}return t}else{if(Je(e))return e;if(Ke(e))return e}}const V0=/;(?![^(]*\))/g,H0=/:([^]+)/,$0=/\/\*[^]*?\*\//g;function W0(e){const t={};return e.replace($0,"").split(V0).forEach(r=>{if(r){const n=r.split(H0);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Qe(e){let t="";if(Je(e))t=e;else if(be(e))for(let r=0;r<e.length;r++){const n=Qe(e[r]);n&&(t+=n+" ")}else if(Ke(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function K0(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Je(t)&&(e.class=Qe(t)),r&&(e.style=Br(r)),e}const q0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",z0=na(q0);function Qc(e){return!!e||e===""}function j0(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Fr(e[n],t[n]);return r}function Fr(e,t){if(e===t)return!0;let r=Nl(e),n=Nl(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=ji(e),n=ji(t),r||n)return e===t;if(r=be(e),n=be(t),r||n)return r&&n?j0(e,t):!1;if(r=Ke(e),n=Ke(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!Fr(e[a],t[a]))return!1}}return String(e)===String(t)}function sa(e,t){return e.findIndex(r=>Fr(r,t))}const Ue=e=>Je(e)?e:e==null?"":be(e)||Ke(e)&&(e.toString===Zc||!xe(e.toString))?JSON.stringify(e,eh,2):String(e),eh=(e,t)=>t&&t.__v_isRef?eh(e,t.value):yn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:nn(t)?{[`Set(${t.size})`]:[...t.values()]}:Ke(t)&&!be(t)&&!Jc(t)?String(t):t;let Pt;class Bo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pt,!t&&Pt&&(this.index=(Pt.scopes||(Pt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Pt;try{return Pt=this,t()}finally{Pt=r}}}on(){Pt=this}off(){Pt=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Go(e){return new Bo(e)}function th(e,t=Pt){t&&t.active&&t.effects.push(e)}function Uo(){return Pt}function rh(e){Pt&&Pt.cleanups.push(e)}const Vo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},nh=e=>(e.w&Rr)>0,ih=e=>(e.n&Rr)>0,Y0=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Rr},X0=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];nh(i)&&!ih(i)?i.delete(e):t[r++]=i,i.w&=~Rr,i.n&=~Rr}t.length=r}},qs=new WeakMap;let Ri=0,Rr=1;const ao=30;let qt;const Yr=Symbol(""),oo=Symbol("");class as{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,th(this,n)}run(){if(!this.active)return this.fn();let t=qt,r=Pr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=qt,qt=this,Pr=!0,Rr=1<<++Ri,Ri<=ao?Y0(this):Rl(this),this.fn()}finally{Ri<=ao&&X0(this),Rr=1<<--Ri,qt=this.parent,Pr=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){qt===this?this.deferStop=!0:this.active&&(Rl(this),this.onStop&&this.onStop(),this.active=!1)}}function Rl(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}function Z0(e,t){e.effect&&(e=e.effect.fn);const r=new as(e);t&&(Ye(r,t),t.scope&&th(r,t.scope)),(!t||!t.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function J0(e){e.effect.stop()}let Pr=!0;const sh=[];function Pn(){sh.push(Pr),Pr=!1}function Mn(){const e=sh.pop();Pr=e===void 0?!0:e}function kt(e,t,r){if(Pr&&qt){let n=qs.get(e);n||qs.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=Vo()),ah(i)}}function ah(e,t){let r=!1;Ri<=ao?ih(e)||(e.n|=Rr,r=!nh(e)):r=!e.has(qt),r&&(e.add(qt),qt.deps.push(e))}function gr(e,t,r,n,i,s){const a=qs.get(e);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(r==="length"&&be(e)){const l=Number(n);a.forEach((u,p)=>{(p==="length"||p>=l)&&o.push(u)})}else switch(r!==void 0&&o.push(a.get(r)),t){case"add":be(e)?Lo(r)&&o.push(a.get("length")):(o.push(a.get(Yr)),yn(e)&&o.push(a.get(oo)));break;case"delete":be(e)||(o.push(a.get(Yr)),yn(e)&&o.push(a.get(oo)));break;case"set":yn(e)&&o.push(a.get(Yr));break}if(o.length===1)o[0]&&lo(o[0]);else{const l=[];for(const u of o)u&&l.push(...u);lo(Vo(l))}}function lo(e,t){const r=be(e)?e:[...e];for(const n of r)n.computed&&Il(n);for(const n of r)n.computed||Il(n)}function Il(e,t){(e!==qt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Q0(e,t){var r;return(r=qs.get(e))==null?void 0:r.get(t)}const e1=na("__proto__,__v_isRef,__isVue"),oh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ji)),t1=aa(),r1=aa(!1,!0),n1=aa(!0),i1=aa(!0,!0),Dl=s1();function s1(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Ne(this);for(let s=0,a=this.length;s<a;s++)kt(n,"get",s+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(Ne)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Pn();const n=Ne(this)[t].apply(this,r);return Mn(),n}}),e}function a1(e){const t=Ne(this);return kt(t,"has",e),t.hasOwnProperty(e)}function aa(e=!1,t=!1){return function(n,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?gh:dh:t?fh:hh).get(n))return n;const a=be(n);if(!e){if(a&&Ge(Dl,i))return Reflect.get(Dl,i,s);if(i==="hasOwnProperty")return a1}const o=Reflect.get(n,i,s);return(ji(i)?oh.has(i):e1(i))||(e||kt(n,"get",i),t)?o:et(o)?a&&Lo(i)?o:o.value:Ke(o)?e?$o(o):os(o):o}}const o1=lh(),l1=lh(!0);function lh(e=!1){return function(r,n,i,s){let a=r[n];if(Qr(a)&&et(a)&&!et(i))return!1;if(!e&&(!Yi(i)&&!Qr(i)&&(a=Ne(a),i=Ne(i)),!be(r)&&et(a)&&!et(i)))return a.value=i,!0;const o=be(r)&&Lo(n)?Number(n)<r.length:Ge(r,n),l=Reflect.set(r,n,i,s);return r===Ne(s)&&(o?Tn(i,a)&&gr(r,"set",n,i):gr(r,"add",n,i)),l}}function u1(e,t){const r=Ge(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&gr(e,"delete",t,void 0),n}function c1(e,t){const r=Reflect.has(e,t);return(!ji(t)||!oh.has(t))&&kt(e,"has",t),r}function h1(e){return kt(e,"iterate",be(e)?"length":Yr),Reflect.ownKeys(e)}const uh={get:t1,set:o1,deleteProperty:u1,has:c1,ownKeys:h1},ch={get:n1,set(e,t){return!0},deleteProperty(e,t){return!0}},f1=Ye({},uh,{get:r1,set:l1}),d1=Ye({},ch,{get:i1}),Ho=e=>e,oa=e=>Reflect.getPrototypeOf(e);function ys(e,t,r=!1,n=!1){e=e.__v_raw;const i=Ne(e),s=Ne(t);r||(t!==s&&kt(i,"get",t),kt(i,"get",s));const{has:a}=oa(i),o=n?Ho:r?Ko:Xi;if(a.call(i,t))return o(e.get(t));if(a.call(i,s))return o(e.get(s));e!==i&&e.get(t)}function _s(e,t=!1){const r=this.__v_raw,n=Ne(r),i=Ne(e);return t||(e!==i&&kt(n,"has",e),kt(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function bs(e,t=!1){return e=e.__v_raw,!t&&kt(Ne(e),"iterate",Yr),Reflect.get(e,"size",e)}function Ll(e){e=Ne(e);const t=Ne(this);return oa(t).has.call(t,e)||(t.add(e),gr(t,"add",e,e)),this}function Bl(e,t){t=Ne(t);const r=Ne(this),{has:n,get:i}=oa(r);let s=n.call(r,e);s||(e=Ne(e),s=n.call(r,e));const a=i.call(r,e);return r.set(e,t),s?Tn(t,a)&&gr(r,"set",e,t):gr(r,"add",e,t),this}function Gl(e){const t=Ne(this),{has:r,get:n}=oa(t);let i=r.call(t,e);i||(e=Ne(e),i=r.call(t,e)),n&&n.call(t,e);const s=t.delete(e);return i&&gr(t,"delete",e,void 0),s}function Ul(){const e=Ne(this),t=e.size!==0,r=e.clear();return t&&gr(e,"clear",void 0,void 0),r}function Ss(e,t){return function(n,i){const s=this,a=s.__v_raw,o=Ne(a),l=t?Ho:e?Ko:Xi;return!e&&kt(o,"iterate",Yr),a.forEach((u,p)=>n.call(i,l(u),l(p),s))}}function Cs(e,t,r){return function(...n){const i=this.__v_raw,s=Ne(i),a=yn(s),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=i[e](...n),p=r?Ho:t?Ko:Xi;return!t&&kt(s,"iterate",l?oo:Yr),{next(){const{value:h,done:m}=u.next();return m?{value:h,done:m}:{value:o?[p(h[0]),p(h[1])]:p(h),done:m}},[Symbol.iterator](){return this}}}}function br(e){return function(...t){return e==="delete"?!1:this}}function g1(){const e={get(s){return ys(this,s)},get size(){return bs(this)},has:_s,add:Ll,set:Bl,delete:Gl,clear:Ul,forEach:Ss(!1,!1)},t={get(s){return ys(this,s,!1,!0)},get size(){return bs(this)},has:_s,add:Ll,set:Bl,delete:Gl,clear:Ul,forEach:Ss(!1,!0)},r={get(s){return ys(this,s,!0)},get size(){return bs(this,!0)},has(s){return _s.call(this,s,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:Ss(!0,!1)},n={get(s){return ys(this,s,!0,!0)},get size(){return bs(this,!0)},has(s){return _s.call(this,s,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:Ss(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Cs(s,!1,!1),r[s]=Cs(s,!0,!1),t[s]=Cs(s,!1,!0),n[s]=Cs(s,!0,!0)}),[e,r,t,n]}const[m1,p1,v1,y1]=g1();function la(e,t){const r=t?e?y1:v1:e?p1:m1;return(n,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ge(r,i)&&i in n?r:n,i,s)}const _1={get:la(!1,!1)},b1={get:la(!1,!0)},S1={get:la(!0,!1)},C1={get:la(!0,!0)},hh=new WeakMap,fh=new WeakMap,dh=new WeakMap,gh=new WeakMap;function w1(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function T1(e){return e.__v_skip||!Object.isExtensible(e)?0:w1(D0(e))}function os(e){return Qr(e)?e:ua(e,!1,uh,_1,hh)}function mh(e){return ua(e,!1,f1,b1,fh)}function $o(e){return ua(e,!0,ch,S1,dh)}function E1(e){return ua(e,!0,d1,C1,gh)}function ua(e,t,r,n,i){if(!Ke(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=T1(e);if(a===0)return e;const o=new Proxy(e,a===2?n:r);return i.set(e,o),o}function fr(e){return Qr(e)?fr(e.__v_raw):!!(e&&e.__v_isReactive)}function Qr(e){return!!(e&&e.__v_isReadonly)}function Yi(e){return!!(e&&e.__v_isShallow)}function Wo(e){return fr(e)||Qr(e)}function Ne(e){const t=e&&e.__v_raw;return t?Ne(t):e}function ls(e){return $s(e,"__v_skip",!0),e}const Xi=e=>Ke(e)?os(e):e,Ko=e=>Ke(e)?$o(e):e;function qo(e){Pr&&qt&&(e=Ne(e),ah(e.dep||(e.dep=Vo())))}function ca(e,t){e=Ne(e);const r=e.dep;r&&lo(r)}function et(e){return!!(e&&e.__v_isRef===!0)}function Qt(e){return ph(e,!1)}function x1(e){return ph(e,!0)}function ph(e,t){return et(e)?e:new A1(e,t)}class A1{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Ne(t),this._value=r?t:Xi(t)}get value(){return qo(this),this._value}set value(t){const r=this.__v_isShallow||Yi(t)||Qr(t);t=r?t:Ne(t),Tn(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Xi(t),ca(this))}}function k1(e){ca(e)}function zo(e){return et(e)?e.value:e}function O1(e){return xe(e)?e():zo(e)}const P1={get:(e,t,r)=>zo(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return et(i)&&!et(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function jo(e){return fr(e)?e:new Proxy(e,P1)}class M1{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=t(()=>qo(this),()=>ca(this));this._get=r,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function N1(e){return new M1(e)}function vh(e){const t=be(e)?new Array(e.length):{};for(const r in e)t[r]=yh(e,r);return t}class F1{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Q0(Ne(this._object),this._key)}}class R1{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function I1(e,t,r){return et(e)?e:xe(e)?new R1(e):Ke(e)&&arguments.length>1?yh(e,t,r):Qt(e)}function yh(e,t,r){const n=e[t];return et(n)?n:new F1(e,t,r)}class D1{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new as(t,()=>{this._dirty||(this._dirty=!0,ca(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Ne(this);return qo(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function L1(e,t,r=!1){let n,i;const s=xe(e);return s?(n=e,i=Yt):(n=e.get,i=e.set),new D1(n,i,s||!i,r)}function B1(e,...t){}function G1(e,t){}function dr(e,t,r,n){let i;try{i=n?e(...n):e()}catch(s){sn(s,t,r)}return i}function Nt(e,t,r,n){if(xe(e)){const s=dr(e,t,r,n);return s&&Do(s)&&s.catch(a=>{sn(a,t,r)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(Nt(e[s],t,r,n));return i}function sn(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,o=r;for(;s;){const u=s.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](e,a,o)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){dr(l,null,10,[e,a,o]);return}}U1(e,r,i,n)}function U1(e,t,r,n=!0){console.error(e)}let Zi=!1,uo=!1;const vt=[];let Jt=0;const bn=[];let lr=null,Kr=0;const _h=Promise.resolve();let Yo=null;function ha(e){const t=Yo||_h;return e?t.then(this?e.bind(this):e):t}function V1(e){let t=Jt+1,r=vt.length;for(;t<r;){const n=t+r>>>1;Ji(vt[n])<e?t=n+1:r=n}return t}function fa(e){(!vt.length||!vt.includes(e,Zi&&e.allowRecurse?Jt+1:Jt))&&(e.id==null?vt.push(e):vt.splice(V1(e.id),0,e),bh())}function bh(){!Zi&&!uo&&(uo=!0,Yo=_h.then(Sh))}function H1(e){const t=vt.indexOf(e);t>Jt&&vt.splice(t,1)}function Xo(e){be(e)?bn.push(...e):(!lr||!lr.includes(e,e.allowRecurse?Kr+1:Kr))&&bn.push(e),bh()}function Vl(e,t=Zi?Jt+1:0){for(;t<vt.length;t++){const r=vt[t];r&&r.pre&&(vt.splice(t,1),t--,r())}}function zs(e){if(bn.length){const t=[...new Set(bn)];if(bn.length=0,lr){lr.push(...t);return}for(lr=t,lr.sort((r,n)=>Ji(r)-Ji(n)),Kr=0;Kr<lr.length;Kr++)lr[Kr]();lr=null,Kr=0}}const Ji=e=>e.id==null?1/0:e.id,$1=(e,t)=>{const r=Ji(e)-Ji(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Sh(e){uo=!1,Zi=!0,vt.sort($1);const t=Yt;try{for(Jt=0;Jt<vt.length;Jt++){const r=vt[Jt];r&&r.active!==!1&&dr(r,null,14)}}finally{Jt=0,vt.length=0,zs(),Zi=!1,Yo=null,(vt.length||bn.length)&&Sh()}}let mn,ws=[];function Ch(e,t){var r,n;mn=e,mn?(mn.enabled=!0,ws.forEach(({event:i,args:s})=>mn.emit(i,...s)),ws=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Ch(s,t)}),setTimeout(()=>{mn||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ws=[])},3e3)):ws=[]}function W1(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||We;let i=r;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in n){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:m}=n[p]||We;m&&(i=r.map(d=>Je(d)?d.trim():d)),h&&(i=r.map(Ws))}let o,l=n[o=Ui(t)]||n[o=Ui(At(t))];!l&&s&&(l=n[o=Ui(Ut(t))]),l&&Nt(l,e,6,i);const u=n[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Nt(u,e,6,i)}}function wh(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const s=e.emits;let a={},o=!1;if(!xe(e)){const l=u=>{const p=wh(u,t,!0);p&&(o=!0,Ye(a,p))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!o?(Ke(e)&&n.set(e,null),null):(be(s)?s.forEach(l=>a[l]=null):Ye(a,s),Ke(e)&&n.set(e,a),a)}function da(e,t){return!e||!is(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ge(e,t[0].toLowerCase()+t.slice(1))||Ge(e,Ut(t))||Ge(e,t))}let ht=null,ga=null;function Qi(e){const t=ht;return ht=e,ga=e&&e.type.__scopeId||null,t}function K1(e){ga=e}function q1(){ga=null}const z1=e=>tr;function tr(e,t=ht,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&vo(-1);const s=Qi(t);let a;try{a=e(...i)}finally{Qi(s),n._d&&vo(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function Bs(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:s,propsOptions:[a],slots:o,attrs:l,emit:u,render:p,renderCache:h,data:m,setupState:d,ctx:g,inheritAttrs:b}=e;let S,T;const f=Qi(e);try{if(r.shapeFlag&4){const y=i||n;S=Mt(p.call(y,y,h,s,d,m,g)),T=l}else{const y=t;S=Mt(y.length>1?y(s,{attrs:l,slots:o,emit:u}):y(s,null)),T=t.props?l:Y1(l)}}catch(y){$i.length=0,sn(y,e,1),S=ke(_t)}let c=S;if(T&&b!==!1){const y=Object.keys(T),{shapeFlag:_}=c;y.length&&_&7&&(a&&y.some(Ro)&&(T=X1(T,a)),c=rr(c,T))}return r.dirs&&(c=rr(c),c.dirs=c.dirs?c.dirs.concat(r.dirs):r.dirs),r.transition&&(c.transition=r.transition),S=c,Qi(f),S}function j1(e){let t;for(let r=0;r<e.length;r++){const n=e[r];if(Ir(n)){if(n.type!==_t||n.children==="v-if"){if(t)return;t=n}}else return}return t}const Y1=e=>{let t;for(const r in e)(r==="class"||r==="style"||is(r))&&((t||(t={}))[r]=e[r]);return t},X1=(e,t)=>{const r={};for(const n in e)(!Ro(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Z1(e,t,r){const{props:n,children:i,component:s}=e,{props:a,children:o,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Hl(n,a,u):!!a;if(l&8){const p=t.dynamicProps;for(let h=0;h<p.length;h++){const m=p[h];if(a[m]!==n[m]&&!da(u,m))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Hl(n,a,u):!0:!!a;return!1}function Hl(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(t[s]!==e[s]&&!da(r,s))return!0}return!1}function Zo({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Th=e=>e.__isSuspense,J1={name:"Suspense",__isSuspense:!0,process(e,t,r,n,i,s,a,o,l,u){e==null?eg(t,r,n,i,s,a,o,l,u):tg(e,t,r,n,i,a,o,l,u)},hydrate:rg,create:Jo,normalize:ng},Q1=J1;function es(e,t){const r=e.props&&e.props[t];xe(r)&&r()}function eg(e,t,r,n,i,s,a,o,l){const{p:u,o:{createElement:p}}=l,h=p("div"),m=e.suspense=Jo(e,i,n,t,h,r,s,a,o,l);u(null,m.pendingBranch=e.ssContent,h,null,n,m,s,a),m.deps>0?(es(e,"onPending"),es(e,"onFallback"),u(null,e.ssFallback,t,r,n,null,s,a),Sn(m,e.ssFallback)):m.resolve(!1,!0)}function tg(e,t,r,n,i,s,a,o,{p:l,um:u,o:{createElement:p}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const m=t.ssContent,d=t.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:S,isHydrating:T}=h;if(b)h.pendingBranch=m,zt(m,b)?(l(b,m,h.hiddenContainer,null,i,h,s,a,o),h.deps<=0?h.resolve():S&&(l(g,d,r,n,i,null,s,a,o),Sn(h,d))):(h.pendingId++,T?(h.isHydrating=!1,h.activeBranch=b):u(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=p("div"),S?(l(null,m,h.hiddenContainer,null,i,h,s,a,o),h.deps<=0?h.resolve():(l(g,d,r,n,i,null,s,a,o),Sn(h,d))):g&&zt(m,g)?(l(g,m,r,n,i,h,s,a,o),h.resolve(!0)):(l(null,m,h.hiddenContainer,null,i,h,s,a,o),h.deps<=0&&h.resolve()));else if(g&&zt(m,g))l(g,m,r,n,i,h,s,a,o),Sn(h,m);else if(es(t,"onPending"),h.pendingBranch=m,h.pendingId++,l(null,m,h.hiddenContainer,null,i,h,s,a,o),h.deps<=0)h.resolve();else{const{timeout:f,pendingId:c}=h;f>0?setTimeout(()=>{h.pendingId===c&&h.fallback(d)},f):f===0&&h.fallback(d)}}function Jo(e,t,r,n,i,s,a,o,l,u,p=!1){const{p:h,m,um:d,n:g,o:{parentNode:b,remove:S}}=u;let T;const f=ig(e);f&&t!=null&&t.pendingBranch&&(T=t.pendingId,t.deps++);const c=e.props?Ks(e.props.timeout):void 0,y={vnode:e,parent:t,parentComponent:r,isSVG:a,container:n,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof c=="number"?c:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:p,isUnmounted:!1,effects:[],resolve(_=!1,k=!1){const{vnode:N,activeBranch:w,pendingBranch:x,pendingId:E,effects:M,parentComponent:R,container:v}=y;if(y.isHydrating)y.isHydrating=!1;else if(!_){const O=w&&x.transition&&x.transition.mode==="out-in";O&&(w.transition.afterLeave=()=>{E===y.pendingId&&m(x,v,D,0)});let{anchor:D}=y;w&&(D=g(w),d(w,R,y,!0)),O||m(x,v,D,0)}Sn(y,x),y.pendingBranch=null,y.isInFallback=!1;let C=y.parent,A=!1;for(;C;){if(C.pendingBranch){C.effects.push(...M),A=!0;break}C=C.parent}A||Xo(M),y.effects=[],f&&t&&t.pendingBranch&&T===t.pendingId&&(t.deps--,t.deps===0&&!k&&t.resolve()),es(N,"onResolve")},fallback(_){if(!y.pendingBranch)return;const{vnode:k,activeBranch:N,parentComponent:w,container:x,isSVG:E}=y;es(k,"onFallback");const M=g(N),R=()=>{y.isInFallback&&(h(null,_,x,M,w,null,E,o,l),Sn(y,_))},v=_.transition&&_.transition.mode==="out-in";v&&(N.transition.afterLeave=R),y.isInFallback=!0,d(N,w,null,!0),v||R()},move(_,k,N){y.activeBranch&&m(y.activeBranch,_,k,N),y.container=_},next(){return y.activeBranch&&g(y.activeBranch)},registerDep(_,k){const N=!!y.pendingBranch;N&&y.deps++;const w=_.vnode.el;_.asyncDep.catch(x=>{sn(x,_,0)}).then(x=>{if(_.isUnmounted||y.isUnmounted||y.pendingId!==_.suspenseId)return;_.asyncResolved=!0;const{vnode:E}=_;yo(_,x,!1),w&&(E.el=w);const M=!w&&_.subTree.el;k(_,E,b(w||_.subTree.el),w?null:g(_.subTree),y,a,l),M&&S(M),Zo(_,E.el),N&&--y.deps===0&&y.resolve()})},unmount(_,k){y.isUnmounted=!0,y.activeBranch&&d(y.activeBranch,r,_,k),y.pendingBranch&&d(y.pendingBranch,r,_,k)}};return y}function rg(e,t,r,n,i,s,a,o,l){const u=t.suspense=Jo(t,n,r,e.parentNode,document.createElement("div"),null,i,s,a,o,!0),p=l(e,u.pendingBranch=t.ssContent,r,u,s,a);return u.deps===0&&u.resolve(!1,!0),p}function ng(e){const{shapeFlag:t,children:r}=e,n=t&32;e.ssContent=$l(n?r.default:r),e.ssFallback=n?$l(r.fallback):ke(_t)}function $l(e){let t;if(xe(e)){const r=rn&&e._c;r&&(e._d=!1,fe()),e=e(),r&&(e._d=!0,t=xt,tf())}return be(e)&&(e=j1(e)),e=Mt(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function Eh(e,t){t&&t.pendingBranch?be(e)?t.effects.push(...e):t.effects.push(e):Xo(e)}function Sn(e,t){e.activeBranch=t;const{vnode:r,parentComponent:n}=e,i=r.el=t.el;n&&n.subTree===r&&(n.vnode.el=i,Zo(n,i))}function ig(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function sg(e,t){return us(e,null,t)}function xh(e,t){return us(e,null,{flush:"post"})}function ag(e,t){return us(e,null,{flush:"sync"})}const Ts={};function Mr(e,t,r){return us(e,t,r)}function us(e,t,{immediate:r,deep:n,flush:i,onTrack:s,onTrigger:a}=We){var o;const l=Uo()===((o=ct)==null?void 0:o.scope)?ct:null;let u,p=!1,h=!1;if(et(e)?(u=()=>e.value,p=Yi(e)):fr(e)?(u=()=>e,n=!0):be(e)?(h=!0,p=e.some(y=>fr(y)||Yi(y)),u=()=>e.map(y=>{if(et(y))return y.value;if(fr(y))return zr(y);if(xe(y))return dr(y,l,2)})):xe(e)?t?u=()=>dr(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return m&&m(),Nt(e,l,3,[d])}:u=Yt,t&&n){const y=u;u=()=>zr(y())}let m,d=y=>{m=f.onStop=()=>{dr(y,l,4)}},g;if(xn)if(d=Yt,t?r&&Nt(t,l,3,[u(),h?[]:void 0,d]):u(),i==="sync"){const y=gf();g=y.__watcherHandles||(y.__watcherHandles=[])}else return Yt;let b=h?new Array(e.length).fill(Ts):Ts;const S=()=>{if(f.active)if(t){const y=f.run();(n||p||(h?y.some((_,k)=>Tn(_,b[k])):Tn(y,b)))&&(m&&m(),Nt(t,l,3,[y,b===Ts?void 0:h&&b[0]===Ts?[]:b,d]),b=y)}else f.run()};S.allowRecurse=!!t;let T;i==="sync"?T=S:i==="post"?T=()=>gt(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),T=()=>fa(S));const f=new as(u,T);t?r?S():b=f.run():i==="post"?gt(f.run.bind(f),l&&l.suspense):f.run();const c=()=>{f.stop(),l&&l.scope&&Io(l.scope.effects,f)};return g&&g.push(c),c}function og(e,t,r){const n=this.proxy,i=Je(e)?e.includes(".")?Ah(n,e):()=>n[e]:e.bind(n,n);let s;xe(t)?s=t:(s=t.handler,r=t);const a=ct;Dr(this);const o=us(i,s.bind(n),r);return a?Dr(a):Nr(),o}function Ah(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function zr(e,t){if(!Ke(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),et(e))zr(e.value,t);else if(be(e))for(let r=0;r<e.length;r++)zr(e[r],t);else if(nn(e)||yn(e))e.forEach(r=>{zr(r,t)});else if(Jc(e))for(const r in e)zr(e[r],t);return e}function mt(e,t){const r=ht;if(r===null)return e;const n=Sa(r)||r.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,o,l,u=We]=t[s];a&&(xe(a)&&(a={mounted:a,updated:a}),a.deep&&zr(o),i.push({dir:a,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return e}function Zt(e,t,r,n){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[n];l&&(Pn(),Nt(l,r,8,[e.el,o,e,t]),Mn())}}function Qo(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hs(()=>{e.isMounted=!0}),ya(()=>{e.isUnmounting=!0}),e}const Lt=[Function,Array],el={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Lt,onEnter:Lt,onAfterEnter:Lt,onEnterCancelled:Lt,onBeforeLeave:Lt,onLeave:Lt,onAfterLeave:Lt,onLeaveCancelled:Lt,onBeforeAppear:Lt,onAppear:Lt,onAfterAppear:Lt,onAppearCancelled:Lt},lg={name:"BaseTransition",props:el,setup(e,{slots:t}){const r=vr(),n=Qo();let i;return()=>{const s=t.default&&ma(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const b of s)if(b.type!==_t){a=b;break}}const o=Ne(e),{mode:l}=o;if(n.isLeaving)return Ia(a);const u=Wl(a);if(!u)return Ia(a);const p=En(u,o,n,r);en(u,p);const h=r.subTree,m=h&&Wl(h);let d=!1;const{getTransitionKey:g}=u.type;if(g){const b=g();i===void 0?i=b:b!==i&&(i=b,d=!0)}if(m&&m.type!==_t&&(!zt(u,m)||d)){const b=En(m,o,n,r);if(en(m,b),l==="out-in")return n.isLeaving=!0,b.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},Ia(a);l==="in-out"&&u.type!==_t&&(b.delayLeave=(S,T,f)=>{const c=Oh(n,m);c[String(m.key)]=m,S._leaveCb=()=>{T(),S._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=f})}return a}}},kh=lg;function Oh(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function En(e,t,r,n){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:p,onBeforeLeave:h,onLeave:m,onAfterLeave:d,onLeaveCancelled:g,onBeforeAppear:b,onAppear:S,onAfterAppear:T,onAppearCancelled:f}=t,c=String(e.key),y=Oh(r,e),_=(w,x)=>{w&&Nt(w,n,9,x)},k=(w,x)=>{const E=x[1];_(w,x),be(w)?w.every(M=>M.length<=1)&&E():w.length<=1&&E()},N={mode:s,persisted:a,beforeEnter(w){let x=o;if(!r.isMounted)if(i)x=b||o;else return;w._leaveCb&&w._leaveCb(!0);const E=y[c];E&&zt(e,E)&&E.el._leaveCb&&E.el._leaveCb(),_(x,[w])},enter(w){let x=l,E=u,M=p;if(!r.isMounted)if(i)x=S||l,E=T||u,M=f||p;else return;let R=!1;const v=w._enterCb=C=>{R||(R=!0,C?_(M,[w]):_(E,[w]),N.delayedLeave&&N.delayedLeave(),w._enterCb=void 0)};x?k(x,[w,v]):v()},leave(w,x){const E=String(e.key);if(w._enterCb&&w._enterCb(!0),r.isUnmounting)return x();_(h,[w]);let M=!1;const R=w._leaveCb=v=>{M||(M=!0,x(),v?_(g,[w]):_(d,[w]),w._leaveCb=void 0,y[E]===e&&delete y[E])};y[E]=e,m?k(m,[w,R]):R()},clone(w){return En(w,t,r,n)}};return N}function Ia(e){if(cs(e))return e=rr(e),e.children=null,e}function Wl(e){return cs(e)?e.children?e.children[0]:void 0:e}function en(e,t){e.shapeFlag&6&&e.component?en(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ma(e,t=!1,r){let n=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===De?(a.patchFlag&128&&i++,n=n.concat(ma(a.children,t,o))):(t||a.type!==_t)&&n.push(o!=null?rr(a,{key:o}):a)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function tl(e,t){return xe(e)?(()=>Ye({name:e.name},t,{setup:e}))():e}const Xr=e=>!!e.type.__asyncLoader;function ug(e){xe(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:i=200,timeout:s,suspensible:a=!0,onError:o}=e;let l=null,u,p=0;const h=()=>(p++,l=null,m()),m=()=>{let d;return l||(d=l=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),o)return new Promise((b,S)=>{o(g,()=>b(h()),()=>S(g),p+1)});throw g}).then(g=>d!==l&&l?l:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return tl({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return u},setup(){const d=ct;if(u)return()=>Da(u,d);const g=f=>{l=null,sn(f,d,13,!n)};if(a&&d.suspense||xn)return m().then(f=>()=>Da(f,d)).catch(f=>(g(f),()=>n?ke(n,{error:f}):null));const b=Qt(!1),S=Qt(),T=Qt(!!i);return i&&setTimeout(()=>{T.value=!1},i),s!=null&&setTimeout(()=>{if(!b.value&&!S.value){const f=new Error(`Async component timed out after ${s}ms.`);g(f),S.value=f}},s),m().then(()=>{b.value=!0,d.parent&&cs(d.parent.vnode)&&fa(d.parent.update)}).catch(f=>{g(f),S.value=f}),()=>{if(b.value&&u)return Da(u,d);if(S.value&&n)return ke(n,{error:S.value});if(r&&!T.value)return ke(r)}}})}function Da(e,t){const{ref:r,props:n,children:i,ce:s}=t.vnode,a=ke(e,n,i);return a.ref=r,a.ce=s,delete t.vnode.ce,a}const cs=e=>e.type.__isKeepAlive,cg={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=vr(),n=r.ctx;if(!n.renderer)return()=>{const f=t.default&&t.default();return f&&f.length===1?f[0]:f};const i=new Map,s=new Set;let a=null;const o=r.suspense,{renderer:{p:l,m:u,um:p,o:{createElement:h}}}=n,m=h("div");n.activate=(f,c,y,_,k)=>{const N=f.component;u(f,c,y,0,o),l(N.vnode,f,c,y,N,o,_,f.slotScopeIds,k),gt(()=>{N.isDeactivated=!1,N.a&&_n(N.a);const w=f.props&&f.props.onVnodeMounted;w&&Et(w,N.parent,f)},o)},n.deactivate=f=>{const c=f.component;u(f,m,null,1,o),gt(()=>{c.da&&_n(c.da);const y=f.props&&f.props.onVnodeUnmounted;y&&Et(y,c.parent,f),c.isDeactivated=!0},o)};function d(f){La(f),p(f,r,o,!0)}function g(f){i.forEach((c,y)=>{const _=bo(c.type);_&&(!f||!f(_))&&b(y)})}function b(f){const c=i.get(f);!a||!zt(c,a)?d(c):a&&La(a),i.delete(f),s.delete(f)}Mr(()=>[e.include,e.exclude],([f,c])=>{f&&g(y=>Ii(f,y)),c&&g(y=>!Ii(c,y))},{flush:"post",deep:!0});let S=null;const T=()=>{S!=null&&i.set(S,Ba(r.subTree))};return hs(T),va(T),ya(()=>{i.forEach(f=>{const{subTree:c,suspense:y}=r,_=Ba(c);if(f.type===_.type&&f.key===_.key){La(_);const k=_.component.da;k&&gt(k,y);return}d(f)})}),()=>{if(S=null,!t.default)return null;const f=t.default(),c=f[0];if(f.length>1)return a=null,f;if(!Ir(c)||!(c.shapeFlag&4)&&!(c.shapeFlag&128))return a=null,c;let y=Ba(c);const _=y.type,k=bo(Xr(y)?y.type.__asyncResolved||{}:_),{include:N,exclude:w,max:x}=e;if(N&&(!k||!Ii(N,k))||w&&k&&Ii(w,k))return a=y,c;const E=y.key==null?_:y.key,M=i.get(E);return y.el&&(y=rr(y),c.shapeFlag&128&&(c.ssContent=y)),S=E,M?(y.el=M.el,y.component=M.component,y.transition&&en(y,y.transition),y.shapeFlag|=512,s.delete(E),s.add(E)):(s.add(E),x&&s.size>parseInt(x,10)&&b(s.values().next().value)),y.shapeFlag|=256,a=y,Th(c.type)?c:y}}},hg=cg;function Ii(e,t){return be(e)?e.some(r=>Ii(r,t)):Je(e)?e.split(",").includes(t):I0(e)?e.test(t):!1}function Ph(e,t){Nh(e,"a",t)}function Mh(e,t){Nh(e,"da",t)}function Nh(e,t,r=ct){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(pa(t,n,r),r){let i=r.parent;for(;i&&i.parent;)cs(i.parent.vnode)&&fg(n,t,r,i),i=i.parent}}function fg(e,t,r,n){const i=pa(t,e,n,!0);_a(()=>{Io(n[t],i)},r)}function La(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ba(e){return e.shapeFlag&128?e.ssContent:e}function pa(e,t,r=ct,n=!1){if(r){const i=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;Pn(),Dr(r);const o=Nt(t,r,e,a);return Nr(),Mn(),o});return n?i.unshift(s):i.push(s),s}}const pr=e=>(t,r=ct)=>(!xn||e==="sp")&&pa(e,(...n)=>t(...n),r),Fh=pr("bm"),hs=pr("m"),Rh=pr("bu"),va=pr("u"),ya=pr("bum"),_a=pr("um"),Ih=pr("sp"),Dh=pr("rtg"),Lh=pr("rtc");function Bh(e,t=ct){pa("ec",e,t)}const rl="components",dg="directives";function qe(e,t){return nl(rl,e,!0,t)||e}const Gh=Symbol.for("v-ndc");function gg(e){return Je(e)?nl(rl,e,!1)||e:e||Gh}function mg(e){return nl(dg,e)}function nl(e,t,r=!0,n=!1){const i=ht||ct;if(i){const s=i.type;if(e===rl){const o=bo(s,!1);if(o&&(o===t||o===At(t)||o===ss(At(t))))return s}const a=Kl(i[e]||s[e],t)||Kl(i.appContext[e],t);return!a&&n?s:a}}function Kl(e,t){return e&&(e[t]||e[At(t)]||e[ss(At(t))])}function Rt(e,t,r,n){let i;const s=r&&r[n];if(be(e)||Je(e)){i=new Array(e.length);for(let a=0,o=e.length;a<o;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(Ke(e))if(e[Symbol.iterator])i=Array.from(e,(a,o)=>t(a,o,void 0,s&&s[o]));else{const a=Object.keys(e);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=t(e[u],u,o,s&&s[o])}}else i=[];return r&&(r[n]=i),i}function pg(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(be(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const s=n.fn(...i);return s&&(s.key=n.key),s}:n.fn)}return e}function js(e,t,r={},n,i){if(ht.isCE||ht.parent&&Xr(ht.parent)&&ht.parent.isCE)return t!=="default"&&(r.name=t),ke("slot",r,n&&n());let s=e[t];s&&s._c&&(s._d=!1),fe();const a=s&&Uh(s(r)),o=Ht(De,{key:r.key||a&&a.key||`_${t}`},a||(n?n():[]),a&&e._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Uh(e){return e.some(t=>Ir(t)?!(t.type===_t||t.type===De&&!Uh(t.children)):!0)?e:null}function vg(e,t){const r={};for(const n in e)r[t&&/[A-Z]/.test(n)?`on:${n}`:Ui(n)]=e[n];return r}const co=e=>e?lf(e)?Sa(e)||e.proxy:co(e.parent):null,Vi=Ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>co(e.parent),$root:e=>co(e.root),$emit:e=>e.emit,$options:e=>il(e),$forceUpdate:e=>e.f||(e.f=()=>fa(e.update)),$nextTick:e=>e.n||(e.n=ha.bind(e.proxy)),$watch:e=>og.bind(e)}),Ga=(e,t)=>e!==We&&!e.__isScriptSetup&&Ge(e,t),ho={get({_:e},t){const{ctx:r,setupState:n,data:i,props:s,accessCache:a,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return s[t]}else{if(Ga(n,t))return a[t]=1,n[t];if(i!==We&&Ge(i,t))return a[t]=2,i[t];if((u=e.propsOptions[0])&&Ge(u,t))return a[t]=3,s[t];if(r!==We&&Ge(r,t))return a[t]=4,r[t];fo&&(a[t]=0)}}const p=Vi[t];let h,m;if(p)return t==="$attrs"&&kt(e,"get",t),p(e);if((h=o.__cssModules)&&(h=h[t]))return h;if(r!==We&&Ge(r,t))return a[t]=4,r[t];if(m=l.config.globalProperties,Ge(m,t))return m[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:s}=e;return Ga(i,t)?(i[t]=r,!0):n!==We&&Ge(n,t)?(n[t]=r,!0):Ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:s}},a){let o;return!!r[a]||e!==We&&Ge(e,a)||Ga(t,a)||(o=s[0])&&Ge(o,a)||Ge(n,a)||Ge(Vi,a)||Ge(i.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ge(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},yg=Ye({},ho,{get(e,t){if(t!==Symbol.unscopables)return ho.get(e,t,e)},has(e,t){return t[0]!=="_"&&!U0(t)}});function _g(){return null}function bg(){return null}function Sg(e){}function Cg(e){}function wg(){return null}function Tg(){}function Eg(e,t){return null}function xg(){return Vh().slots}function Ag(){return Vh().attrs}function kg(e,t,r){const n=vr();if(r&&r.local){const i=Qt(e[t]);return Mr(()=>e[t],s=>i.value=s),Mr(i,s=>{s!==e[t]&&n.emit(`update:${t}`,s)}),i}else return{__v_isRef:!0,get value(){return e[t]},set value(i){n.emit(`update:${t}`,i)}}}function Vh(){const e=vr();return e.setupContext||(e.setupContext=hf(e))}function ts(e){return be(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function Og(e,t){const r=ts(e);for(const n in t){if(n.startsWith("__skip"))continue;let i=r[n];i?be(i)||xe(i)?i=r[n]={type:i,default:t[n]}:i.default=t[n]:i===null&&(i=r[n]={default:t[n]}),i&&t[`__skip_${n}`]&&(i.skipFactory=!0)}return r}function Pg(e,t){return!e||!t?e||t:be(e)&&be(t)?e.concat(t):Ye({},ts(e),ts(t))}function Mg(e,t){const r={};for(const n in e)t.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>e[n]});return r}function Ng(e){const t=vr();let r=e();return Nr(),Do(r)&&(r=r.catch(n=>{throw Dr(t),n})),[r,()=>Dr(t)]}let fo=!0;function Fg(e){const t=il(e),r=e.proxy,n=e.ctx;fo=!1,t.beforeCreate&&ql(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:p,beforeMount:h,mounted:m,beforeUpdate:d,updated:g,activated:b,deactivated:S,beforeDestroy:T,beforeUnmount:f,destroyed:c,unmounted:y,render:_,renderTracked:k,renderTriggered:N,errorCaptured:w,serverPrefetch:x,expose:E,inheritAttrs:M,components:R,directives:v,filters:C}=t;if(u&&Rg(u,n,null),a)for(const D in a){const L=a[D];xe(L)&&(n[D]=L.bind(r))}if(i){const D=i.call(r,r);Ke(D)&&(e.data=os(D))}if(fo=!0,s)for(const D in s){const L=s[D],U=xe(L)?L.bind(r,r):xe(L.get)?L.get.bind(r,r):Yt,$=!xe(L)&&xe(L.set)?L.set.bind(r):Yt,Z=ul({get:U,set:$});Object.defineProperty(n,D,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ne=>Z.value=ne})}if(o)for(const D in o)Hh(o[D],n,r,D);if(l){const D=xe(l)?l.call(r):l;Reflect.ownKeys(D).forEach(L=>{Wh(L,D[L])})}p&&ql(p,e,"c");function O(D,L){be(L)?L.forEach(U=>D(U.bind(r))):L&&D(L.bind(r))}if(O(Fh,h),O(hs,m),O(Rh,d),O(va,g),O(Ph,b),O(Mh,S),O(Bh,w),O(Lh,k),O(Dh,N),O(ya,f),O(_a,y),O(Ih,x),be(E))if(E.length){const D=e.exposed||(e.exposed={});E.forEach(L=>{Object.defineProperty(D,L,{get:()=>r[L],set:U=>r[L]=U})})}else e.exposed||(e.exposed={});_&&e.render===Yt&&(e.render=_),M!=null&&(e.inheritAttrs=M),R&&(e.components=R),v&&(e.directives=v)}function Rg(e,t,r=Yt){be(e)&&(e=go(e));for(const n in e){const i=e[n];let s;Ke(i)?"default"in i?s=Cn(i.from||n,i.default,!0):s=Cn(i.from||n):s=Cn(i),et(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[n]=s}}function ql(e,t,r){Nt(be(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Hh(e,t,r,n){const i=n.includes(".")?Ah(r,n):()=>r[n];if(Je(e)){const s=t[e];xe(s)&&Mr(i,s)}else if(xe(e))Mr(i,e.bind(r));else if(Ke(e))if(be(e))e.forEach(s=>Hh(s,t,r,n));else{const s=xe(e.handler)?e.handler.bind(r):t[e.handler];xe(s)&&Mr(i,s,e)}}function il(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let l;return o?l=o:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>Ys(l,u,a,!0)),Ys(l,t,a)),Ke(t)&&s.set(t,l),l}function Ys(e,t,r,n=!1){const{mixins:i,extends:s}=t;s&&Ys(e,s,r,!0),i&&i.forEach(a=>Ys(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const o=Ig[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const Ig={data:zl,props:jl,emits:jl,methods:Di,computed:Di,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:Di,directives:Di,watch:Lg,provide:zl,inject:Dg};function zl(e,t){return t?e?function(){return Ye(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function Dg(e,t){return Di(go(e),go(t))}function go(e){if(be(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ct(e,t){return e?[...new Set([].concat(e,t))]:t}function Di(e,t){return e?Ye(Object.create(null),e,t):t}function jl(e,t){return e?be(e)&&be(t)?[...new Set([...e,...t])]:Ye(Object.create(null),ts(e),ts(t??{})):t}function Lg(e,t){if(!e)return t;if(!t)return e;const r=Ye(Object.create(null),e);for(const n in t)r[n]=Ct(e[n],t[n]);return r}function $h(){return{app:null,config:{isNativeTag:N0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bg=0;function Gg(e,t){return function(n,i=null){xe(n)||(n=Ye({},n)),i!=null&&!Ke(i)&&(i=null);const s=$h(),a=new Set;let o=!1;const l=s.app={_uid:Bg++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:pf,get config(){return s.config},set config(u){},use(u,...p){return a.has(u)||(u&&xe(u.install)?(a.add(u),u.install(l,...p)):xe(u)&&(a.add(u),u(l,...p))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,p){return p?(s.components[u]=p,l):s.components[u]},directive(u,p){return p?(s.directives[u]=p,l):s.directives[u]},mount(u,p,h){if(!o){const m=ke(n,i);return m.appContext=s,p&&t?t(m,u):e(m,u,h),o=!0,l._container=u,u.__vue_app__=l,Sa(m.component)||m.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,p){return s.provides[u]=p,l},runWithContext(u){rs=l;try{return u()}finally{rs=null}}};return l}}let rs=null;function Wh(e,t){if(ct){let r=ct.provides;const n=ct.parent&&ct.parent.provides;n===r&&(r=ct.provides=Object.create(n)),r[e]=t}}function Cn(e,t,r=!1){const n=ct||ht;if(n||rs){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:rs._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&xe(t)?t.call(n&&n.proxy):t}}function Kh(){return!!(ct||ht||rs)}function Ug(e,t,r,n=!1){const i={},s={};$s(s,ba,1),e.propsDefaults=Object.create(null),qh(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=n?i:mh(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function Vg(e,t,r,n){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,o=Ne(i),[l]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let h=0;h<p.length;h++){let m=p[h];if(da(e.emitsOptions,m))continue;const d=t[m];if(l)if(Ge(s,m))d!==s[m]&&(s[m]=d,u=!0);else{const g=At(m);i[g]=mo(l,o,g,d,e,!1)}else d!==s[m]&&(s[m]=d,u=!0)}}}else{qh(e,t,i,s)&&(u=!0);let p;for(const h in o)(!t||!Ge(t,h)&&((p=Ut(h))===h||!Ge(t,p)))&&(l?r&&(r[h]!==void 0||r[p]!==void 0)&&(i[h]=mo(l,o,h,void 0,e,!0)):delete i[h]);if(s!==o)for(const h in s)(!t||!Ge(t,h))&&(delete s[h],u=!0)}u&&gr(e,"set","$attrs")}function qh(e,t,r,n){const[i,s]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(Gi(l))continue;const u=t[l];let p;i&&Ge(i,p=At(l))?!s||!s.includes(p)?r[p]=u:(o||(o={}))[p]=u:da(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(s){const l=Ne(r),u=o||We;for(let p=0;p<s.length;p++){const h=s[p];r[h]=mo(i,l,h,u[h],e,!Ge(u,h))}}return a}function mo(e,t,r,n,i,s){const a=e[r];if(a!=null){const o=Ge(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&xe(l)){const{propsDefaults:u}=i;r in u?n=u[r]:(Dr(i),n=u[r]=l.call(null,t),Nr())}else n=l}a[0]&&(s&&!o?n=!1:a[1]&&(n===""||n===Ut(r))&&(n=!0))}return n}function zh(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const s=e.props,a={},o=[];let l=!1;if(!xe(e)){const p=h=>{l=!0;const[m,d]=zh(h,t,!0);Ye(a,m),d&&o.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!l)return Ke(e)&&n.set(e,vn),vn;if(be(s))for(let p=0;p<s.length;p++){const h=At(s[p]);Yl(h)&&(a[h]=We)}else if(s)for(const p in s){const h=At(p);if(Yl(h)){const m=s[p],d=a[h]=be(m)||xe(m)?{type:m}:Ye({},m);if(d){const g=Jl(Boolean,d.type),b=Jl(String,d.type);d[0]=g>-1,d[1]=b<0||g<b,(g>-1||Ge(d,"default"))&&o.push(h)}}}const u=[a,o];return Ke(e)&&n.set(e,u),u}function Yl(e){return e[0]!=="$"}function Xl(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Zl(e,t){return Xl(e)===Xl(t)}function Jl(e,t){return be(t)?t.findIndex(r=>Zl(r,e)):xe(t)&&Zl(t,e)?0:-1}const jh=e=>e[0]==="_"||e==="$stable",sl=e=>be(e)?e.map(Mt):[Mt(e)],Hg=(e,t,r)=>{if(t._n)return t;const n=tr((...i)=>sl(t(...i)),r);return n._c=!1,n},Yh=(e,t,r)=>{const n=e._ctx;for(const i in e){if(jh(i))continue;const s=e[i];if(xe(s))t[i]=Hg(i,s,n);else if(s!=null){const a=sl(s);t[i]=()=>a}}},Xh=(e,t)=>{const r=sl(t);e.slots.default=()=>r},$g=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Ne(t),$s(t,"_",r)):Yh(t,e.slots={})}else e.slots={},t&&Xh(e,t);$s(e.slots,ba,1)},Wg=(e,t,r)=>{const{vnode:n,slots:i}=e;let s=!0,a=We;if(n.shapeFlag&32){const o=t._;o?r&&o===1?s=!1:(Ye(i,t),!r&&o===1&&delete i._):(s=!t.$stable,Yh(t,i)),a=t}else t&&(Xh(e,t),a={default:1});if(s)for(const o in i)!jh(o)&&!(o in a)&&delete i[o]};function Xs(e,t,r,n,i=!1){if(be(e)){e.forEach((m,d)=>Xs(m,t&&(be(t)?t[d]:t),r,n,i));return}if(Xr(n)&&!i)return;const s=n.shapeFlag&4?Sa(n.component)||n.component.proxy:n.el,a=i?null:s,{i:o,r:l}=e,u=t&&t.r,p=o.refs===We?o.refs={}:o.refs,h=o.setupState;if(u!=null&&u!==l&&(Je(u)?(p[u]=null,Ge(h,u)&&(h[u]=null)):et(u)&&(u.value=null)),xe(l))dr(l,o,12,[a,p]);else{const m=Je(l),d=et(l);if(m||d){const g=()=>{if(e.f){const b=m?Ge(h,l)?h[l]:p[l]:l.value;i?be(b)&&Io(b,s):be(b)?b.includes(s)||b.push(s):m?(p[l]=[s],Ge(h,l)&&(h[l]=p[l])):(l.value=[s],e.k&&(p[e.k]=l.value))}else m?(p[l]=a,Ge(h,l)&&(h[l]=a)):d&&(l.value=a,e.k&&(p[e.k]=a))};a?(g.id=-1,gt(g,r)):g()}}}let Sr=!1;const Es=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",xs=e=>e.nodeType===8;function Kg(e){const{mt:t,p:r,o:{patchProp:n,createText:i,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:u}}=e,p=(T,f)=>{if(!f.hasChildNodes()){r(null,T,f),zs(),f._vnode=T;return}Sr=!1,h(f.firstChild,T,null,null,null),zs(),f._vnode=T,Sr&&console.error("Hydration completed but contains mismatches.")},h=(T,f,c,y,_,k=!1)=>{const N=xs(T)&&T.data==="[",w=()=>b(T,f,c,y,_,N),{type:x,ref:E,shapeFlag:M,patchFlag:R}=f;let v=T.nodeType;f.el=T,R===-2&&(k=!1,f.dynamicChildren=null);let C=null;switch(x){case tn:v!==3?f.children===""?(l(f.el=i(""),a(T),T),C=T):C=w():(T.data!==f.children&&(Sr=!0,T.data=f.children),C=s(T));break;case _t:v!==8||N?C=w():C=s(T);break;case Zr:if(N&&(T=s(T),v=T.nodeType),v===1||v===3){C=T;const A=!f.children.length;for(let O=0;O<f.staticCount;O++)A&&(f.children+=C.nodeType===1?C.outerHTML:C.data),O===f.staticCount-1&&(f.anchor=C),C=s(C);return N?s(C):C}else w();break;case De:N?C=g(T,f,c,y,_,k):C=w();break;default:if(M&1)v!==1||f.type.toLowerCase()!==T.tagName.toLowerCase()?C=w():C=m(T,f,c,y,_,k);else if(M&6){f.slotScopeIds=_;const A=a(T);if(t(f,A,null,c,y,Es(A),k),C=N?S(T):s(T),C&&xs(C)&&C.data==="teleport end"&&(C=s(C)),Xr(f)){let O;N?(O=ke(De),O.anchor=C?C.previousSibling:A.lastChild):O=T.nodeType===3?ut(""):ke("div"),O.el=T,f.component.subTree=O}}else M&64?v!==8?C=w():C=f.type.hydrate(T,f,c,y,_,k,e,d):M&128&&(C=f.type.hydrate(T,f,c,y,Es(a(T)),_,k,e,h))}return E!=null&&Xs(E,null,y,f),C},m=(T,f,c,y,_,k)=>{k=k||!!f.dynamicChildren;const{type:N,props:w,patchFlag:x,shapeFlag:E,dirs:M}=f,R=N==="input"&&M||N==="option";if(R||x!==-1){if(M&&Zt(f,null,c,"created"),w)if(R||!k||x&48)for(const C in w)(R&&C.endsWith("value")||is(C)&&!Gi(C))&&n(T,C,null,w[C],!1,void 0,c);else w.onClick&&n(T,"onClick",null,w.onClick,!1,void 0,c);let v;if((v=w&&w.onVnodeBeforeMount)&&Et(v,c,f),M&&Zt(f,null,c,"beforeMount"),((v=w&&w.onVnodeMounted)||M)&&Eh(()=>{v&&Et(v,c,f),M&&Zt(f,null,c,"mounted")},y),E&16&&!(w&&(w.innerHTML||w.textContent))){let C=d(T.firstChild,f,T,c,y,_,k);for(;C;){Sr=!0;const A=C;C=C.nextSibling,o(A)}}else E&8&&T.textContent!==f.children&&(Sr=!0,T.textContent=f.children)}return T.nextSibling},d=(T,f,c,y,_,k,N)=>{N=N||!!f.dynamicChildren;const w=f.children,x=w.length;for(let E=0;E<x;E++){const M=N?w[E]:w[E]=Mt(w[E]);if(T)T=h(T,M,y,_,k,N);else{if(M.type===tn&&!M.children)continue;Sr=!0,r(null,M,c,null,y,_,Es(c),k)}}return T},g=(T,f,c,y,_,k)=>{const{slotScopeIds:N}=f;N&&(_=_?_.concat(N):N);const w=a(T),x=d(s(T),f,w,c,y,_,k);return x&&xs(x)&&x.data==="]"?s(f.anchor=x):(Sr=!0,l(f.anchor=u("]"),w,x),x)},b=(T,f,c,y,_,k)=>{if(Sr=!0,f.el=null,k){const x=S(T);for(;;){const E=s(T);if(E&&E!==x)o(E);else break}}const N=s(T),w=a(T);return o(T),r(null,f,w,N,c,y,Es(w),_),N},S=T=>{let f=0;for(;T;)if(T=s(T),T&&xs(T)&&(T.data==="["&&f++,T.data==="]")){if(f===0)return s(T);f--}return T};return[p,h]}const gt=Eh;function Zh(e){return Qh(e)}function Jh(e){return Qh(e,Kg)}function Qh(e,t){const r=so();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:p,parentNode:h,nextSibling:m,setScopeId:d=Yt,insertStaticContent:g}=e,b=(I,V,Y,z=null,X=null,Q=null,ae=!1,re=null,oe=!!V.dynamicChildren)=>{if(I===V)return;I&&!zt(I,V)&&(z=B(I),ne(I,X,Q,!0),I=null),V.patchFlag===-2&&(oe=!1,V.dynamicChildren=null);const{type:ee,ref:ve,shapeFlag:ce}=V;switch(ee){case tn:S(I,V,Y,z);break;case _t:T(I,V,Y,z);break;case Zr:I==null&&f(V,Y,z,ae);break;case De:R(I,V,Y,z,X,Q,ae,re,oe);break;default:ce&1?_(I,V,Y,z,X,Q,ae,re,oe):ce&6?v(I,V,Y,z,X,Q,ae,re,oe):(ce&64||ce&128)&&ee.process(I,V,Y,z,X,Q,ae,re,oe,ie)}ve!=null&&X&&Xs(ve,I&&I.ref,Q,V||I,!V)},S=(I,V,Y,z)=>{if(I==null)n(V.el=o(V.children),Y,z);else{const X=V.el=I.el;V.children!==I.children&&u(X,V.children)}},T=(I,V,Y,z)=>{I==null?n(V.el=l(V.children||""),Y,z):V.el=I.el},f=(I,V,Y,z)=>{[I.el,I.anchor]=g(I.children,V,Y,z,I.el,I.anchor)},c=({el:I,anchor:V},Y,z)=>{let X;for(;I&&I!==V;)X=m(I),n(I,Y,z),I=X;n(V,Y,z)},y=({el:I,anchor:V})=>{let Y;for(;I&&I!==V;)Y=m(I),i(I),I=Y;i(V)},_=(I,V,Y,z,X,Q,ae,re,oe)=>{ae=ae||V.type==="svg",I==null?k(V,Y,z,X,Q,ae,re,oe):x(I,V,X,Q,ae,re,oe)},k=(I,V,Y,z,X,Q,ae,re)=>{let oe,ee;const{type:ve,props:ce,shapeFlag:_e,transition:we,dirs:Ae}=I;if(oe=I.el=a(I.type,Q,ce&&ce.is,ce),_e&8?p(oe,I.children):_e&16&&w(I.children,oe,null,z,X,Q&&ve!=="foreignObject",ae,re),Ae&&Zt(I,null,z,"created"),N(oe,I,I.scopeId,ae,z),ce){for(const Oe in ce)Oe!=="value"&&!Gi(Oe)&&s(oe,Oe,null,ce[Oe],Q,I.children,z,X,ye);"value"in ce&&s(oe,"value",null,ce.value),(ee=ce.onVnodeBeforeMount)&&Et(ee,z,I)}Ae&&Zt(I,null,z,"beforeMount");const Ie=(!X||X&&!X.pendingBranch)&&we&&!we.persisted;Ie&&we.beforeEnter(oe),n(oe,V,Y),((ee=ce&&ce.onVnodeMounted)||Ie||Ae)&&gt(()=>{ee&&Et(ee,z,I),Ie&&we.enter(oe),Ae&&Zt(I,null,z,"mounted")},X)},N=(I,V,Y,z,X)=>{if(Y&&d(I,Y),z)for(let Q=0;Q<z.length;Q++)d(I,z[Q]);if(X){let Q=X.subTree;if(V===Q){const ae=X.vnode;N(I,ae,ae.scopeId,ae.slotScopeIds,X.parent)}}},w=(I,V,Y,z,X,Q,ae,re,oe=0)=>{for(let ee=oe;ee<I.length;ee++){const ve=I[ee]=re?Ar(I[ee]):Mt(I[ee]);b(null,ve,V,Y,z,X,Q,ae,re)}},x=(I,V,Y,z,X,Q,ae)=>{const re=V.el=I.el;let{patchFlag:oe,dynamicChildren:ee,dirs:ve}=V;oe|=I.patchFlag&16;const ce=I.props||We,_e=V.props||We;let we;Y&&Gr(Y,!1),(we=_e.onVnodeBeforeUpdate)&&Et(we,Y,V,I),ve&&Zt(V,I,Y,"beforeUpdate"),Y&&Gr(Y,!0);const Ae=X&&V.type!=="foreignObject";if(ee?E(I.dynamicChildren,ee,re,Y,z,Ae,Q):ae||L(I,V,re,null,Y,z,Ae,Q,!1),oe>0){if(oe&16)M(re,V,ce,_e,Y,z,X);else if(oe&2&&ce.class!==_e.class&&s(re,"class",null,_e.class,X),oe&4&&s(re,"style",ce.style,_e.style,X),oe&8){const Ie=V.dynamicProps;for(let Oe=0;Oe<Ie.length;Oe++){const ze=Ie[Oe],pt=ce[ze],bt=_e[ze];(bt!==pt||ze==="value")&&s(re,ze,pt,bt,X,I.children,Y,z,ye)}}oe&1&&I.children!==V.children&&p(re,V.children)}else!ae&&ee==null&&M(re,V,ce,_e,Y,z,X);((we=_e.onVnodeUpdated)||ve)&&gt(()=>{we&&Et(we,Y,V,I),ve&&Zt(V,I,Y,"updated")},z)},E=(I,V,Y,z,X,Q,ae)=>{for(let re=0;re<V.length;re++){const oe=I[re],ee=V[re],ve=oe.el&&(oe.type===De||!zt(oe,ee)||oe.shapeFlag&70)?h(oe.el):Y;b(oe,ee,ve,null,z,X,Q,ae,!0)}},M=(I,V,Y,z,X,Q,ae)=>{if(Y!==z){if(Y!==We)for(const re in Y)!Gi(re)&&!(re in z)&&s(I,re,Y[re],null,ae,V.children,X,Q,ye);for(const re in z){if(Gi(re))continue;const oe=z[re],ee=Y[re];oe!==ee&&re!=="value"&&s(I,re,ee,oe,ae,V.children,X,Q,ye)}"value"in z&&s(I,"value",Y.value,z.value)}},R=(I,V,Y,z,X,Q,ae,re,oe)=>{const ee=V.el=I?I.el:o(""),ve=V.anchor=I?I.anchor:o("");let{patchFlag:ce,dynamicChildren:_e,slotScopeIds:we}=V;we&&(re=re?re.concat(we):we),I==null?(n(ee,Y,z),n(ve,Y,z),w(V.children,Y,ve,X,Q,ae,re,oe)):ce>0&&ce&64&&_e&&I.dynamicChildren?(E(I.dynamicChildren,_e,Y,X,Q,ae,re),(V.key!=null||X&&V===X.subTree)&&al(I,V,!0)):L(I,V,Y,ve,X,Q,ae,re,oe)},v=(I,V,Y,z,X,Q,ae,re,oe)=>{V.slotScopeIds=re,I==null?V.shapeFlag&512?X.ctx.activate(V,Y,z,ae,oe):C(V,Y,z,X,Q,ae,oe):A(I,V,oe)},C=(I,V,Y,z,X,Q,ae)=>{const re=I.component=of(I,z,X);if(cs(I)&&(re.ctx.renderer=ie),uf(re),re.asyncDep){if(X&&X.registerDep(re,O),!I.el){const oe=re.subTree=ke(_t);T(null,oe,V,Y)}return}O(re,I,V,Y,X,Q,ae)},A=(I,V,Y)=>{const z=V.component=I.component;if(Z1(I,V,Y))if(z.asyncDep&&!z.asyncResolved){D(z,V,Y);return}else z.next=V,H1(z.update),z.update();else V.el=I.el,z.vnode=V},O=(I,V,Y,z,X,Q,ae)=>{const re=()=>{if(I.isMounted){let{next:ve,bu:ce,u:_e,parent:we,vnode:Ae}=I,Ie=ve,Oe;Gr(I,!1),ve?(ve.el=Ae.el,D(I,ve,ae)):ve=Ae,ce&&_n(ce),(Oe=ve.props&&ve.props.onVnodeBeforeUpdate)&&Et(Oe,we,ve,Ae),Gr(I,!0);const ze=Bs(I),pt=I.subTree;I.subTree=ze,b(pt,ze,h(pt.el),B(pt),I,X,Q),ve.el=ze.el,Ie===null&&Zo(I,ze.el),_e&&gt(_e,X),(Oe=ve.props&&ve.props.onVnodeUpdated)&&gt(()=>Et(Oe,we,ve,Ae),X)}else{let ve;const{el:ce,props:_e}=V,{bm:we,m:Ae,parent:Ie}=I,Oe=Xr(V);if(Gr(I,!1),we&&_n(we),!Oe&&(ve=_e&&_e.onVnodeBeforeMount)&&Et(ve,Ie,V),Gr(I,!0),ce&&Ce){const ze=()=>{I.subTree=Bs(I),Ce(ce,I.subTree,I,X,null)};Oe?V.type.__asyncLoader().then(()=>!I.isUnmounted&&ze()):ze()}else{const ze=I.subTree=Bs(I);b(null,ze,Y,z,I,X,Q),V.el=ze.el}if(Ae&&gt(Ae,X),!Oe&&(ve=_e&&_e.onVnodeMounted)){const ze=V;gt(()=>Et(ve,Ie,ze),X)}(V.shapeFlag&256||Ie&&Xr(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&I.a&&gt(I.a,X),I.isMounted=!0,V=Y=z=null}},oe=I.effect=new as(re,()=>fa(ee),I.scope),ee=I.update=()=>oe.run();ee.id=I.uid,Gr(I,!0),ee()},D=(I,V,Y)=>{V.component=I;const z=I.vnode.props;I.vnode=V,I.next=null,Vg(I,V.props,z,Y),Wg(I,V.children,Y),Pn(),Vl(),Mn()},L=(I,V,Y,z,X,Q,ae,re,oe=!1)=>{const ee=I&&I.children,ve=I?I.shapeFlag:0,ce=V.children,{patchFlag:_e,shapeFlag:we}=V;if(_e>0){if(_e&128){$(ee,ce,Y,z,X,Q,ae,re,oe);return}else if(_e&256){U(ee,ce,Y,z,X,Q,ae,re,oe);return}}we&8?(ve&16&&ye(ee,X,Q),ce!==ee&&p(Y,ce)):ve&16?we&16?$(ee,ce,Y,z,X,Q,ae,re,oe):ye(ee,X,Q,!0):(ve&8&&p(Y,""),we&16&&w(ce,Y,z,X,Q,ae,re,oe))},U=(I,V,Y,z,X,Q,ae,re,oe)=>{I=I||vn,V=V||vn;const ee=I.length,ve=V.length,ce=Math.min(ee,ve);let _e;for(_e=0;_e<ce;_e++){const we=V[_e]=oe?Ar(V[_e]):Mt(V[_e]);b(I[_e],we,Y,null,X,Q,ae,re,oe)}ee>ve?ye(I,X,Q,!0,!1,ce):w(V,Y,z,X,Q,ae,re,oe,ce)},$=(I,V,Y,z,X,Q,ae,re,oe)=>{let ee=0;const ve=V.length;let ce=I.length-1,_e=ve-1;for(;ee<=ce&&ee<=_e;){const we=I[ee],Ae=V[ee]=oe?Ar(V[ee]):Mt(V[ee]);if(zt(we,Ae))b(we,Ae,Y,null,X,Q,ae,re,oe);else break;ee++}for(;ee<=ce&&ee<=_e;){const we=I[ce],Ae=V[_e]=oe?Ar(V[_e]):Mt(V[_e]);if(zt(we,Ae))b(we,Ae,Y,null,X,Q,ae,re,oe);else break;ce--,_e--}if(ee>ce){if(ee<=_e){const we=_e+1,Ae=we<ve?V[we].el:z;for(;ee<=_e;)b(null,V[ee]=oe?Ar(V[ee]):Mt(V[ee]),Y,Ae,X,Q,ae,re,oe),ee++}}else if(ee>_e)for(;ee<=ce;)ne(I[ee],X,Q,!0),ee++;else{const we=ee,Ae=ee,Ie=new Map;for(ee=Ae;ee<=_e;ee++){const St=V[ee]=oe?Ar(V[ee]):Mt(V[ee]);St.key!=null&&Ie.set(St.key,ee)}let Oe,ze=0;const pt=_e-Ae+1;let bt=!1,Gn=0;const yr=new Array(pt);for(ee=0;ee<pt;ee++)yr[ee]=0;for(ee=we;ee<=ce;ee++){const St=I[ee];if(ze>=pt){ne(St,X,Q,!0);continue}let It;if(St.key!=null)It=Ie.get(St.key);else for(Oe=Ae;Oe<=_e;Oe++)if(yr[Oe-Ae]===0&&zt(St,V[Oe])){It=Oe;break}It===void 0?ne(St,X,Q,!0):(yr[It-Ae]=ee+1,It>=Gn?Gn=It:bt=!0,b(St,V[It],Y,null,X,Q,ae,re,oe),ze++)}const ln=bt?qg(yr):vn;for(Oe=ln.length-1,ee=pt-1;ee>=0;ee--){const St=Ae+ee,It=V[St],un=St+1<ve?V[St+1].el:z;yr[ee]===0?b(null,It,Y,un,X,Q,ae,re,oe):bt&&(Oe<0||ee!==ln[Oe]?Z(It,Y,un,2):Oe--)}}},Z=(I,V,Y,z,X=null)=>{const{el:Q,type:ae,transition:re,children:oe,shapeFlag:ee}=I;if(ee&6){Z(I.component.subTree,V,Y,z);return}if(ee&128){I.suspense.move(V,Y,z);return}if(ee&64){ae.move(I,V,Y,ie);return}if(ae===De){n(Q,V,Y);for(let ce=0;ce<oe.length;ce++)Z(oe[ce],V,Y,z);n(I.anchor,V,Y);return}if(ae===Zr){c(I,V,Y);return}if(z!==2&&ee&1&&re)if(z===0)re.beforeEnter(Q),n(Q,V,Y),gt(()=>re.enter(Q),X);else{const{leave:ce,delayLeave:_e,afterLeave:we}=re,Ae=()=>n(Q,V,Y),Ie=()=>{ce(Q,()=>{Ae(),we&&we()})};_e?_e(Q,Ae,Ie):Ie()}else n(Q,V,Y)},ne=(I,V,Y,z=!1,X=!1)=>{const{type:Q,props:ae,ref:re,children:oe,dynamicChildren:ee,shapeFlag:ve,patchFlag:ce,dirs:_e}=I;if(re!=null&&Xs(re,null,Y,I,!0),ve&256){V.ctx.deactivate(I);return}const we=ve&1&&_e,Ae=!Xr(I);let Ie;if(Ae&&(Ie=ae&&ae.onVnodeBeforeUnmount)&&Et(Ie,V,I),ve&6)me(I.component,Y,z);else{if(ve&128){I.suspense.unmount(Y,z);return}we&&Zt(I,null,V,"beforeUnmount"),ve&64?I.type.remove(I,V,Y,X,ie,z):ee&&(Q!==De||ce>0&&ce&64)?ye(ee,V,Y,!1,!0):(Q===De&&ce&384||!X&&ve&16)&&ye(oe,V,Y),z&&te(I)}(Ae&&(Ie=ae&&ae.onVnodeUnmounted)||we)&&gt(()=>{Ie&&Et(Ie,V,I),we&&Zt(I,null,V,"unmounted")},Y)},te=I=>{const{type:V,el:Y,anchor:z,transition:X}=I;if(V===De){de(Y,z);return}if(V===Zr){y(I);return}const Q=()=>{i(Y),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(I.shapeFlag&1&&X&&!X.persisted){const{leave:ae,delayLeave:re}=X,oe=()=>ae(Y,Q);re?re(I.el,Q,oe):oe()}else Q()},de=(I,V)=>{let Y;for(;I!==V;)Y=m(I),i(I),I=Y;i(V)},me=(I,V,Y)=>{const{bum:z,scope:X,update:Q,subTree:ae,um:re}=I;z&&_n(z),X.stop(),Q&&(Q.active=!1,ne(ae,I,V,Y)),re&&gt(re,V),gt(()=>{I.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},ye=(I,V,Y,z=!1,X=!1,Q=0)=>{for(let ae=Q;ae<I.length;ae++)ne(I[ae],V,Y,z,X)},B=I=>I.shapeFlag&6?B(I.component.subTree):I.shapeFlag&128?I.suspense.next():m(I.anchor||I.el),q=(I,V,Y)=>{I==null?V._vnode&&ne(V._vnode,null,null,!0):b(V._vnode||null,I,V,null,null,null,Y),Vl(),zs(),V._vnode=I},ie={p:b,um:ne,m:Z,r:te,mt:C,mc:w,pc:L,pbc:E,n:B,o:e};let Te,Ce;return t&&([Te,Ce]=t(ie)),{render:q,hydrate:Te,createApp:Gg(q,Te)}}function Gr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function al(e,t,r=!1){const n=e.children,i=t.children;if(be(n)&&be(i))for(let s=0;s<n.length;s++){const a=n[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=Ar(i[s]),o.el=a.el),r||al(a,o)),o.type===tn&&(o.el=a.el)}}function qg(e){const t=e.slice(),r=[0];let n,i,s,a,o;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,e[r[o]]<u?s=o+1:a=o;u<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=t[a];return r}const zg=e=>e.__isTeleport,Hi=e=>e&&(e.disabled||e.disabled===""),Ql=e=>typeof SVGElement<"u"&&e instanceof SVGElement,po=(e,t)=>{const r=e&&e.to;return Je(r)?t?t(r):null:r},jg={__isTeleport:!0,process(e,t,r,n,i,s,a,o,l,u){const{mc:p,pc:h,pbc:m,o:{insert:d,querySelector:g,createText:b,createComment:S}}=u,T=Hi(t.props);let{shapeFlag:f,children:c,dynamicChildren:y}=t;if(e==null){const _=t.el=b(""),k=t.anchor=b("");d(_,r,n),d(k,r,n);const N=t.target=po(t.props,g),w=t.targetAnchor=b("");N&&(d(w,N),a=a||Ql(N));const x=(E,M)=>{f&16&&p(c,E,M,i,s,a,o,l)};T?x(r,k):N&&x(N,w)}else{t.el=e.el;const _=t.anchor=e.anchor,k=t.target=e.target,N=t.targetAnchor=e.targetAnchor,w=Hi(e.props),x=w?r:k,E=w?_:N;if(a=a||Ql(k),y?(m(e.dynamicChildren,y,x,i,s,a,o),al(e,t,!0)):l||h(e,t,x,E,i,s,a,o,!1),T)w||As(t,r,_,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const M=t.target=po(t.props,g);M&&As(t,M,null,u,0)}else w&&As(t,k,N,u,1)}ef(t)},remove(e,t,r,n,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:p,target:h,props:m}=e;if(h&&s(p),(a||!Hi(m))&&(s(u),o&16))for(let d=0;d<l.length;d++){const g=l[d];i(g,t,r,!0,!!g.dynamicChildren)}},move:As,hydrate:Yg};function As(e,t,r,{o:{insert:n},m:i},s=2){s===0&&n(e.targetAnchor,t,r);const{el:a,anchor:o,shapeFlag:l,children:u,props:p}=e,h=s===2;if(h&&n(a,t,r),(!h||Hi(p))&&l&16)for(let m=0;m<u.length;m++)i(u[m],t,r,2);h&&n(o,t,r)}function Yg(e,t,r,n,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const p=t.target=po(t.props,l);if(p){const h=p._lpa||p.firstChild;if(t.shapeFlag&16)if(Hi(t.props))t.anchor=u(a(e),t,o(e),r,n,i,s),t.targetAnchor=h;else{t.anchor=a(e);let m=h;for(;m;)if(m=a(m),m&&m.nodeType===8&&m.data==="teleport anchor"){t.targetAnchor=m,p._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(h,t,p,r,n,i,s)}ef(t)}return t.anchor&&a(t.anchor)}const Xg=jg;function ef(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const De=Symbol.for("v-fgt"),tn=Symbol.for("v-txt"),_t=Symbol.for("v-cmt"),Zr=Symbol.for("v-stc"),$i=[];let xt=null;function fe(e=!1){$i.push(xt=e?null:[])}function tf(){$i.pop(),xt=$i[$i.length-1]||null}let rn=1;function vo(e){rn+=e}function rf(e){return e.dynamicChildren=rn>0?xt||vn:null,tf(),rn>0&&xt&&xt.push(e),e}function pe(e,t,r,n,i,s){return rf(j(e,t,r,n,i,s,!0))}function Ht(e,t,r,n,i){return rf(ke(e,t,r,n,i,!0))}function Ir(e){return e?e.__v_isVNode===!0:!1}function zt(e,t){return e.type===t.type&&e.key===t.key}function Zg(e){}const ba="__vInternal",nf=({key:e})=>e??null,Gs=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||et(e)||xe(e)?{i:ht,r:e,k:t,f:!!r}:e:null);function j(e,t=null,r=null,n=0,i=null,s=e===De?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nf(t),ref:t&&Gs(t),scopeId:ga,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ht};return o?(ol(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=Je(r)?8:16),rn>0&&!a&&xt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&xt.push(l),l}const ke=Jg;function Jg(e,t=null,r=null,n=0,i=null,s=!1){if((!e||e===Gh)&&(e=_t),Ir(e)){const o=rr(e,t,!0);return r&&ol(o,r),rn>0&&!s&&xt&&(o.shapeFlag&6?xt[xt.indexOf(e)]=o:xt.push(o)),o.patchFlag|=-2,o}if(a2(e)&&(e=e.__vccOpts),t){t=sf(t);let{class:o,style:l}=t;o&&!Je(o)&&(t.class=Qe(o)),Ke(l)&&(Wo(l)&&!be(l)&&(l=Ye({},l)),t.style=Br(l))}const a=Je(e)?1:Th(e)?128:zg(e)?64:Ke(e)?4:xe(e)?2:0;return j(e,t,r,n,i,a,s,!0)}function sf(e){return e?Wo(e)||ba in e?Ye({},e):e:null}function rr(e,t,r=!1){const{props:n,ref:i,patchFlag:s,children:a}=e,o=t?af(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&nf(o),ref:t&&t.ref?r&&i?be(i)?i.concat(Gs(t)):[i,Gs(t)]:Gs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==De?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rr(e.ssContent),ssFallback:e.ssFallback&&rr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ut(e=" ",t=0){return ke(tn,null,e,t)}function Qg(e,t){const r=ke(Zr,null,e);return r.staticCount=t,r}function je(e="",t=!1){return t?(fe(),Ht(_t,null,e)):ke(_t,null,e)}function Mt(e){return e==null||typeof e=="boolean"?ke(_t):be(e)?ke(De,null,e.slice()):typeof e=="object"?Ar(e):ke(tn,null,String(e))}function Ar(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rr(e)}function ol(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(be(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ol(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(ba in t)?t._ctx=ht:i===3&&ht&&(ht.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:ht},r=32):(t=String(t),n&64?(r=16,t=[ut(t)]):r=8);e.children=t,e.shapeFlag|=r}function af(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Qe([t.class,n.class]));else if(i==="style")t.style=Br([t.style,n.style]);else if(is(i)){const s=t[i],a=n[i];a&&s!==a&&!(be(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=n[i])}return t}function Et(e,t,r,n=null){Nt(e,t,7,[r,n])}const e2=$h();let t2=0;function of(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||e2,s={uid:t2++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zh(n,i),emitsOptions:wh(n,i),emit:null,emitted:null,propsDefaults:We,inheritAttrs:n.inheritAttrs,ctx:We,data:We,props:We,attrs:We,slots:We,refs:We,setupState:We,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=W1.bind(null,s),e.ce&&e.ce(s),s}let ct=null;const vr=()=>ct||ht;let ll,hn,eu="__VUE_INSTANCE_SETTERS__";(hn=so()[eu])||(hn=so()[eu]=[]),hn.push(e=>ct=e),ll=e=>{hn.length>1?hn.forEach(t=>t(e)):hn[0](e)};const Dr=e=>{ll(e),e.scope.on()},Nr=()=>{ct&&ct.scope.off(),ll(null)};function lf(e){return e.vnode.shapeFlag&4}let xn=!1;function uf(e,t=!1){xn=t;const{props:r,children:n}=e.vnode,i=lf(e);Ug(e,r,i,t),$g(e,n);const s=i?r2(e,t):void 0;return xn=!1,s}function r2(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=ls(new Proxy(e.ctx,ho));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?hf(e):null;Dr(e),Pn();const s=dr(n,e,0,[e.props,i]);if(Mn(),Nr(),Do(s)){if(s.then(Nr,Nr),t)return s.then(a=>{yo(e,a,t)}).catch(a=>{sn(a,e,0)});e.asyncDep=s}else yo(e,s,t)}else cf(e,t)}function yo(e,t,r){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ke(t)&&(e.setupState=jo(t)),cf(e,r)}let Zs,_o;function n2(e){Zs=e,_o=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,yg))}}const i2=()=>!Zs;function cf(e,t,r){const n=e.type;if(!e.render){if(!t&&Zs&&!n.render){const i=n.template||il(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:l}=n,u=Ye(Ye({isCustomElement:s,delimiters:o},a),l);n.render=Zs(i,u)}}e.render=n.render||Yt,_o&&_o(e)}Dr(e),Pn(),Fg(e),Mn(),Nr()}function s2(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return kt(e,"get","$attrs"),t[r]}}))}function hf(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return s2(e)},slots:e.slots,emit:e.emit,expose:t}}function Sa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(jo(ls(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Vi)return Vi[r](e)},has(t,r){return r in t||r in Vi}}))}function bo(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function a2(e){return xe(e)&&"__vccOpts"in e}const ul=(e,t)=>L1(e,t,xn);function ff(e,t,r){const n=arguments.length;return n===2?Ke(t)&&!be(t)?Ir(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ir(r)&&(r=[r]),ke(e,t,r))}const df=Symbol.for("v-scx"),gf=()=>Cn(df);function o2(){}function l2(e,t,r,n){const i=r[n];if(i&&mf(i,e))return i;const s=t();return s.memo=e.slice(),r[n]=s}function mf(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let n=0;n<r.length;n++)if(Tn(r[n],t[n]))return!1;return rn>0&&xt&&xt.push(e),!0}const pf="3.3.4",u2={createComponentInstance:of,setupComponent:uf,renderComponentRoot:Bs,setCurrentRenderingInstance:Qi,isVNode:Ir,normalizeVNode:Mt},c2=u2,h2=null,f2=null,d2="http://www.w3.org/2000/svg",qr=typeof document<"u"?document:null,tu=qr&&qr.createElement("template"),g2={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?qr.createElementNS(d2,e):qr.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>qr.createTextNode(e),createComment:e=>qr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,s){const a=r?r.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{tu.innerHTML=n?`<svg>${e}</svg>`:e;const o=tu.content;if(n){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function m2(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function p2(e,t,r){const n=e.style,i=Je(r);if(r&&!i){if(t&&!Je(t))for(const s in t)r[s]==null&&So(n,s,"");for(const s in r)So(n,s,r[s])}else{const s=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=s)}}const ru=/\s*!important$/;function So(e,t,r){if(be(r))r.forEach(n=>So(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=v2(e,t);ru.test(r)?e.setProperty(Ut(n),r.replace(ru,""),"important"):e[n]=r}}const nu=["Webkit","Moz","ms"],Ua={};function v2(e,t){const r=Ua[t];if(r)return r;let n=At(t);if(n!=="filter"&&n in e)return Ua[t]=n;n=ss(n);for(let i=0;i<nu.length;i++){const s=nu[i]+n;if(s in e)return Ua[t]=s}return t}const iu="http://www.w3.org/1999/xlink";function y2(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(iu,t.slice(6,t.length)):e.setAttributeNS(iu,t,r);else{const s=z0(t);r==null||s&&!Qc(r)?e.removeAttribute(t):e.setAttribute(t,s?"":r)}}function _2(e,t,r,n,i,s,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,i,s),e[t]=r??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){e._value=r;const u=o==="OPTION"?e.getAttribute("value"):e.value,p=r??"";u!==p&&(e.value=p),r==null&&e.removeAttribute(t);return}let l=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=Qc(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function ur(e,t,r,n){e.addEventListener(t,r,n)}function b2(e,t,r,n){e.removeEventListener(t,r,n)}function S2(e,t,r,n,i=null){const s=e._vei||(e._vei={}),a=s[t];if(n&&a)a.value=n;else{const[o,l]=C2(t);if(n){const u=s[t]=E2(n,i);ur(e,o,u,l)}else a&&(b2(e,o,a,l),s[t]=void 0)}}const su=/(?:Once|Passive|Capture)$/;function C2(e){let t;if(su.test(e)){t={};let n;for(;n=e.match(su);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ut(e.slice(2)),t]}let Va=0;const w2=Promise.resolve(),T2=()=>Va||(w2.then(()=>Va=0),Va=Date.now());function E2(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Nt(x2(n,r.value),t,5,[n])};return r.value=e,r.attached=T2(),r}function x2(e,t){if(be(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const au=/^on[a-z]/,A2=(e,t,r,n,i=!1,s,a,o,l)=>{t==="class"?m2(e,n,i):t==="style"?p2(e,r,n):is(t)?Ro(t)||S2(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):k2(e,t,n,i))?_2(e,t,n,s,a,o,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),y2(e,t,n,i))};function k2(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&au.test(t)&&xe(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||au.test(t)&&Je(r)?!1:t in e}function vf(e,t){const r=tl(e);class n extends Ca{constructor(s){super(r,s,t)}}return n.def=r,n}const O2=e=>vf(e,Mf),P2=typeof HTMLElement<"u"?HTMLElement:class{};class Ca extends P2{constructor(t,r={},n){super(),this._def=t,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,ha(()=>{this._connected||(To(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver(n=>{for(const i of n)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(n,i=!1)=>{const{props:s,styles:a}=n;let o;if(s&&!be(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Ks(this._props[l])),(o||(o=Object.create(null)))[At(l)]=!0)}this._numberProps=o,i&&this._resolveProps(n),this._applyStyles(a),this._update()},r=this._def.__asyncLoader;r?r().then(n=>t(n,!0)):t(this._def)}_resolveProps(t){const{props:r}=t,n=be(r)?r:Object.keys(r||{});for(const i of Object.keys(this))i[0]!=="_"&&n.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of n.map(At))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(t){let r=this.getAttribute(t);const n=At(t);this._numberProps&&this._numberProps[n]&&(r=Ks(r)),this._setProp(n,r,!1)}_getProp(t){return this._props[t]}_setProp(t,r,n=!0,i=!0){r!==this._props[t]&&(this._props[t]=r,i&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(Ut(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Ut(t),r+""):r||this.removeAttribute(Ut(t))))}_update(){To(this._createVNode(),this.shadowRoot)}_createVNode(){const t=ke(this._def,Ye({},this._props));return this._instance||(t.ce=r=>{this._instance=r,r.isCE=!0;const n=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};r.emit=(s,...a)=>{n(s,a),Ut(s)!==s&&n(Ut(s),a)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Ca){r.parent=i._instance,r.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function M2(e="$style"){{const t=vr();if(!t)return We;const r=t.type.__cssModules;if(!r)return We;const n=r[e];return n||We}}function N2(e){const t=vr();if(!t)return;const r=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>wo(s,i))},n=()=>{const i=e(t.proxy);Co(t.subTree,i),r(i)};xh(n),hs(()=>{const i=new MutationObserver(n);i.observe(t.subTree.el.parentNode,{childList:!0}),_a(()=>i.disconnect())})}function Co(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Co(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)wo(e.el,t);else if(e.type===De)e.children.forEach(r=>Co(r,t));else if(e.type===Zr){let{el:r,anchor:n}=e;for(;r&&(wo(r,t),r!==n);)r=r.nextSibling}}function wo(e,t){if(e.nodeType===1){const r=e.style;for(const n in t)r.setProperty(`--${n}`,t[n])}}const Cr="transition",Hn="animation",cl=(e,{slots:t})=>ff(kh,_f(e),t);cl.displayName="Transition";const yf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F2=cl.props=Ye({},el,yf),Ur=(e,t=[])=>{be(e)?e.forEach(r=>r(...t)):e&&e(...t)},ou=e=>e?be(e)?e.some(t=>t.length>1):e.length>1:!1;function _f(e){const t={};for(const R in e)R in yf||(t[R]=e[R]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:p=o,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:m=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=e,g=R2(i),b=g&&g[0],S=g&&g[1],{onBeforeEnter:T,onEnter:f,onEnterCancelled:c,onLeave:y,onLeaveCancelled:_,onBeforeAppear:k=T,onAppear:N=f,onAppearCancelled:w=c}=t,x=(R,v,C)=>{Er(R,v?p:o),Er(R,v?u:a),C&&C()},E=(R,v)=>{R._isLeaving=!1,Er(R,h),Er(R,d),Er(R,m),v&&v()},M=R=>(v,C)=>{const A=R?N:f,O=()=>x(v,R,C);Ur(A,[v,O]),lu(()=>{Er(v,R?l:s),or(v,R?p:o),ou(A)||uu(v,n,b,O)})};return Ye(t,{onBeforeEnter(R){Ur(T,[R]),or(R,s),or(R,a)},onBeforeAppear(R){Ur(k,[R]),or(R,l),or(R,u)},onEnter:M(!1),onAppear:M(!0),onLeave(R,v){R._isLeaving=!0;const C=()=>E(R,v);or(R,h),Sf(),or(R,m),lu(()=>{R._isLeaving&&(Er(R,h),or(R,d),ou(y)||uu(R,n,S,C))}),Ur(y,[R,C])},onEnterCancelled(R){x(R,!1),Ur(c,[R])},onAppearCancelled(R){x(R,!0),Ur(w,[R])},onLeaveCancelled(R){E(R),Ur(_,[R])}})}function R2(e){if(e==null)return null;if(Ke(e))return[Ha(e.enter),Ha(e.leave)];{const t=Ha(e);return[t,t]}}function Ha(e){return Ks(e)}function or(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function Er(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function lu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let I2=0;function uu(e,t,r,n){const i=e._endId=++I2,s=()=>{i===e._endId&&n()};if(r)return setTimeout(s,r);const{type:a,timeout:o,propCount:l}=bf(e,t);if(!a)return n();const u=a+"end";let p=0;const h=()=>{e.removeEventListener(u,m),s()},m=d=>{d.target===e&&++p>=l&&h()};setTimeout(()=>{p<l&&h()},o+1),e.addEventListener(u,m)}function bf(e,t){const r=window.getComputedStyle(e),n=g=>(r[g]||"").split(", "),i=n(`${Cr}Delay`),s=n(`${Cr}Duration`),a=cu(i,s),o=n(`${Hn}Delay`),l=n(`${Hn}Duration`),u=cu(o,l);let p=null,h=0,m=0;t===Cr?a>0&&(p=Cr,h=a,m=s.length):t===Hn?u>0&&(p=Hn,h=u,m=l.length):(h=Math.max(a,u),p=h>0?a>u?Cr:Hn:null,m=p?p===Cr?s.length:l.length:0);const d=p===Cr&&/\b(transform|all)(,|$)/.test(n(`${Cr}Property`).toString());return{type:p,timeout:h,propCount:m,hasTransform:d}}function cu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>hu(r)+hu(e[n])))}function hu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Sf(){return document.body.offsetHeight}const Cf=new WeakMap,wf=new WeakMap,Tf={name:"TransitionGroup",props:Ye({},F2,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=vr(),n=Qo();let i,s;return va(()=>{if(!i.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!V2(i[0].el,r.vnode.el,a))return;i.forEach(B2),i.forEach(G2);const o=i.filter(U2);Sf(),o.forEach(l=>{const u=l.el,p=u.style;or(u,a),p.transform=p.webkitTransform=p.transitionDuration="";const h=u._moveCb=m=>{m&&m.target!==u||(!m||/transform$/.test(m.propertyName))&&(u.removeEventListener("transitionend",h),u._moveCb=null,Er(u,a))};u.addEventListener("transitionend",h)})}),()=>{const a=Ne(e),o=_f(a);let l=a.tag||De;i=s,s=t.default?ma(t.default()):[];for(let u=0;u<s.length;u++){const p=s[u];p.key!=null&&en(p,En(p,o,n,r))}if(i)for(let u=0;u<i.length;u++){const p=i[u];en(p,En(p,o,n,r)),Cf.set(p,p.el.getBoundingClientRect())}return ke(l,null,s)}}},D2=e=>delete e.mode;Tf.props;const L2=Tf;function B2(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function G2(e){wf.set(e,e.el.getBoundingClientRect())}function U2(e){const t=Cf.get(e),r=wf.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${i}px)`,s.transitionDuration="0s",e}}function V2(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(o=>o&&n.classList.remove(o))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:s}=bf(n);return i.removeChild(n),s}const Lr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return be(t)?r=>_n(t,r):t};function H2(e){e.target.composing=!0}function fu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const nr={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e._assign=Lr(i);const s=n||i.props&&i.props.type==="number";ur(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;r&&(o=o.trim()),s&&(o=Ws(o)),e._assign(o)}),r&&ur(e,"change",()=>{e.value=e.value.trim()}),t||(ur(e,"compositionstart",H2),ur(e,"compositionend",fu),ur(e,"change",fu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:i}},s){if(e._assign=Lr(s),e.composing||document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===t||(i||e.type==="number")&&Ws(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},wa={deep:!0,created(e,t,r){e._assign=Lr(r),ur(e,"change",()=>{const n=e._modelValue,i=An(e),s=e.checked,a=e._assign;if(be(n)){const o=sa(n,i),l=o!==-1;if(s&&!l)a(n.concat(i));else if(!s&&l){const u=[...n];u.splice(o,1),a(u)}}else if(nn(n)){const o=new Set(n);s?o.add(i):o.delete(i),a(o)}else a(Ef(e,s))})},mounted:du,beforeUpdate(e,t,r){e._assign=Lr(r),du(e,t,r)}};function du(e,{value:t,oldValue:r},n){e._modelValue=t,be(t)?e.checked=sa(t,n.props.value)>-1:nn(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=Fr(t,Ef(e,!0)))}const hl={created(e,{value:t},r){e.checked=Fr(t,r.props.value),e._assign=Lr(r),ur(e,"change",()=>{e._assign(An(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e._assign=Lr(n),t!==r&&(e.checked=Fr(t,n.props.value))}},Js={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const i=nn(t);ur(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>r?Ws(An(a)):An(a));e._assign(e.multiple?i?new Set(s):s:s[0])}),e._assign=Lr(n)},mounted(e,{value:t}){gu(e,t)},beforeUpdate(e,t,r){e._assign=Lr(r)},updated(e,{value:t}){gu(e,t)}};function gu(e,t){const r=e.multiple;if(!(r&&!be(t)&&!nn(t))){for(let n=0,i=e.options.length;n<i;n++){const s=e.options[n],a=An(s);if(r)be(t)?s.selected=sa(t,a)>-1:s.selected=t.has(a);else if(Fr(An(s),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function An(e){return"_value"in e?e._value:e.value}function Ef(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const xf={created(e,t,r){ks(e,t,r,null,"created")},mounted(e,t,r){ks(e,t,r,null,"mounted")},beforeUpdate(e,t,r,n){ks(e,t,r,n,"beforeUpdate")},updated(e,t,r,n){ks(e,t,r,n,"updated")}};function Af(e,t){switch(e){case"SELECT":return Js;case"TEXTAREA":return nr;default:switch(t){case"checkbox":return wa;case"radio":return hl;default:return nr}}}function ks(e,t,r,n,i){const a=Af(e.tagName,r.props&&r.props.type)[i];a&&a(e,t,r,n)}function $2(){nr.getSSRProps=({value:e})=>({value:e}),hl.getSSRProps=({value:e},t)=>{if(t.props&&Fr(t.props.value,e))return{checked:!0}},wa.getSSRProps=({value:e},t)=>{if(be(e)){if(t.props&&sa(e,t.props.value)>-1)return{checked:!0}}else if(nn(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},xf.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const r=Af(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(e,t)}}const W2=["ctrl","shift","alt","meta"],K2={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>W2.some(r=>e[`${r}Key`]&&!t.includes(r))},lt=(e,t)=>(r,...n)=>{for(let i=0;i<t.length;i++){const s=K2[t[i]];if(s&&s(r,t))return}return e(r,...n)},q2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ns=(e,t)=>r=>{if(!("key"in r))return;const n=Ut(r.key);if(t.some(i=>i===n||q2[i]===n))return e(r)},cr={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):$n(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),$n(e,!0),n.enter(e)):n.leave(e,()=>{$n(e,!1)}):$n(e,t))},beforeUnmount(e,{value:t}){$n(e,t)}};function $n(e,t){e.style.display=t?e._vod:"none"}function z2(){cr.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const kf=Ye({patchProp:A2},g2);let Wi,mu=!1;function Of(){return Wi||(Wi=Zh(kf))}function Pf(){return Wi=mu?Wi:Jh(kf),mu=!0,Wi}const To=(...e)=>{Of().render(...e)},Mf=(...e)=>{Pf().hydrate(...e)},Nf=(...e)=>{const t=Of().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=Ff(n);if(!i)return;const s=t._component;!xe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t},j2=(...e)=>{const t=Pf().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=Ff(n);if(i)return r(i,!0,i instanceof SVGElement)},t};function Ff(e){return Je(e)?document.querySelector(e):e}let pu=!1;const Y2=()=>{pu||(pu=!0,$2(),z2())},X2=()=>{},Z2=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:kh,BaseTransitionPropsValidators:el,Comment:_t,EffectScope:Bo,Fragment:De,KeepAlive:hg,ReactiveEffect:as,Static:Zr,Suspense:Q1,Teleport:Xg,Text:tn,Transition:cl,TransitionGroup:L2,VueElement:Ca,assertNumber:G1,callWithAsyncErrorHandling:Nt,callWithErrorHandling:dr,camelize:At,capitalize:ss,cloneVNode:rr,compatUtils:f2,compile:X2,computed:ul,createApp:Nf,createBlock:Ht,createCommentVNode:je,createElementBlock:pe,createElementVNode:j,createHydrationRenderer:Jh,createPropsRestProxy:Mg,createRenderer:Zh,createSSRApp:j2,createSlots:pg,createStaticVNode:Qg,createTextVNode:ut,createVNode:ke,customRef:N1,defineAsyncComponent:ug,defineComponent:tl,defineCustomElement:vf,defineEmits:bg,defineExpose:Sg,defineModel:Tg,defineOptions:Cg,defineProps:_g,defineSSRCustomElement:O2,defineSlots:wg,get devtools(){return mn},effect:Z0,effectScope:Go,getCurrentInstance:vr,getCurrentScope:Uo,getTransitionRawChildren:ma,guardReactiveProps:sf,h:ff,handleError:sn,hasInjectionContext:Kh,hydrate:Mf,initCustomFormatter:o2,initDirectivesForSSR:Y2,inject:Cn,isMemoSame:mf,isProxy:Wo,isReactive:fr,isReadonly:Qr,isRef:et,isRuntimeOnly:i2,isShallow:Yi,isVNode:Ir,markRaw:ls,mergeDefaults:Og,mergeModels:Pg,mergeProps:af,nextTick:ha,normalizeClass:Qe,normalizeProps:K0,normalizeStyle:Br,onActivated:Ph,onBeforeMount:Fh,onBeforeUnmount:ya,onBeforeUpdate:Rh,onDeactivated:Mh,onErrorCaptured:Bh,onMounted:hs,onRenderTracked:Lh,onRenderTriggered:Dh,onScopeDispose:rh,onServerPrefetch:Ih,onUnmounted:_a,onUpdated:va,openBlock:fe,popScopeId:q1,provide:Wh,proxyRefs:jo,pushScopeId:K1,queuePostFlushCb:Xo,reactive:os,readonly:$o,ref:Qt,registerRuntimeCompiler:n2,render:To,renderList:Rt,renderSlot:js,resolveComponent:qe,resolveDirective:mg,resolveDynamicComponent:gg,resolveFilter:h2,resolveTransitionHooks:En,setBlockTracking:vo,setDevtoolsHook:Ch,setTransitionHooks:en,shallowReactive:mh,shallowReadonly:E1,shallowRef:x1,ssrContextKey:df,ssrUtils:c2,stop:J0,toDisplayString:Ue,toHandlerKey:Ui,toHandlers:vg,toRaw:Ne,toRef:I1,toRefs:vh,toValue:O1,transformVNodeArgs:Zg,triggerRef:k1,unref:zo,useAttrs:Ag,useCssModule:M2,useCssVars:N2,useModel:kg,useSSRContext:gf,useSlots:xg,useTransitionState:Qo,vModelCheckbox:wa,vModelDynamic:xf,vModelRadio:hl,vModelSelect:Js,vModelText:nr,vShow:cr,version:pf,warn:B1,watch:Mr,watchEffect:sg,watchPostEffect:xh,watchSyncEffect:ag,withAsyncContext:Ng,withCtx:tr,withDefaults:Eg,withDirectives:mt,withKeys:ns,withMemo:l2,withModifiers:lt,withScopeId:z1},Symbol.toStringTag,{value:"Module"}));var J2=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Rf;const Ta=e=>Rf=e,If=Symbol();function Eo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ki;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ki||(Ki={}));function Q2(){const e=Go(!0),t=e.run(()=>Qt({}));let r=[],n=[];const i=ls({install(s){Ta(i),i._a=s,s.provide(If,i),s.config.globalProperties.$pinia=i,n.forEach(a=>r.push(a)),n=[]},use(s){return!this._a&&!J2?n.push(s):r.push(s),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const Df=()=>{};function vu(e,t,r,n=Df){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),n())};return!r&&Uo()&&rh(i),i}function fn(e,...t){e.slice().forEach(r=>{r(...t)})}const em=e=>e();function xo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,n)=>e.set(n,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],i=e[r];Eo(i)&&Eo(n)&&e.hasOwnProperty(r)&&!et(n)&&!fr(n)?e[r]=xo(i,n):e[r]=n}return e}const tm=Symbol();function rm(e){return!Eo(e)||!e.hasOwnProperty(tm)}const{assign:xr}=Object;function nm(e){return!!(et(e)&&e.effect)}function im(e,t,r,n){const{state:i,actions:s,getters:a}=t,o=r.state.value[e];let l;function u(){o||(r.state.value[e]=i?i():{});const p=vh(r.state.value[e]);return xr(p,s,Object.keys(a||{}).reduce((h,m)=>(h[m]=ls(ul(()=>{Ta(r);const d=r._s.get(e);return a[m].call(d,d)})),h),{}))}return l=Lf(e,u,t,r,n,!0),l}function Lf(e,t,r={},n,i,s){let a;const o=xr({actions:{}},r),l={deep:!0};let u,p,h=[],m=[],d;const g=n.state.value[e];!s&&!g&&(n.state.value[e]={}),Qt({});let b;function S(w){let x;u=p=!1,typeof w=="function"?(w(n.state.value[e]),x={type:Ki.patchFunction,storeId:e,events:d}):(xo(n.state.value[e],w),x={type:Ki.patchObject,payload:w,storeId:e,events:d});const E=b=Symbol();ha().then(()=>{b===E&&(u=!0)}),p=!0,fn(h,x,n.state.value[e])}const T=s?function(){const{state:x}=r,E=x?x():{};this.$patch(M=>{xr(M,E)})}:Df;function f(){a.stop(),h=[],m=[],n._s.delete(e)}function c(w,x){return function(){Ta(n);const E=Array.from(arguments),M=[],R=[];function v(O){M.push(O)}function C(O){R.push(O)}fn(m,{args:E,name:w,store:_,after:v,onError:C});let A;try{A=x.apply(this&&this.$id===e?this:_,E)}catch(O){throw fn(R,O),O}return A instanceof Promise?A.then(O=>(fn(M,O),O)).catch(O=>(fn(R,O),Promise.reject(O))):(fn(M,A),A)}}const y={_p:n,$id:e,$onAction:vu.bind(null,m),$patch:S,$reset:T,$subscribe(w,x={}){const E=vu(h,w,x.detached,()=>M()),M=a.run(()=>Mr(()=>n.state.value[e],R=>{(x.flush==="sync"?p:u)&&w({storeId:e,type:Ki.direct,events:d},R)},xr({},l,x)));return E},$dispose:f},_=os(y);n._s.set(e,_);const k=n._a&&n._a.runWithContext||em,N=n._e.run(()=>(a=Go(),k(()=>a.run(t))));for(const w in N){const x=N[w];if(et(x)&&!nm(x)||fr(x))s||(g&&rm(x)&&(et(x)?x.value=g[w]:xo(x,g[w])),n.state.value[e][w]=x);else if(typeof x=="function"){const E=c(w,x);N[w]=E,o.actions[w]=x}}return xr(_,N),xr(Ne(_),N),Object.defineProperty(_,"$state",{get:()=>n.state.value[e],set:w=>{S(x=>{xr(x,w)})}}),n._p.forEach(w=>{xr(_,a.run(()=>w({store:_,app:n._a,pinia:n,options:o})))}),g&&s&&r.hydrate&&r.hydrate(_.$state,g),u=!0,p=!0,_}function Nn(e,t,r){let n,i;const s=typeof t=="function";typeof e=="string"?(n=e,i=s?r:t):(i=e,n=e.id);function a(o,l){const u=Kh();return o=o||(u?Cn(If,null):null),o&&Ta(o),o=Rf,o._s.has(n)||(s?Lf(n,t,i,o):im(n,i,o)),o._s.get(n)}return a.$id=n,a}var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}function Os(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gf={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function a(u,p){if(!i[u]){if(!n[u]){var h=typeof Os=="function"&&Os;if(!p&&h)return h(u,!0);if(o)return o(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var d=i[u]={exports:{}};n[u][0].call(d.exports,function(g){var b=n[u][1][g];return a(b||g)},d,d.exports,r,n,i,s)}return i[u].exports}for(var o=typeof Os=="function"&&Os,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var l=0,u=new a(g),p=s.document.createTextNode("");u.observe(p,{characterData:!0}),o=function(){p.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var h=new s.MessageChannel;h.port1.onmessage=g,o=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var S=s.document.createElement("script");S.onreadystatechange=function(){g(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},s.document.documentElement.appendChild(S)}:o=function(){setTimeout(g,0)};var m,d=[];function g(){m=!0;for(var S,T,f=d.length;f;){for(T=d,d=[],S=-1;++S<f;)T[S]();f=d.length}m=!1}n.exports=b;function b(S){d.push(S)===1&&!m&&o()}}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var s=r(1);function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],p=["PENDING"];n.exports=h;function h(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,_!==a&&b(this,_)}h.prototype.catch=function(_){return this.then(null,_)},h.prototype.then=function(_,k){if(typeof _!="function"&&this.state===u||typeof k!="function"&&this.state===l)return this;var N=new this.constructor(a);if(this.state!==p){var w=this.state===u?_:k;d(N,w,this.outcome)}else this.queue.push(new m(N,_,k));return N};function m(_,k,N){this.promise=_,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},m.prototype.otherCallFulfilled=function(_){d(this.promise,this.onFulfilled,_)},m.prototype.callRejected=function(_){o.reject(this.promise,_)},m.prototype.otherCallRejected=function(_){d(this.promise,this.onRejected,_)};function d(_,k,N){s(function(){var w;try{w=k(N)}catch(x){return o.reject(_,x)}w===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,w)})}o.resolve=function(_,k){var N=S(g,k);if(N.status==="error")return o.reject(_,N.value);var w=N.value;if(w)b(_,w);else{_.state=u,_.outcome=k;for(var x=-1,E=_.queue.length;++x<E;)_.queue[x].callFulfilled(k)}return _},o.reject=function(_,k){_.state=l,_.outcome=k;for(var N=-1,w=_.queue.length;++N<w;)_.queue[N].callRejected(k);return _};function g(_){var k=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof k=="function")return function(){k.apply(_,arguments)}}function b(_,k){var N=!1;function w(R){N||(N=!0,o.reject(_,R))}function x(R){N||(N=!0,o.resolve(_,R))}function E(){k(x,w)}var M=S(E);M.status==="error"&&w(M.value)}function S(_,k){var N={};try{N.value=_(k),N.status="success"}catch(w){N.status="error",N.value=w}return N}h.resolve=T;function T(_){return _ instanceof this?_:o.resolve(new this(a),_)}h.reject=f;function f(_){var k=new this(a);return o.reject(k,_)}h.all=c;function c(_){var k=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=_.length,w=!1;if(!N)return this.resolve([]);for(var x=new Array(N),E=0,M=-1,R=new this(a);++M<N;)v(_[M],M);return R;function v(C,A){k.resolve(C).then(O,function(D){w||(w=!0,o.reject(R,D))});function O(D){x[A]=D,++E===N&&!w&&(w=!0,o.resolve(R,x))}}}h.race=y;function y(_){var k=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=_.length,w=!1;if(!N)return this.resolve([]);for(var x=-1,E=new this(a);++x<N;)M(_[x]);return E;function M(R){k.resolve(R).then(function(v){w||(w=!0,o.resolve(E,v))},function(v){w||(w=!0,o.reject(E,v))})}}},{1:1}],3:[function(r,n,i){(function(s){typeof s.Promise!="function"&&(s.Promise=r(2))}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};function a(P,G){if(!(P instanceof G))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=o();function u(){try{if(!l||!l.open)return!1;var P=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),G=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!P||G)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(P,G){P=P||[],G=G||{};try{return new Blob(P,G)}catch(H){if(H.name!=="TypeError")throw H;for(var F=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new F,K=0;K<P.length;K+=1)W.append(P[K]);return W.getBlob(G.type)}}typeof Promise>"u"&&r(3);var h=Promise;function m(P,G){G&&P.then(function(F){G(null,F)},function(F){G(F)})}function d(P,G,F){typeof G=="function"&&P.then(G),typeof F=="function"&&P.catch(F)}function g(P){return typeof P!="string"&&(console.warn(P+" used as a key, but it is not a string."),P=String(P)),P}function b(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var S="local-forage-detect-blob-support",T=void 0,f={},c=Object.prototype.toString,y="readonly",_="readwrite";function k(P){for(var G=P.length,F=new ArrayBuffer(G),W=new Uint8Array(F),K=0;K<G;K++)W[K]=P.charCodeAt(K);return F}function N(P){return new h(function(G){var F=P.transaction(S,_),W=p([""]);F.objectStore(S).put(W,"key"),F.onabort=function(K){K.preventDefault(),K.stopPropagation(),G(!1)},F.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);G(H||!K||parseInt(K[1],10)>=43)}}).catch(function(){return!1})}function w(P){return typeof T=="boolean"?h.resolve(T):N(P).then(function(G){return T=G,T})}function x(P){var G=f[P.name],F={};F.promise=new h(function(W,K){F.resolve=W,F.reject=K}),G.deferredOperations.push(F),G.dbReady?G.dbReady=G.dbReady.then(function(){return F.promise}):G.dbReady=F.promise}function E(P){var G=f[P.name],F=G.deferredOperations.pop();if(F)return F.resolve(),F.promise}function M(P,G){var F=f[P.name],W=F.deferredOperations.pop();if(W)return W.reject(G),W.promise}function R(P,G){return new h(function(F,W){if(f[P.name]=f[P.name]||ne(),P.db)if(G)x(P),P.db.close();else return F(P.db);var K=[P.name];G&&K.push(P.version);var H=l.open.apply(l,K);G&&(H.onupgradeneeded=function(J){var se=H.result;try{se.createObjectStore(P.storeName),J.oldVersion<=1&&se.createObjectStore(S)}catch(le){if(le.name==="ConstraintError")console.warn('The database "'+P.name+'" has been upgraded from version '+J.oldVersion+" to version "+J.newVersion+', but the storage "'+P.storeName+'" already exists.');else throw le}}),H.onerror=function(J){J.preventDefault(),W(H.error)},H.onsuccess=function(){var J=H.result;J.onversionchange=function(se){se.target.close()},F(J),E(P)}})}function v(P){return R(P,!1)}function C(P){return R(P,!0)}function A(P,G){if(!P.db)return!0;var F=!P.db.objectStoreNames.contains(P.storeName),W=P.version<P.db.version,K=P.version>P.db.version;if(W&&(P.version!==G&&console.warn('The database "'+P.name+`" can't be downgraded from version `+P.db.version+" to version "+P.version+"."),P.version=P.db.version),K||F){if(F){var H=P.db.version+1;H>P.version&&(P.version=H)}return!0}return!1}function O(P){return new h(function(G,F){var W=new FileReader;W.onerror=F,W.onloadend=function(K){var H=btoa(K.target.result||"");G({__local_forage_encoded_blob:!0,data:H,type:P.type})},W.readAsBinaryString(P)})}function D(P){var G=k(atob(P.data));return p([G],{type:P.type})}function L(P){return P&&P.__local_forage_encoded_blob}function U(P){var G=this,F=G._initReady().then(function(){var W=f[G._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return d(F,P,P),F}function $(P){x(P);for(var G=f[P.name],F=G.forages,W=0;W<F.length;W++){var K=F[W];K._dbInfo.db&&(K._dbInfo.db.close(),K._dbInfo.db=null)}return P.db=null,v(P).then(function(H){return P.db=H,A(P)?C(P):H}).then(function(H){P.db=G.db=H;for(var J=0;J<F.length;J++)F[J]._dbInfo.db=H}).catch(function(H){throw M(P,H),H})}function Z(P,G,F,W){W===void 0&&(W=1);try{var K=P.db.transaction(P.storeName,G);F(null,K)}catch(H){if(W>0&&(!P.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return h.resolve().then(function(){if(!P.db||H.name==="NotFoundError"&&!P.db.objectStoreNames.contains(P.storeName)&&P.version<=P.db.version)return P.db&&(P.version=P.db.version+1),C(P)}).then(function(){return $(P).then(function(){Z(P,G,F,W-1)})}).catch(F);F(H)}}function ne(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function te(P){var G=this,F={db:null};if(P)for(var W in P)F[W]=P[W];var K=f[F.name];K||(K=ne(),f[F.name]=K),K.forages.push(G),G._initReady||(G._initReady=G.ready,G.ready=U);var H=[];function J(){return h.resolve()}for(var se=0;se<K.forages.length;se++){var le=K.forages[se];le!==G&&H.push(le._initReady().catch(J))}var ue=K.forages.slice(0);return h.all(H).then(function(){return F.db=K.db,v(F)}).then(function(he){return F.db=he,A(F,G._defaultConfig.version)?C(F):he}).then(function(he){F.db=K.db=he,G._dbInfo=F;for(var Se=0;Se<ue.length;Se++){var Pe=ue[Se];Pe!==G&&(Pe._dbInfo.db=F.db,Pe._dbInfo.version=F.version)}})}function de(P,G){var F=this;P=g(P);var W=new h(function(K,H){F.ready().then(function(){Z(F._dbInfo,y,function(J,se){if(J)return H(J);try{var le=se.objectStore(F._dbInfo.storeName),ue=le.get(P);ue.onsuccess=function(){var he=ue.result;he===void 0&&(he=null),L(he)&&(he=D(he)),K(he)},ue.onerror=function(){H(ue.error)}}catch(he){H(he)}})}).catch(H)});return m(W,G),W}function me(P,G){var F=this,W=new h(function(K,H){F.ready().then(function(){Z(F._dbInfo,y,function(J,se){if(J)return H(J);try{var le=se.objectStore(F._dbInfo.storeName),ue=le.openCursor(),he=1;ue.onsuccess=function(){var Se=ue.result;if(Se){var Pe=Se.value;L(Pe)&&(Pe=D(Pe));var He=P(Pe,Se.key,he++);He!==void 0?K(He):Se.continue()}else K()},ue.onerror=function(){H(ue.error)}}catch(Se){H(Se)}})}).catch(H)});return m(W,G),W}function ye(P,G,F){var W=this;P=g(P);var K=new h(function(H,J){var se;W.ready().then(function(){return se=W._dbInfo,c.call(G)==="[object Blob]"?w(se.db).then(function(le){return le?G:O(G)}):G}).then(function(le){Z(W._dbInfo,_,function(ue,he){if(ue)return J(ue);try{var Se=he.objectStore(W._dbInfo.storeName);le===null&&(le=void 0);var Pe=Se.put(le,P);he.oncomplete=function(){le===void 0&&(le=null),H(le)},he.onabort=he.onerror=function(){var He=Pe.error?Pe.error:Pe.transaction.error;J(He)}}catch(He){J(He)}})}).catch(J)});return m(K,F),K}function B(P,G){var F=this;P=g(P);var W=new h(function(K,H){F.ready().then(function(){Z(F._dbInfo,_,function(J,se){if(J)return H(J);try{var le=se.objectStore(F._dbInfo.storeName),ue=le.delete(P);se.oncomplete=function(){K()},se.onerror=function(){H(ue.error)},se.onabort=function(){var he=ue.error?ue.error:ue.transaction.error;H(he)}}catch(he){H(he)}})}).catch(H)});return m(W,G),W}function q(P){var G=this,F=new h(function(W,K){G.ready().then(function(){Z(G._dbInfo,_,function(H,J){if(H)return K(H);try{var se=J.objectStore(G._dbInfo.storeName),le=se.clear();J.oncomplete=function(){W()},J.onabort=J.onerror=function(){var ue=le.error?le.error:le.transaction.error;K(ue)}}catch(ue){K(ue)}})}).catch(K)});return m(F,P),F}function ie(P){var G=this,F=new h(function(W,K){G.ready().then(function(){Z(G._dbInfo,y,function(H,J){if(H)return K(H);try{var se=J.objectStore(G._dbInfo.storeName),le=se.count();le.onsuccess=function(){W(le.result)},le.onerror=function(){K(le.error)}}catch(ue){K(ue)}})}).catch(K)});return m(F,P),F}function Te(P,G){var F=this,W=new h(function(K,H){if(P<0){K(null);return}F.ready().then(function(){Z(F._dbInfo,y,function(J,se){if(J)return H(J);try{var le=se.objectStore(F._dbInfo.storeName),ue=!1,he=le.openKeyCursor();he.onsuccess=function(){var Se=he.result;if(!Se){K(null);return}P===0||ue?K(Se.key):(ue=!0,Se.advance(P))},he.onerror=function(){H(he.error)}}catch(Se){H(Se)}})}).catch(H)});return m(W,G),W}function Ce(P){var G=this,F=new h(function(W,K){G.ready().then(function(){Z(G._dbInfo,y,function(H,J){if(H)return K(H);try{var se=J.objectStore(G._dbInfo.storeName),le=se.openKeyCursor(),ue=[];le.onsuccess=function(){var he=le.result;if(!he){W(ue);return}ue.push(he.key),he.continue()},le.onerror=function(){K(le.error)}}catch(he){K(he)}})}).catch(K)});return m(F,P),F}function I(P,G){G=b.apply(this,arguments);var F=this.config();P=typeof P!="function"&&P||{},P.name||(P.name=P.name||F.name,P.storeName=P.storeName||F.storeName);var W=this,K;if(!P.name)K=h.reject("Invalid arguments");else{var H=P.name===F.name&&W._dbInfo.db,J=H?h.resolve(W._dbInfo.db):v(P).then(function(se){var le=f[P.name],ue=le.forages;le.db=se;for(var he=0;he<ue.length;he++)ue[he]._dbInfo.db=se;return se});P.storeName?K=J.then(function(se){if(se.objectStoreNames.contains(P.storeName)){var le=se.version+1;x(P);var ue=f[P.name],he=ue.forages;se.close();for(var Se=0;Se<he.length;Se++){var Pe=he[Se];Pe._dbInfo.db=null,Pe._dbInfo.version=le}var He=new h(function($e,st){var nt=l.open(P.name,le);nt.onerror=function(Dt){var Vn=nt.result;Vn.close(),st(Dt)},nt.onupgradeneeded=function(){var Dt=nt.result;Dt.deleteObjectStore(P.storeName)},nt.onsuccess=function(){var Dt=nt.result;Dt.close(),$e(Dt)}});return He.then(function($e){ue.db=$e;for(var st=0;st<he.length;st++){var nt=he[st];nt._dbInfo.db=$e,E(nt._dbInfo)}}).catch(function($e){throw(M(P,$e)||h.resolve()).catch(function(){}),$e})}}):K=J.then(function(se){x(P);var le=f[P.name],ue=le.forages;se.close();for(var he=0;he<ue.length;he++){var Se=ue[he];Se._dbInfo.db=null}var Pe=new h(function(He,$e){var st=l.deleteDatabase(P.name);st.onerror=function(){var nt=st.result;nt&&nt.close(),$e(st.error)},st.onblocked=function(){console.warn('dropInstance blocked for database "'+P.name+'" until all open connections are closed')},st.onsuccess=function(){var nt=st.result;nt&&nt.close(),He(nt)}});return Pe.then(function(He){le.db=He;for(var $e=0;$e<ue.length;$e++){var st=ue[$e];E(st._dbInfo)}}).catch(function(He){throw(M(P,He)||h.resolve()).catch(function(){}),He})})}return m(K,G),K}var V={_driver:"asyncStorage",_initStorage:te,_support:u(),iterate:me,getItem:de,setItem:ye,removeItem:B,clear:q,length:ie,key:Te,keys:Ce,dropInstance:I};function Y(){return typeof openDatabase=="function"}var z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X="~~local_forage_type~",Q=/^~~local_forage_type~([^~]+)~/,ae="__lfsc__:",re=ae.length,oe="arbf",ee="blob",ve="si08",ce="ui08",_e="uic8",we="si16",Ae="si32",Ie="ur16",Oe="ui32",ze="fl32",pt="fl64",bt=re+oe.length,Gn=Object.prototype.toString;function yr(P){var G=P.length*.75,F=P.length,W,K=0,H,J,se,le;P[P.length-1]==="="&&(G--,P[P.length-2]==="="&&G--);var ue=new ArrayBuffer(G),he=new Uint8Array(ue);for(W=0;W<F;W+=4)H=z.indexOf(P[W]),J=z.indexOf(P[W+1]),se=z.indexOf(P[W+2]),le=z.indexOf(P[W+3]),he[K++]=H<<2|J>>4,he[K++]=(J&15)<<4|se>>2,he[K++]=(se&3)<<6|le&63;return ue}function ln(P){var G=new Uint8Array(P),F="",W;for(W=0;W<G.length;W+=3)F+=z[G[W]>>2],F+=z[(G[W]&3)<<4|G[W+1]>>4],F+=z[(G[W+1]&15)<<2|G[W+2]>>6],F+=z[G[W+2]&63];return G.length%3===2?F=F.substring(0,F.length-1)+"=":G.length%3===1&&(F=F.substring(0,F.length-2)+"=="),F}function St(P,G){var F="";if(P&&(F=Gn.call(P)),P&&(F==="[object ArrayBuffer]"||P.buffer&&Gn.call(P.buffer)==="[object ArrayBuffer]")){var W,K=ae;P instanceof ArrayBuffer?(W=P,K+=oe):(W=P.buffer,F==="[object Int8Array]"?K+=ve:F==="[object Uint8Array]"?K+=ce:F==="[object Uint8ClampedArray]"?K+=_e:F==="[object Int16Array]"?K+=we:F==="[object Uint16Array]"?K+=Ie:F==="[object Int32Array]"?K+=Ae:F==="[object Uint32Array]"?K+=Oe:F==="[object Float32Array]"?K+=ze:F==="[object Float64Array]"?K+=pt:G(new Error("Failed to get type for BinaryArray"))),G(K+ln(W))}else if(F==="[object Blob]"){var H=new FileReader;H.onload=function(){var J=X+P.type+"~"+ln(this.result);G(ae+ee+J)},H.readAsArrayBuffer(P)}else try{G(JSON.stringify(P))}catch(J){console.error("Couldn't convert value into a JSON string: ",P),G(null,J)}}function It(P){if(P.substring(0,re)!==ae)return JSON.parse(P);var G=P.substring(bt),F=P.substring(re,bt),W;if(F===ee&&Q.test(G)){var K=G.match(Q);W=K[1],G=G.substring(K[0].length)}var H=yr(G);switch(F){case oe:return H;case ee:return p([H],{type:W});case ve:return new Int8Array(H);case ce:return new Uint8Array(H);case _e:return new Uint8ClampedArray(H);case we:return new Int16Array(H);case Ie:return new Uint16Array(H);case Ae:return new Int32Array(H);case Oe:return new Uint32Array(H);case ze:return new Float32Array(H);case pt:return new Float64Array(H);default:throw new Error("Unkown type: "+F)}}var un={serialize:St,deserialize:It,stringToBuffer:yr,bufferToString:ln};function xl(P,G,F,W){P.executeSql("CREATE TABLE IF NOT EXISTS "+G.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],F,W)}function Xd(P){var G=this,F={db:null};if(P)for(var W in P)F[W]=typeof P[W]!="string"?P[W].toString():P[W];var K=new h(function(H,J){try{F.db=openDatabase(F.name,String(F.version),F.description,F.size)}catch(se){return J(se)}F.db.transaction(function(se){xl(se,F,function(){G._dbInfo=F,H()},function(le,ue){J(ue)})},J)});return F.serializer=un,K}function _r(P,G,F,W,K,H){P.executeSql(F,W,K,function(J,se){se.code===se.SYNTAX_ERR?J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[G.storeName],function(le,ue){ue.rows.length?H(le,se):xl(le,G,function(){le.executeSql(F,W,K,H)},H)},H):H(J,se)},H)}function Zd(P,G){var F=this;P=g(P);var W=new h(function(K,H){F.ready().then(function(){var J=F._dbInfo;J.db.transaction(function(se){_r(se,J,"SELECT * FROM "+J.storeName+" WHERE key = ? LIMIT 1",[P],function(le,ue){var he=ue.rows.length?ue.rows.item(0).value:null;he&&(he=J.serializer.deserialize(he)),K(he)},function(le,ue){H(ue)})})}).catch(H)});return m(W,G),W}function Jd(P,G){var F=this,W=new h(function(K,H){F.ready().then(function(){var J=F._dbInfo;J.db.transaction(function(se){_r(se,J,"SELECT * FROM "+J.storeName,[],function(le,ue){for(var he=ue.rows,Se=he.length,Pe=0;Pe<Se;Pe++){var He=he.item(Pe),$e=He.value;if($e&&($e=J.serializer.deserialize($e)),$e=P($e,He.key,Pe+1),$e!==void 0){K($e);return}}K()},function(le,ue){H(ue)})})}).catch(H)});return m(W,G),W}function Al(P,G,F,W){var K=this;P=g(P);var H=new h(function(J,se){K.ready().then(function(){G===void 0&&(G=null);var le=G,ue=K._dbInfo;ue.serializer.serialize(G,function(he,Se){Se?se(Se):ue.db.transaction(function(Pe){_r(Pe,ue,"INSERT OR REPLACE INTO "+ue.storeName+" (key, value) VALUES (?, ?)",[P,he],function(){J(le)},function(He,$e){se($e)})},function(Pe){if(Pe.code===Pe.QUOTA_ERR){if(W>0){J(Al.apply(K,[P,le,F,W-1]));return}se(Pe)}})})}).catch(se)});return m(H,F),H}function Qd(P,G,F){return Al.apply(this,[P,G,F,1])}function e0(P,G){var F=this;P=g(P);var W=new h(function(K,H){F.ready().then(function(){var J=F._dbInfo;J.db.transaction(function(se){_r(se,J,"DELETE FROM "+J.storeName+" WHERE key = ?",[P],function(){K()},function(le,ue){H(ue)})})}).catch(H)});return m(W,G),W}function t0(P){var G=this,F=new h(function(W,K){G.ready().then(function(){var H=G._dbInfo;H.db.transaction(function(J){_r(J,H,"DELETE FROM "+H.storeName,[],function(){W()},function(se,le){K(le)})})}).catch(K)});return m(F,P),F}function r0(P){var G=this,F=new h(function(W,K){G.ready().then(function(){var H=G._dbInfo;H.db.transaction(function(J){_r(J,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(se,le){var ue=le.rows.item(0).c;W(ue)},function(se,le){K(le)})})}).catch(K)});return m(F,P),F}function n0(P,G){var F=this,W=new h(function(K,H){F.ready().then(function(){var J=F._dbInfo;J.db.transaction(function(se){_r(se,J,"SELECT key FROM "+J.storeName+" WHERE id = ? LIMIT 1",[P+1],function(le,ue){var he=ue.rows.length?ue.rows.item(0).key:null;K(he)},function(le,ue){H(ue)})})}).catch(H)});return m(W,G),W}function i0(P){var G=this,F=new h(function(W,K){G.ready().then(function(){var H=G._dbInfo;H.db.transaction(function(J){_r(J,H,"SELECT key FROM "+H.storeName,[],function(se,le){for(var ue=[],he=0;he<le.rows.length;he++)ue.push(le.rows.item(he).key);W(ue)},function(se,le){K(le)})})}).catch(K)});return m(F,P),F}function s0(P){return new h(function(G,F){P.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(K,H){for(var J=[],se=0;se<H.rows.length;se++)J.push(H.rows.item(se).name);G({db:P,storeNames:J})},function(K,H){F(H)})},function(W){F(W)})})}function a0(P,G){G=b.apply(this,arguments);var F=this.config();P=typeof P!="function"&&P||{},P.name||(P.name=P.name||F.name,P.storeName=P.storeName||F.storeName);var W=this,K;return P.name?K=new h(function(H){var J;P.name===F.name?J=W._dbInfo.db:J=openDatabase(P.name,"","",0),P.storeName?H({db:J,storeNames:[P.storeName]}):H(s0(J))}).then(function(H){return new h(function(J,se){H.db.transaction(function(le){function ue(He){return new h(function($e,st){le.executeSql("DROP TABLE IF EXISTS "+He,[],function(){$e()},function(nt,Dt){st(Dt)})})}for(var he=[],Se=0,Pe=H.storeNames.length;Se<Pe;Se++)he.push(ue(H.storeNames[Se]));h.all(he).then(function(){J()}).catch(function(He){se(He)})},function(le){se(le)})})}):K=h.reject("Invalid arguments"),m(K,G),K}var o0={_driver:"webSQLStorage",_initStorage:Xd,_support:Y(),iterate:Jd,getItem:Zd,setItem:Qd,removeItem:e0,clear:t0,length:r0,key:n0,keys:i0,dropInstance:a0};function l0(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function kl(P,G){var F=P.name+"/";return P.storeName!==G.storeName&&(F+=P.storeName+"/"),F}function u0(){var P="_localforage_support_test";try{return localStorage.setItem(P,!0),localStorage.removeItem(P),!1}catch{return!0}}function c0(){return!u0()||localStorage.length>0}function h0(P){var G=this,F={};if(P)for(var W in P)F[W]=P[W];return F.keyPrefix=kl(P,G._defaultConfig),c0()?(G._dbInfo=F,F.serializer=un,h.resolve()):h.reject()}function f0(P){var G=this,F=G.ready().then(function(){for(var W=G._dbInfo.keyPrefix,K=localStorage.length-1;K>=0;K--){var H=localStorage.key(K);H.indexOf(W)===0&&localStorage.removeItem(H)}});return m(F,P),F}function d0(P,G){var F=this;P=g(P);var W=F.ready().then(function(){var K=F._dbInfo,H=localStorage.getItem(K.keyPrefix+P);return H&&(H=K.serializer.deserialize(H)),H});return m(W,G),W}function g0(P,G){var F=this,W=F.ready().then(function(){for(var K=F._dbInfo,H=K.keyPrefix,J=H.length,se=localStorage.length,le=1,ue=0;ue<se;ue++){var he=localStorage.key(ue);if(he.indexOf(H)===0){var Se=localStorage.getItem(he);if(Se&&(Se=K.serializer.deserialize(Se)),Se=P(Se,he.substring(J),le++),Se!==void 0)return Se}}});return m(W,G),W}function m0(P,G){var F=this,W=F.ready().then(function(){var K=F._dbInfo,H;try{H=localStorage.key(P)}catch{H=null}return H&&(H=H.substring(K.keyPrefix.length)),H});return m(W,G),W}function p0(P){var G=this,F=G.ready().then(function(){for(var W=G._dbInfo,K=localStorage.length,H=[],J=0;J<K;J++){var se=localStorage.key(J);se.indexOf(W.keyPrefix)===0&&H.push(se.substring(W.keyPrefix.length))}return H});return m(F,P),F}function v0(P){var G=this,F=G.keys().then(function(W){return W.length});return m(F,P),F}function y0(P,G){var F=this;P=g(P);var W=F.ready().then(function(){var K=F._dbInfo;localStorage.removeItem(K.keyPrefix+P)});return m(W,G),W}function _0(P,G,F){var W=this;P=g(P);var K=W.ready().then(function(){G===void 0&&(G=null);var H=G;return new h(function(J,se){var le=W._dbInfo;le.serializer.serialize(G,function(ue,he){if(he)se(he);else try{localStorage.setItem(le.keyPrefix+P,ue),J(H)}catch(Se){(Se.name==="QuotaExceededError"||Se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(Se),se(Se)}})})});return m(K,F),K}function b0(P,G){if(G=b.apply(this,arguments),P=typeof P!="function"&&P||{},!P.name){var F=this.config();P.name=P.name||F.name,P.storeName=P.storeName||F.storeName}var W=this,K;return P.name?K=new h(function(H){P.storeName?H(kl(P,W._defaultConfig)):H(P.name+"/")}).then(function(H){for(var J=localStorage.length-1;J>=0;J--){var se=localStorage.key(J);se.indexOf(H)===0&&localStorage.removeItem(se)}}):K=h.reject("Invalid arguments"),m(K,G),K}var S0={_driver:"localStorageWrapper",_initStorage:h0,_support:l0(),iterate:g0,getItem:d0,setItem:_0,removeItem:y0,clear:f0,length:v0,key:m0,keys:p0,dropInstance:b0},C0=function(G,F){return G===F||typeof G=="number"&&typeof F=="number"&&isNaN(G)&&isNaN(F)},w0=function(G,F){for(var W=G.length,K=0;K<W;){if(C0(G[K],F))return!0;K++}return!1},Ol=Array.isArray||function(P){return Object.prototype.toString.call(P)==="[object Array]"},Un={},Pl={},cn={INDEXEDDB:V,WEBSQL:o0,LOCALSTORAGE:S0},T0=[cn.INDEXEDDB._driver,cn.WEBSQL._driver,cn.LOCALSTORAGE._driver],vs=["dropInstance"],Ma=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(vs),E0={description:"",driver:T0.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function x0(P,G){P[G]=function(){var F=arguments;return P.ready().then(function(){return P[G].apply(P,F)})}}function Na(){for(var P=1;P<arguments.length;P++){var G=arguments[P];if(G)for(var F in G)G.hasOwnProperty(F)&&(Ol(G[F])?arguments[0][F]=G[F].slice():arguments[0][F]=G[F])}return arguments[0]}var A0=function(){function P(G){a(this,P);for(var F in cn)if(cn.hasOwnProperty(F)){var W=cn[F],K=W._driver;this[F]=K,Un[K]||this.defineDriver(W)}this._defaultConfig=Na({},E0),this._config=Na({},this._defaultConfig,G),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return P.prototype.config=function(F){if((typeof F>"u"?"undefined":s(F))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in F){if(W==="storeName"&&(F[W]=F[W].replace(/\W/g,"_")),W==="version"&&typeof F[W]!="number")return new Error("Database version must be a number.");this._config[W]=F[W]}return"driver"in F&&F.driver?this.setDriver(this._config.driver):!0}else return typeof F=="string"?this._config[F]:this._config},P.prototype.defineDriver=function(F,W,K){var H=new h(function(J,se){try{var le=F._driver,ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!F._driver){se(ue);return}for(var he=Ma.concat("_initStorage"),Se=0,Pe=he.length;Se<Pe;Se++){var He=he[Se],$e=!w0(vs,He);if(($e||F[He])&&typeof F[He]!="function"){se(ue);return}}var st=function(){for(var Vn=function(P0){return function(){var M0=new Error("Method "+P0+" is not implemented by the current driver"),Ml=h.reject(M0);return m(Ml,arguments[arguments.length-1]),Ml}},Fa=0,O0=vs.length;Fa<O0;Fa++){var Ra=vs[Fa];F[Ra]||(F[Ra]=Vn(Ra))}};st();var nt=function(Vn){Un[le]&&console.info("Redefining LocalForage driver: "+le),Un[le]=F,Pl[le]=Vn,J()};"_support"in F?F._support&&typeof F._support=="function"?F._support().then(nt,se):nt(!!F._support):nt(!0)}catch(Dt){se(Dt)}});return d(H,W,K),H},P.prototype.driver=function(){return this._driver||null},P.prototype.getDriver=function(F,W,K){var H=Un[F]?h.resolve(Un[F]):h.reject(new Error("Driver not found."));return d(H,W,K),H},P.prototype.getSerializer=function(F){var W=h.resolve(un);return d(W,F),W},P.prototype.ready=function(F){var W=this,K=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return d(K,F,F),K},P.prototype.setDriver=function(F,W,K){var H=this;Ol(F)||(F=[F]);var J=this._getSupportedDrivers(F);function se(){H._config.driver=H.driver()}function le(Se){return H._extend(Se),se(),H._ready=H._initStorage(H._config),H._ready}function ue(Se){return function(){var Pe=0;function He(){for(;Pe<Se.length;){var $e=Se[Pe];return Pe++,H._dbInfo=null,H._ready=null,H.getDriver($e).then(le).catch(He)}se();var st=new Error("No available storage method found.");return H._driverSet=h.reject(st),H._driverSet}return He()}}var he=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=he.then(function(){var Se=J[0];return H._dbInfo=null,H._ready=null,H.getDriver(Se).then(function(Pe){H._driver=Pe._driver,se(),H._wrapLibraryMethodsWithReady(),H._initDriver=ue(J)})}).catch(function(){se();var Se=new Error("No available storage method found.");return H._driverSet=h.reject(Se),H._driverSet}),d(this._driverSet,W,K),this._driverSet},P.prototype.supports=function(F){return!!Pl[F]},P.prototype._extend=function(F){Na(this,F)},P.prototype._getSupportedDrivers=function(F){for(var W=[],K=0,H=F.length;K<H;K++){var J=F[K];this.supports(J)&&W.push(J)}return W},P.prototype._wrapLibraryMethodsWithReady=function(){for(var F=0,W=Ma.length;F<W;F++)x0(this,Ma[F])},P.prototype.createInstance=function(F){return new P(F)},P}(),k0=new A0;n.exports=k0},{3:3}]},{},[4])(4)})})(Gf);var Kt=Gf.exports;const ir=Bf(Kt),Ps=[35,25,15],yu=30,er=Nn("board",{state(){return{started:!1,clockwise:!0,themes:[],themeColors:{},board:[],initialBoard:[],goldenKeys:[2,5,9,11,15,18,22,24],pool:[],islandPool:[],usedList:[],money:0,limit:1e3,laps:1,songs:1,limitless:!1}},actions:{async begin(e){this.started||(await this.setupThemes(e),this.buildBoard(),this.initialBoard=this.board,this.started=!0)},async snapshot(){Kt.setItem("board-snapshot",Ne(this.$state))},async restore(){const e=await Kt.getItem("board-snapshot");e&&this.$patch(e)},async setupThemes(e){const t=[...e],r=[...am];for(;this.themes.length<14;){const n=Math.floor(Math.random()*t.length),i=t[n];this.themeColors[i.head]||(this.themeColors[i.head]=r.splice(Math.floor(r.length*Math.random()),1)[0]),this.themes.push({theme:i.head+`:
`+i.tail,color:this.themeColors[i.head],stepped:0}),t.splice(n,1)}},buildBoard(){this.board=Array(26).fill(""),this.board[0]="출발",this.board[13]="세계여행",this.goldenKeys.forEach(i=>this.board[i]="황금열쇠");const e=["디맥섬","투온섬","식스타섬","뱅섬","프세카섬","아르케아섬"],t=Math.floor(Math.random()*6);this.board[7]=e[t],e.splice(t,1);const r=Math.floor(Math.random()*5);this.board[20]=e[r];const n=this.shuffleThemes();for(let i=0,s=0;i<this.board.length&&s<n.length;i++)this.board[i]===""&&(this.board[i]=n[s++])},shuffleThemes(){let e=this.themes.map(t=>t.theme);for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*t),n=e[t];e[t]=e[r],e[r]=n}return e},shuffleBoard(e=!1){e&&this.goldenKeys.push(-1);const t=this.goldenKeys.length;let r=[],n=[1,2,3,4,5,6,8,9,10,11,12,14,15,16,17,18,19,21,22,23,24,25];if(this.clockwise){const i=Math.floor(Math.random()*5);r.push(n.slice(-5)[i]),n.splice(i+17,1)}else{const i=Math.floor(Math.random()*6);r.push(n.slice(0,6)[i]),n.splice(i,1)}for(;r.length<t;){const i=Math.floor(Math.random()*n.length);r.push(n[i]),n.splice(i,1)}this.goldenKeys=r,this.buildBoard()},unshuffleBoard(){this.board=this.initialBoard,this.goldenKeys=[2,5,9,11,15,18,22,24]},isGoldenKey(e){return this.started?this.goldenKeys.includes(e):!1},getColor(e){const t=this.themes.find(r=>r.theme===e);return t?t.color:"#999"},isMonopoly(e){if(!this.started)return!1;const t=[[1,2,3,4,5,6],[8,9,10,11,12],[14,15,16,17,18,19],[21,22,23,24,25]];for(let r=0;r<4;r++)if(t[r].includes(e)){for(let n=0;n<t[r].length;n++){const i=this.themes.find(s=>s.theme===this.board[t[r][n]]);if(i&&i.stepped===0)return!1}return!0}return!1},parse({tags:e,content:t,source:r}){const{groups:n}=t.match(/!픽 (?<index>\d+) (?<song>.+)/)??{},i=e.display_name??r.nick,s=r.nick??r.full;if(!n)return{name:i,status:"failed"};const a=Number(n.index),o=[0,13].concat(this.goldenKeys);if([...Array(26).keys()].filter(u=>!o.includes(u)).includes(a)){const u=this.insert(s,i,Number(n.index),n.song);return{name:i,status:u}}else return{name:i,status:"failed"}},insert(e,t,r,n){const i={uid:e,name:t,theme:this.board[r],song:n,timestamp:Date.now()};if(this.usedList.find(s=>s.uid===i.uid))return"rejected";if([7,20].includes(r)){if(!this.checkTimeIsland(e,i.timestamp))return"cooldown";const s=this.islandPool.findIndex(a=>a.uid===e);return s!==-1&&this.islandPool.splice(s,1),this.islandPool.push(i),"accepted"}else{if(!this.checkTime(e,i.timestamp))return"cooldown";const s=this.pool.filter(a=>a.uid===e);return s.length===3&&this.pool.splice(this.pool.indexOf(s[0]),1),this.pool.push(i),"accepted"}},checkTime(e,t){const r=this.pool.filter(n=>n.uid===e);if(r.length>0){const n=r.slice(-1)[0];return t-n.timestamp>3e4}else return!0},checkTimeIsland(e,t){const r=this.islandPool.find(n=>n.uid===e);return r?t-r.timestamp>3e4:!0},selectAll(e){return[7,20].includes(e)?this.islandPool.filter(t=>t.theme===this.board[e]):this.pool.filter(t=>t.theme===this.board[e])},remove(e){this.usedList.push(e),this.pool.filter(t=>t.uid===e.uid).forEach(t=>{this.pool.splice(this.pool.indexOf(t),1)}),this.islandPool.filter(t=>t.uid===e.uid).forEach(t=>{this.islandPool.splice(this.islandPool.indexOf(t),1)})},addMoney(e){const t=this.themes.find(r=>r.theme===this.board[e]);this.isMonopoly(e)?this.money+=yu:t&&(this.money+=Ps[t.stepped++]??Ps.at(-1))},getPrizeByIndex(e){const t=this.themes.find(r=>r.theme===this.board[e]);if(t)return this.isMonopoly(e)?yu:Ps[t.stepped]??Ps.at(-1)},updateMoney(e){this.money+=e},getSalary(){this.updateMoney(100),this.laps++}}}),am=["#ffbfce","#f17ef7","#7bb2f2","#f9bdf2","#7cf4b4","#c3fc85","#ddbffc","#bdccfc","#bcfc9f","#f6fc8a","#a5e7f7","#fc888e","#fcdbbf","#f9b17a"],an=Nn("options",{state:()=>({themes:[{head:"",tail:""}],defaultKeys:[{key:"",count:1}],channel:"arpa__",password:"",useSceneSwitching:!1,scenePlaying:[],sceneNotPlaying:""}),actions:{async load(){await Promise.all([Kt.getItem("options").then(e=>{e!==null&&this.$patch(e)}),Kt.getItem("themes").then(e=>{e!==null&&this.$patch({themes:e}),Kt.removeItem("themes")}),Kt.getItem("items").then(e=>{e!==null&&this.$patch({defaultKeys:e}),Kt.removeItem("items")})]),this.save()},save(){console.log(JSON.parse(JSON.stringify(this.$state))),Kt.setItem("options",JSON.parse(JSON.stringify(this.$state)))}}}),fs=Nn("ui",{state:()=>({page:"start",param:null,currentScene:"",lastParam:{}}),actions:{navigate(e,t){this.switchScene(!e),this.page=e,this.param=this.lastParam[e]=t},switchScene(e){var a,o,l,u,p,h,m,d,g;const t=an();if(!t.useSceneSwitching)return;const r=(a=t.scenePlaying)==null?void 0:a.includes(this.currentScene),n=t.sceneNotPlaying===this.currentScene,i=((o=t.scenePlaying)==null?void 0:o.length)>0,s=t.sceneNotPlaying!=null;if(e)if(r&&((l=t.scenePlaying)==null?void 0:l.length)>1){const b=t.scenePlaying.indexOf(this.currentScene);if(b<0)return;const S=t.scenePlaying[b+1]||t.scenePlaying[0];(p=(u=window.obsstudio)==null?void 0:u.setCurrentScene)==null||p.call(u,S)}else(!s||n)&&((m=(h=window.obsstudio)==null?void 0:h.setCurrentScene)==null||m.call(h,t.scenePlaying[0]));else(!i||r)&&((g=(d=window.obsstudio)==null?void 0:d.setCurrentScene)==null||g.call(d,t.sceneNotPlaying))},initOBS(){var e;window.addEventListener("obsSceneChanged",t=>{this.currentScene=t.detail.name}),(e=window.obsstudio)==null||e.getCurrentScene(t=>{this.currentScene=t.name})}}}),om={출발:"go",세계여행:"free",디맥섬:"djmax",투온섬:"ez2on",식스타섬:"mars",뱅섬:"circle",프세카섬:"truck",아르케아섬:"testify"},lm={props:{block:Object,index:{type:Number,required:!0}},data:()=>({board:er(),ui:fs()}),computed:{theme(){return this.board.board[this.index]},blockTypes(){return{[om[this.board.board[this.index]]??""]:!0,top:13<this.index&&this.index<20,right:20<this.index&&this.index<26,bottom:0<this.index&&this.index<7,left:7<this.index&&this.index<13,corner:[0,7,13,20].includes(this.index),golden:this.board.isGoldenKey(this.index),monopoly:this.board.isMonopoly(this.index)}},fillColor(){return this.board.getColor(this.theme)}}};const ft=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},um={class:"block-number"},cm={class:"block-prize"},hm=j("small",null,"$",-1),fm={class:"block-content"};function dm(e,t,r,n,i,s){return fe(),pe("div",{class:Qe(["block",s.blockTypes])},[r.index!==0&&r.index!==13?(fe(),pe("header",{key:0,class:"block-header",style:Br({backgroundColor:s.fillColor})},[j("div",um,Ue(r.index),1)],4)):je("",!0),j("div",cm,[ut(Ue(e.board.getPrizeByIndex(r.index)),1),hm]),r.index===0?(fe(),pe("div",{key:1,style:{width:"100%",height:"100%"},onClick:t[0]||(t[0]=a=>{e.ui.navigate(""),e.ui.switchScene(!0)}),onContextmenu:t[1]||(t[1]=lt(a=>e.ui.navigate("raffle"),["prevent"]))},null,32)):r.index===13?(fe(),pe("div",{key:2,class:"block-button centered",onClick:t[2]||(t[2]=a=>e.ui.navigate("dice"))},"세계여행")):e.board.isGoldenKey(r.index)?(fe(),pe("div",{key:3,class:"block-button centered",onClick:t[3]||(t[3]=a=>e.ui.navigate("wheel"))},"황금열쇠")):r.index===7||r.index===20?(fe(),pe("div",{key:4,class:"block-button centered",onClick:t[4]||(t[4]=a=>e.ui.navigate("raffle",r.index))},Ue(e.board.selectAll(r.index).length),1)):(fe(),pe(De,{key:5},[j("div",fm,Ue(s.theme),1),j("div",{class:"block-button centered",onClick:t[5]||(t[5]=a=>e.ui.navigate("raffle",r.index))},Ue(e.board.selectAll(r.index).length),1)],64))],2)}const gm=ft(lm,[["render",dm]]),mm={components:{Block:gm},methods:{}};const pm={class:"board"},vm={class:"center"};function ym(e,t,r,n,i,s){const a=qe("Block");return fe(),pe("main",pm,[j("div",vm,[js(e.$slots,"default")]),(fe(),pe(De,null,Rt(26,o=>ke(a,{index:o-1,style:Br({gridArea:"_"+(o-1)})},null,8,["index","style"])),64))])}const _m=ft(mm,[["render",ym]]);class on extends Error{}class bm extends on{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Sm extends on{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Cm extends on{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Li extends on{}class Uf extends on{constructor(t){super(`Invalid unit ${t}`)}}class Gt extends on{}class wr extends on{constructor(){super("Zone is an abstract class")}}const ge="numeric",Xt="short",Ft="long",Qs={year:ge,month:ge,day:ge},Vf={year:ge,month:Xt,day:ge},wm={year:ge,month:Xt,day:ge,weekday:Xt},Hf={year:ge,month:Ft,day:ge},$f={year:ge,month:Ft,day:ge,weekday:Ft},Wf={hour:ge,minute:ge},Kf={hour:ge,minute:ge,second:ge},qf={hour:ge,minute:ge,second:ge,timeZoneName:Xt},zf={hour:ge,minute:ge,second:ge,timeZoneName:Ft},jf={hour:ge,minute:ge,hourCycle:"h23"},Yf={hour:ge,minute:ge,second:ge,hourCycle:"h23"},Xf={hour:ge,minute:ge,second:ge,hourCycle:"h23",timeZoneName:Xt},Zf={hour:ge,minute:ge,second:ge,hourCycle:"h23",timeZoneName:Ft},Jf={year:ge,month:ge,day:ge,hour:ge,minute:ge},Qf={year:ge,month:ge,day:ge,hour:ge,minute:ge,second:ge},ed={year:ge,month:Xt,day:ge,hour:ge,minute:ge},td={year:ge,month:Xt,day:ge,hour:ge,minute:ge,second:ge},Tm={year:ge,month:Xt,day:ge,weekday:Xt,hour:ge,minute:ge},rd={year:ge,month:Ft,day:ge,hour:ge,minute:ge,timeZoneName:Xt},nd={year:ge,month:Ft,day:ge,hour:ge,minute:ge,second:ge,timeZoneName:Xt},id={year:ge,month:Ft,day:ge,weekday:Ft,hour:ge,minute:ge,timeZoneName:Ft},sd={year:ge,month:Ft,day:ge,weekday:Ft,hour:ge,minute:ge,second:ge,timeZoneName:Ft};class ds{get type(){throw new wr}get name(){throw new wr}get ianaName(){return this.name}get isUniversal(){throw new wr}offsetName(t,r){throw new wr}formatOffset(t,r){throw new wr}offset(t){throw new wr}equals(t){throw new wr}get isValid(){throw new wr}}let $a=null;class Ea extends ds{static get instance(){return $a===null&&($a=new Ea),$a}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return od(t,r,n)}formatOffset(t,r){return zi(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Us={};function Em(e){return Us[e]||(Us[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Us[e]}const xm={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Am(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,a,o,l,u,p]=n;return[a,i,s,o,l,u,p]}function km(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:s,value:a}=r[i],o=xm[s];s==="era"?n[o]=a:Le(o)||(n[o]=parseInt(a,10))}return n}let Ms={};class mr extends ds{static create(t){return Ms[t]||(Ms[t]=new mr(t)),Ms[t]}static resetCache(){Ms={},Us={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=mr.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return od(t,r,n,this.name)}formatOffset(t,r){return zi(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const n=Em(this.name);let[i,s,a,o,l,u,p]=n.formatToParts?km(n,r):Am(n,r);o==="BC"&&(i=-Math.abs(i)+1);const m=gl({year:i,month:s,day:a,hour:l===24?0:l,minute:u,second:p,millisecond:0});let d=+r;const g=d%1e3;return d-=g>=0?g:1e3+g,(m-d)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let _u={};function Om(e,t={}){const r=JSON.stringify([e,t]);let n=_u[r];return n||(n=new Intl.ListFormat(e,t),_u[r]=n),n}let Ao={};function ko(e,t={}){const r=JSON.stringify([e,t]);let n=Ao[r];return n||(n=new Intl.DateTimeFormat(e,t),Ao[r]=n),n}let Oo={};function Pm(e,t={}){const r=JSON.stringify([e,t]);let n=Oo[r];return n||(n=new Intl.NumberFormat(e,t),Oo[r]=n),n}let Po={};function Mm(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=Po[i];return s||(s=new Intl.RelativeTimeFormat(e,t),Po[i]=s),s}let Bi=null;function Nm(){return Bi||(Bi=new Intl.DateTimeFormat().resolvedOptions().locale,Bi)}function Fm(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=ko(e).resolvedOptions(),i=e}catch{const l=e.substring(0,r);n=ko(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=n;return[i,s,a]}}function Rm(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function Im(e){const t=[];for(let r=1;r<=12;r++){const n=Ee.utc(2016,r,1);t.push(e(n))}return t}function Dm(e){const t=[];for(let r=1;r<=7;r++){const n=Ee.utc(2016,11,13+r);t.push(e(n))}return t}function Ns(e,t,r,n,i){const s=e.listingMode(r);return s==="error"?null:s==="en"?n(t):i(t)}function Lm(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Bm{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...a}=n;if(!r||Object.keys(a).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=Pm(t,o)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):dl(t,3);return ot(r,this.padTo)}}}class Gm{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const a=-1*(t.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&mr.create(o).valid?(i=o,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=ko(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Um{constructor(t,r,n){this.opts={style:"long",...n},!r&&ad()&&(this.rtf=Mm(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):np(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}class Ze{static fromOpts(t){return Ze.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,r,n,i=!1){const s=t||at.defaultLocale,a=s||(i?"en-US":Nm()),o=r||at.defaultNumberingSystem,l=n||at.defaultOutputCalendar;return new Ze(a,o,l,s)}static resetCache(){Bi=null,Ao={},Oo={},Po={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n}={}){return Ze.create(t,r,n)}constructor(t,r,n,i){const[s,a,o]=Fm(t);this.locale=s,this.numberingSystem=r||a||null,this.outputCalendar=n||o||null,this.intl=Rm(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Lm(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Ze.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1,n=!0){return Ns(this,t,n,cd,()=>{const i=r?{month:t,day:"numeric"}:{month:t},s=r?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=Im(a=>this.extract(a,i,"month"))),this.monthsCache[s][t]})}weekdays(t,r=!1,n=!0){return Ns(this,t,n,dd,()=>{const i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=r?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=Dm(a=>this.extract(a,i,"weekday"))),this.weekdaysCache[s][t]})}meridiems(t=!0){return Ns(this,void 0,t,()=>gd,()=>{if(!this.meridiemCache){const r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ee.utc(2016,11,13,9),Ee.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(t,r=!0){return Ns(this,t,r,md,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ee.utc(-40,1,1),Ee.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(t={}){return new Bm(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new Gm(t,this.intl,r)}relFormatter(t={}){return new Um(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Om(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let Wa=null;class wt extends ds{static get utcInstance(){return Wa===null&&(Wa=new wt(0)),Wa}static instance(t){return t===0?wt.utcInstance:new wt(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new wt(Aa(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${zi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${zi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return zi(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Vm extends ds{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Or(e,t){if(Le(e)||e===null)return t;if(e instanceof ds)return e;if(Hm(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?Ea.instance:r==="utc"||r==="gmt"?wt.utcInstance:wt.parseSpecifier(r)||mr.create(e)}else return Jr(e)?wt.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new Vm(e)}let bu=()=>Date.now(),Su="system",Cu=null,wu=null,Tu=null,Eu=60,xu;class at{static get now(){return bu}static set now(t){bu=t}static set defaultZone(t){Su=t}static get defaultZone(){return Or(Su,Ea.instance)}static get defaultLocale(){return Cu}static set defaultLocale(t){Cu=t}static get defaultNumberingSystem(){return wu}static set defaultNumberingSystem(t){wu=t}static get defaultOutputCalendar(){return Tu}static set defaultOutputCalendar(t){Tu=t}static get twoDigitCutoffYear(){return Eu}static set twoDigitCutoffYear(t){Eu=t%100}static get throwOnInvalid(){return xu}static set throwOnInvalid(t){xu=t}static resetCaches(){Ze.resetCache(),mr.resetCache()}}function Le(e){return typeof e>"u"}function Jr(e){return typeof e=="number"}function xa(e){return typeof e=="number"&&e%1===0}function Hm(e){return typeof e=="string"}function $m(e){return Object.prototype.toString.call(e)==="[object Date]"}function ad(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Wm(e){return Array.isArray(e)?e:[e]}function Au(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const s=[t(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function Km(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function kn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hr(e,t,r){return xa(e)&&e>=t&&e<=r}function qm(e,t){return e-t*Math.floor(e/t)}function ot(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function kr(e){if(!(Le(e)||e===null||e===""))return parseInt(e,10)}function Vr(e){if(!(Le(e)||e===null||e===""))return parseFloat(e)}function fl(e){if(!(Le(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function dl(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function gs(e){return e%4===0&&(e%100!==0||e%400===0)}function qi(e){return gs(e)?366:365}function ea(e,t){const r=qm(t-1,12)+1,n=e+(t-r)/12;return r===2?gs(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function gl(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function ta(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return t===4||n===3?53:52}function Mo(e){return e>99?e:e>at.twoDigitCutoffYear?1900+e:2e3+e}function od(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const a={timeZoneName:t,...s},o=new Intl.DateTimeFormat(r,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function Aa(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function ld(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Gt(`Invalid unit value ${e}`);return t}function ra(e,t){const r={};for(const n in e)if(kn(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=ld(i)}return r}function zi(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${ot(r,2)}:${ot(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${ot(r,2)}${ot(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function ka(e){return Km(e,["hour","minute","second","millisecond"])}const zm=["January","February","March","April","May","June","July","August","September","October","November","December"],ud=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jm=["J","F","M","A","M","J","J","A","S","O","N","D"];function cd(e){switch(e){case"narrow":return[...jm];case"short":return[...ud];case"long":return[...zm];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const hd=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fd=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ym=["M","T","W","T","F","S","S"];function dd(e){switch(e){case"narrow":return[...Ym];case"short":return[...fd];case"long":return[...hd];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const gd=["AM","PM"],Xm=["Before Christ","Anno Domini"],Zm=["BC","AD"],Jm=["B","A"];function md(e){switch(e){case"narrow":return[...Jm];case"short":return[...Zm];case"long":return[...Xm];default:return null}}function Qm(e){return gd[e.hour<12?0:1]}function ep(e,t){return dd(t)[e.weekday-1]}function tp(e,t){return cd(t)[e.month-1]}function rp(e,t){return md(t)[e.year<0?0:1]}function np(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const h=e==="days";switch(t){case 1:return h?"tomorrow":`next ${i[e][0]}`;case-1:return h?"yesterday":`last ${i[e][0]}`;case 0:return h?"today":`this ${i[e][0]}`}}const a=Object.is(t,-0)||t<0,o=Math.abs(t),l=o===1,u=i[e],p=n?l?u[1]:u[2]||u[1]:l?i[e][0]:e;return a?`${o} ${p} ago`:`in ${o} ${p}`}function ku(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const ip={D:Qs,DD:Vf,DDD:Hf,DDDD:$f,t:Wf,tt:Kf,ttt:qf,tttt:zf,T:jf,TT:Yf,TTT:Xf,TTTT:Zf,f:Jf,ff:ed,fff:rd,ffff:id,F:Qf,FF:td,FFF:nd,FFFF:sd};class yt{static create(t,r={}){return new yt(t,r)}static parseFormat(t){let r=null,n="",i=!1;const s=[];for(let a=0;a<t.length;a++){const o=t.charAt(a);o==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||o===r?n+=o:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=o,r=o)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(t){return ip[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}formatDateTime(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).format()}formatDateTimeParts(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).formatToParts()}formatInterval(t,r={}){return this.loc.dtFormatter(t.start,{...this.opts,...r}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return ot(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,g)=>this.loc.extract(t,d,g),a=d=>t.isOffsetFixed&&t.offset===0&&d.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,d.format):"",o=()=>n?Qm(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,g)=>n?tp(t,d):s(g?{month:d}:{month:d,day:"numeric"},"month"),u=(d,g)=>n?ep(t,d):s(g?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),p=d=>{const g=yt.macroTokenToFormatOpts(d);return g?this.formatWithSystemDefault(t,g):d},h=d=>n?rp(t,d):s({era:d},"era"),m=d=>{switch(d){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(t.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(t.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(t.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(d)}};return ku(yt.parseFormat(r),m)}formatDurationFromString(t,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const p=n(u);return p?this.num(l.get(p),u.length):u},s=yt.parseFormat(r),a=s.reduce((l,{literal:u,val:p})=>u?l:l.concat(p),[]),o=t.shiftTo(...a.map(n).filter(l=>l));return ku(s,i(o))}}class jt{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const pd=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Fn(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function Rn(...e){return t=>e.reduce(([r,n,i],s)=>{const[a,o,l]=s(t,i);return[{...r,...a},o||n,l]},[{},null,1]).slice(0,2)}function In(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function vd(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=kr(t[r+i]);return[n,null,r+i]}}const yd=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,sp=`(?:${yd.source}?(?:\\[(${pd.source})\\])?)?`,ml=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,_d=RegExp(`${ml.source}${sp}`),pl=RegExp(`(?:T${_d.source})?`),ap=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,op=/(\d{4})-?W(\d\d)(?:-?(\d))?/,lp=/(\d{4})-?(\d{3})/,up=vd("weekYear","weekNumber","weekDay"),cp=vd("year","ordinal"),hp=/(\d{4})-(\d\d)-(\d\d)/,bd=RegExp(`${ml.source} ?(?:${yd.source}|(${pd.source}))?`),fp=RegExp(`(?: ${bd.source})?`);function wn(e,t,r){const n=e[t];return Le(n)?r:kr(n)}function dp(e,t){return[{year:wn(e,t),month:wn(e,t+1,1),day:wn(e,t+2,1)},null,t+3]}function Dn(e,t){return[{hours:wn(e,t,0),minutes:wn(e,t+1,0),seconds:wn(e,t+2,0),milliseconds:fl(e[t+3])},null,t+4]}function ms(e,t){const r=!e[t]&&!e[t+1],n=Aa(e[t+1],e[t+2]),i=r?null:wt.instance(n);return[{},i,t+3]}function ps(e,t){const r=e[t]?mr.create(e[t]):null;return[{},r,t+1]}const gp=RegExp(`^T?${ml.source}$`),mp=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function pp(e){const[t,r,n,i,s,a,o,l,u]=e,p=t[0]==="-",h=l&&l[0]==="-",m=(d,g=!1)=>d!==void 0&&(g||d&&p)?-d:d;return[{years:m(Vr(r)),months:m(Vr(n)),weeks:m(Vr(i)),days:m(Vr(s)),hours:m(Vr(a)),minutes:m(Vr(o)),seconds:m(Vr(l),l==="-0"),milliseconds:m(fl(u),h)}]}const vp={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vl(e,t,r,n,i,s,a){const o={year:t.length===2?Mo(kr(t)):kr(t),month:ud.indexOf(r)+1,day:kr(n),hour:kr(i),minute:kr(s)};return a&&(o.second=kr(a)),e&&(o.weekday=e.length>3?hd.indexOf(e)+1:fd.indexOf(e)+1),o}const yp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function _p(e){const[,t,r,n,i,s,a,o,l,u,p,h]=e,m=vl(t,i,n,r,s,a,o);let d;return l?d=vp[l]:u?d=0:d=Aa(p,h),[m,new wt(d)]}function bp(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Sp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Cp=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,wp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ou(e){const[,t,r,n,i,s,a,o]=e;return[vl(t,i,n,r,s,a,o),wt.utcInstance]}function Tp(e){const[,t,r,n,i,s,a,o]=e;return[vl(t,o,r,n,i,s,a),wt.utcInstance]}const Ep=Fn(ap,pl),xp=Fn(op,pl),Ap=Fn(lp,pl),kp=Fn(_d),Sd=Rn(dp,Dn,ms,ps),Op=Rn(up,Dn,ms,ps),Pp=Rn(cp,Dn,ms,ps),Mp=Rn(Dn,ms,ps);function Np(e){return In(e,[Ep,Sd],[xp,Op],[Ap,Pp],[kp,Mp])}function Fp(e){return In(bp(e),[yp,_p])}function Rp(e){return In(e,[Sp,Ou],[Cp,Ou],[wp,Tp])}function Ip(e){return In(e,[mp,pp])}const Dp=Rn(Dn);function Lp(e){return In(e,[gp,Dp])}const Bp=Fn(hp,fp),Gp=Fn(bd),Up=Rn(Dn,ms,ps);function Vp(e){return In(e,[Bp,Sd],[Gp,Up])}const Hp="Invalid Duration",Cd={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},$p={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Cd},Bt=146097/400,dn=146097/4800,Wp={years:{quarters:4,months:12,weeks:Bt/7,days:Bt,hours:Bt*24,minutes:Bt*24*60,seconds:Bt*24*60*60,milliseconds:Bt*24*60*60*1e3},quarters:{months:3,weeks:Bt/28,days:Bt/4,hours:Bt*24/4,minutes:Bt*24*60/4,seconds:Bt*24*60*60/4,milliseconds:Bt*24*60*60*1e3/4},months:{weeks:dn/7,days:dn,hours:dn*24,minutes:dn*24*60,seconds:dn*24*60*60,milliseconds:dn*24*60*60*1e3},...Cd},Wr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Kp=Wr.slice(0).reverse();function Tr(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Be(n)}function qp(e){return e<0?Math.floor(e):Math.ceil(e)}function wd(e,t,r,n,i){const s=e[i][r],a=t[r]/s,o=Math.sign(a)===Math.sign(n[i]),l=!o&&n[i]!==0&&Math.abs(a)<=1?qp(a):Math.trunc(a);n[i]+=l,t[r]-=l*s}function zp(e,t){Kp.reduce((r,n)=>Le(t[n])?r:(r&&wd(e,t,r,t,n),n),null)}function jp(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class Be{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?Wp:$p;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||Ze.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return Be.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Gt(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Be({values:ra(t,Be.normalizeUnit),loc:Ze.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Jr(t))return Be.fromMillis(t);if(Be.isDuration(t))return t;if(typeof t=="object")return Be.fromObject(t);throw new Gt(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=Ip(t);return n?Be.fromObject(n,r):Be.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=Lp(t);return n?Be.fromObject(n,r):Be.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Gt("need to specify a reason the Duration is invalid");const n=t instanceof jt?t:new jt(t,r);if(at.throwOnInvalid)throw new Cm(n);return new Be({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new Uf(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?yt.create(this.loc,n).formatDurationFromString(this,t):Hp}toHuman(t={}){const r=Wr.map(n=>{const i=this.values[n];return Le(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=dl(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();if(r<0||r>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const n=this.shiftTo("hours","minutes","seconds","milliseconds");let i=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let s=n.toFormat(i);return t.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Be.fromDurationLike(t),n={};for(const i of Wr)(kn(r.values,i)||kn(this.values,i))&&(n[i]=r.get(i)+this.get(i));return Tr(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=Be.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=ld(t(this.values[n],n));return Tr(this,{values:r},!0)}get(t){return this[Be.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...ra(t,Be.normalizeUnit)};return Tr(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return Tr(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return zp(this.matrix,t),Tr(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=jp(this.normalize().shiftToAll().toObject());return Tr(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>Be.normalizeUnit(a));const r={},n={},i=this.toObject();let s;for(const a of Wr)if(t.indexOf(a)>=0){s=a;let o=0;for(const u in n)o+=this.matrix[u][a]*n[u],n[u]=0;Jr(i[a])&&(o+=i[a]);const l=Math.trunc(o);r[a]=l,n[a]=(o*1e3-l*1e3)/1e3;for(const u in i)Wr.indexOf(u)>Wr.indexOf(a)&&wd(this.matrix,i,u,r,a)}else Jr(i[a])&&(n[a]=i[a]);for(const a in n)n[a]!==0&&(r[s]+=a===s?n[a]:n[a]/this.matrix[s][a]);return Tr(this,{values:r},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Tr(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Wr)if(!r(this.values[n],t.values[n]))return!1;return!0}}const gn="Invalid Interval";function Yp(e,t){return!e||!e.isValid?tt.invalid("missing or invalid start"):!t||!t.isValid?tt.invalid("missing or invalid end"):t<e?tt.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class tt{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Gt("need to specify a reason the Interval is invalid");const n=t instanceof jt?t:new jt(t,r);if(at.throwOnInvalid)throw new Sm(n);return new tt({invalid:n})}static fromDateTimes(t,r){const n=qn(t),i=qn(r),s=Yp(n,i);return s??new tt({start:n,end:i})}static after(t,r){const n=Be.fromDurationLike(r),i=qn(t);return tt.fromDateTimes(i,i.plus(n))}static before(t,r){const n=Be.fromDurationLike(r),i=qn(t);return tt.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let s,a;try{s=Ee.fromISO(n,r),a=s.isValid}catch{a=!1}let o,l;try{o=Ee.fromISO(i,r),l=o.isValid}catch{l=!1}if(a&&l)return tt.fromDateTimes(s,o);if(a){const u=Be.fromISO(i,r);if(u.isValid)return tt.after(s,u)}else if(l){const u=Be.fromISO(n,r);if(u.isValid)return tt.before(o,u)}}return tt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(r,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?tt.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(qn).filter(a=>this.contains(a)).sort(),n=[];let{s:i}=this,s=0;for(;i<this.e;){const a=r[s]||this.e,o=+a>+this.e?this.e:a;n.push(tt.fromDateTimes(i,o)),i=o,s+=1}return n}splitBy(t){const r=Be.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const a=[];for(;n<this.e;){const o=this.start.plus(r.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(tt.fromDateTimes(n,s)),n=s,i+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:tt.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return tt.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,u)=>l.time-u.time);for(const l of o)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(tt.fromDateTimes(r,l.time)),r=null);return tt.merge(i)}difference(...t){return tt.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:gn}toLocaleString(t=Qs,r={}){return this.isValid?yt.create(this.s.loc.clone(r),t).formatInterval(this):gn}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:gn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:gn}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:gn}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:gn}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Be.invalid(this.invalidReason)}mapEndpoints(t){return tt.fromDateTimes(t(this.s),t(this.e))}}class Fs{static hasDST(t=at.defaultZone){const r=Ee.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return mr.isValidZone(t)}static normalizeZone(t){return Or(t,at.defaultZone)}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Ze.create(r,n,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Ze.create(r,n,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Ze.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Ze.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Ze.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Ze.create(r,null,"gregory").eras(t)}static features(){return{relative:ad()}}}function Pu(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(Be.fromMillis(n).as("days"))}function Xp(e,t,r){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const p=Pu(l,u);return(p-p%7)/7}],["days",Pu]],i={},s=e;let a,o;for(const[l,u]of n)r.indexOf(l)>=0&&(a=l,i[l]=u(e,t),o=s.plus(i),o>t?(i[l]--,e=s.plus(i)):e=o);return[e,i,o,a]}function Zp(e,t,r,n){let[i,s,a,o]=Xp(e,t,r);const l=t-i,u=r.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);u.length===0&&(a<t&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const p=Be.fromObject(s,n);return u.length>0?Be.fromMillis(l,n).shiftTo(...u).plus(p):p}const yl={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Mu={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Jp=yl.hanidec.replace(/[\[|\]]/g,"").split("");function Qp(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(yl.hanidec)!==-1)t+=Jp.indexOf(e[r]);else for(const i in Mu){const[s,a]=Mu[i];n>=s&&n<=a&&(t+=n-s)}}return parseInt(t,10)}else return t}function $t({numberingSystem:e},t=""){return new RegExp(`${yl[e||"latn"]}${t}`)}const ev="missing Intl.DateTimeFormat.formatToParts support";function Ve(e,t=r=>r){return{regex:e,deser:([r])=>t(Qp(r))}}const tv=String.fromCharCode(160),Td=`[ ${tv}]`,Ed=new RegExp(Td,"g");function rv(e){return e.replace(/\./g,"\\.?").replace(Ed,Td)}function Nu(e){return e.replace(/\./g,"").replace(Ed," ").toLowerCase()}function Wt(e,t){return e===null?null:{regex:RegExp(e.map(rv).join("|")),deser:([r])=>e.findIndex(n=>Nu(r)===Nu(n))+t}}function Fu(e,t){return{regex:e,deser:([,r,n])=>Aa(r,n),groups:t}}function Rs(e){return{regex:e,deser:([t])=>t}}function nv(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function iv(e,t){const r=$t(t),n=$t(t,"{2}"),i=$t(t,"{3}"),s=$t(t,"{4}"),a=$t(t,"{6}"),o=$t(t,"{1,2}"),l=$t(t,"{1,3}"),u=$t(t,"{1,6}"),p=$t(t,"{1,9}"),h=$t(t,"{2,4}"),m=$t(t,"{4,6}"),d=S=>({regex:RegExp(nv(S.val)),deser:([T])=>T,literal:!0}),b=(S=>{if(e.literal)return d(S);switch(S.val){case"G":return Wt(t.eras("short",!1),0);case"GG":return Wt(t.eras("long",!1),0);case"y":return Ve(u);case"yy":return Ve(h,Mo);case"yyyy":return Ve(s);case"yyyyy":return Ve(m);case"yyyyyy":return Ve(a);case"M":return Ve(o);case"MM":return Ve(n);case"MMM":return Wt(t.months("short",!0,!1),1);case"MMMM":return Wt(t.months("long",!0,!1),1);case"L":return Ve(o);case"LL":return Ve(n);case"LLL":return Wt(t.months("short",!1,!1),1);case"LLLL":return Wt(t.months("long",!1,!1),1);case"d":return Ve(o);case"dd":return Ve(n);case"o":return Ve(l);case"ooo":return Ve(i);case"HH":return Ve(n);case"H":return Ve(o);case"hh":return Ve(n);case"h":return Ve(o);case"mm":return Ve(n);case"m":return Ve(o);case"q":return Ve(o);case"qq":return Ve(n);case"s":return Ve(o);case"ss":return Ve(n);case"S":return Ve(l);case"SSS":return Ve(i);case"u":return Rs(p);case"uu":return Rs(o);case"uuu":return Ve(r);case"a":return Wt(t.meridiems(),0);case"kkkk":return Ve(s);case"kk":return Ve(h,Mo);case"W":return Ve(o);case"WW":return Ve(n);case"E":case"c":return Ve(r);case"EEE":return Wt(t.weekdays("short",!1,!1),1);case"EEEE":return Wt(t.weekdays("long",!1,!1),1);case"ccc":return Wt(t.weekdays("short",!0,!1),1);case"cccc":return Wt(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Fu(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return Fu(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return Rs(/[a-z_+-/]{1,256}?/i);case" ":return Rs(/[^\S\n\r]/);default:return d(S)}})(e)||{invalidReason:ev};return b.token=e,b}const sv={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function av(e,t){const{type:r,value:n}=e;if(r==="literal"){const a=/^\s+$/.test(n);return{literal:!a,val:a?" ":n}}const i=t[r];let s=sv[r];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function ov(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function lv(e,t,r){const n=e.match(t);if(n){const i={};let s=1;for(const a in r)if(kn(r,a)){const o=r[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function uv(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Le(e.z)||(r=mr.create(e.z)),Le(e.Z)||(r||(r=new wt(e.Z)),n=e.Z),Le(e.q)||(e.M=(e.q-1)*3+1),Le(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Le(e.u)||(e.S=fl(e.u)),[Object.keys(e).reduce((s,a)=>{const o=t(a);return o&&(s[o]=e[a]),s},{}),r,n]}let Ka=null;function cv(){return Ka||(Ka=Ee.fromMillis(1555555555555)),Ka}function hv(e,t){if(e.literal)return e;const r=yt.macroTokenToFormatOpts(e.val),n=kd(r,t);return n==null||n.includes(void 0)?e:n}function xd(e,t){return Array.prototype.concat(...e.map(r=>hv(r,t)))}function Ad(e,t,r){const n=xd(yt.parseFormat(r),e),i=n.map(a=>iv(a,e)),s=i.find(a=>a.invalidReason);if(s)return{input:t,tokens:n,invalidReason:s.invalidReason};{const[a,o]=ov(i),l=RegExp(a,"i"),[u,p]=lv(t,l,o),[h,m,d]=p?uv(p):[null,null,void 0];if(kn(p,"a")&&kn(p,"H"))throw new Li("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:u,matches:p,result:h,zone:m,specificOffset:d}}}function fv(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:a}=Ad(e,t,r);return[n,i,s,a]}function kd(e,t){return e?yt.create(t,e).formatDateTimeParts(cv()).map(i=>av(i,e)):null}const Od=[0,31,59,90,120,151,181,212,243,273,304,334],Pd=[0,31,60,91,121,152,182,213,244,274,305,335];function Vt(e,t){return new jt("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Md(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function Nd(e,t,r){return r+(gs(e)?Pd:Od)[t-1]}function Fd(e,t){const r=gs(e)?Pd:Od,n=r.findIndex(s=>s<t),i=t-r[n];return{month:n+1,day:i}}function No(e){const{year:t,month:r,day:n}=e,i=Nd(t,r,n),s=Md(t,r,n);let a=Math.floor((i-s+10)/7),o;return a<1?(o=t-1,a=ta(o)):a>ta(t)?(o=t+1,a=1):o=t,{weekYear:o,weekNumber:a,weekday:s,...ka(e)}}function Ru(e){const{weekYear:t,weekNumber:r,weekday:n}=e,i=Md(t,1,4),s=qi(t);let a=r*7+n-i-3,o;a<1?(o=t-1,a+=qi(o)):a>s?(o=t+1,a-=qi(t)):o=t;const{month:l,day:u}=Fd(o,a);return{year:o,month:l,day:u,...ka(e)}}function qa(e){const{year:t,month:r,day:n}=e,i=Nd(t,r,n);return{year:t,ordinal:i,...ka(e)}}function Iu(e){const{year:t,ordinal:r}=e,{month:n,day:i}=Fd(t,r);return{year:t,month:n,day:i,...ka(e)}}function dv(e){const t=xa(e.weekYear),r=hr(e.weekNumber,1,ta(e.weekYear)),n=hr(e.weekday,1,7);return t?r?n?!1:Vt("weekday",e.weekday):Vt("week",e.week):Vt("weekYear",e.weekYear)}function gv(e){const t=xa(e.year),r=hr(e.ordinal,1,qi(e.year));return t?r?!1:Vt("ordinal",e.ordinal):Vt("year",e.year)}function Rd(e){const t=xa(e.year),r=hr(e.month,1,12),n=hr(e.day,1,ea(e.year,e.month));return t?r?n?!1:Vt("day",e.day):Vt("month",e.month):Vt("year",e.year)}function Id(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=hr(t,0,23)||t===24&&r===0&&n===0&&i===0,a=hr(r,0,59),o=hr(n,0,59),l=hr(i,0,999);return s?a?o?l?!1:Vt("millisecond",i):Vt("second",n):Vt("minute",r):Vt("hour",t)}const za="Invalid DateTime",Du=864e13;function Is(e){return new jt("unsupported zone",`the zone "${e.name}" is not supported`)}function ja(e){return e.weekData===null&&(e.weekData=No(e.c)),e.weekData}function Wn(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ee({...r,...t,old:r})}function Dd(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[e-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Lu(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Vs(e,t,r){return Dd(gl(e),t,r)}function Bu(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:n,month:i,day:Math.min(e.c.day,ea(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=Be.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=gl(s);let[l,u]=Dd(o,r,e.zone);return a!==0&&(l+=a,u=e.zone.offset(l)),{ts:l,o:u}}function Kn(e,t,r,n,i,s){const{setZone:a,zone:o}=r;if(e&&Object.keys(e).length!==0||t){const l=t||o,u=Ee.fromObject(e,{...r,zone:l,specificOffset:s});return a?u:u.setZone(o)}else return Ee.invalid(new jt("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Ds(e,t,r=!0){return e.isValid?yt.create(Ze.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Ya(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=ot(e.c.year,r?6:4),t?(n+="-",n+=ot(e.c.month),n+="-",n+=ot(e.c.day)):(n+=ot(e.c.month),n+=ot(e.c.day)),n}function Gu(e,t,r,n,i,s){let a=ot(e.c.hour);return t?(a+=":",a+=ot(e.c.minute),(e.c.second!==0||!r)&&(a+=":")):a+=ot(e.c.minute),(e.c.second!==0||!r)&&(a+=ot(e.c.second),(e.c.millisecond!==0||!n)&&(a+=".",a+=ot(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!s?a+="Z":e.o<0?(a+="-",a+=ot(Math.trunc(-e.o/60)),a+=":",a+=ot(Math.trunc(-e.o%60))):(a+="+",a+=ot(Math.trunc(e.o/60)),a+=":",a+=ot(Math.trunc(e.o%60)))),s&&(a+="["+e.zone.ianaName+"]"),a}const Ld={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},mv={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},pv={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Bd=["year","month","day","hour","minute","second","millisecond"],vv=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],yv=["year","ordinal","hour","minute","second","millisecond"];function Uu(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Uf(e);return t}function Vu(e,t){const r=Or(t.zone,at.defaultZone),n=Ze.fromObject(t),i=at.now();let s,a;if(Le(e.year))s=i;else{for(const u of Bd)Le(e[u])&&(e[u]=Ld[u]);const o=Rd(e)||Id(e);if(o)return Ee.invalid(o);const l=r.offset(i);[s,a]=Vs(e,l,r)}return new Ee({ts:s,zone:r,loc:n,o:a})}function Hu(e,t,r){const n=Le(r.round)?!0:r.round,i=(a,o)=>(a=dl(a,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(a,o)),s=a=>r.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(r.unit)return i(s(r.unit),r.unit);for(const a of r.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(e>t?-0:0,r.units[r.units.length-1])}function $u(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class Ee{constructor(t){const r=t.zone||at.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new jt("invalid input"):null)||(r.isValid?null:Is(r));this.ts=Le(t.ts)?at.now():t.ts;let i=null,s=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,s]=[t.old.c,t.old.o];else{const o=r.offset(this.ts);i=Lu(this.ts,o),n=Number.isNaN(i.year)?new jt("invalid input"):null,i=n?null:i,s=n?null:o}this._zone=r,this.loc=t.loc||Ze.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ee({})}static local(){const[t,r]=$u(arguments),[n,i,s,a,o,l,u]=r;return Vu({year:n,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},t)}static utc(){const[t,r]=$u(arguments),[n,i,s,a,o,l,u]=r;return t.zone=wt.utcInstance,Vu({year:n,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},t)}static fromJSDate(t,r={}){const n=$m(t)?t.valueOf():NaN;if(Number.isNaN(n))return Ee.invalid("invalid input");const i=Or(r.zone,at.defaultZone);return i.isValid?new Ee({ts:n,zone:i,loc:Ze.fromObject(r)}):Ee.invalid(Is(i))}static fromMillis(t,r={}){if(Jr(t))return t<-Du||t>Du?Ee.invalid("Timestamp out of range"):new Ee({ts:t,zone:Or(r.zone,at.defaultZone),loc:Ze.fromObject(r)});throw new Gt(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Jr(t))return new Ee({ts:t*1e3,zone:Or(r.zone,at.defaultZone),loc:Ze.fromObject(r)});throw new Gt("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=Or(r.zone,at.defaultZone);if(!n.isValid)return Ee.invalid(Is(n));const i=at.now(),s=Le(r.specificOffset)?n.offset(i):r.specificOffset,a=ra(t,Uu),o=!Le(a.ordinal),l=!Le(a.year),u=!Le(a.month)||!Le(a.day),p=l||u,h=a.weekYear||a.weekNumber,m=Ze.fromObject(r);if((p||o)&&h)throw new Li("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new Li("Can't mix ordinal dates with month/day");const d=h||a.weekday&&!p;let g,b,S=Lu(i,s);d?(g=vv,b=mv,S=No(S)):o?(g=yv,b=pv,S=qa(S)):(g=Bd,b=Ld);let T=!1;for(const w of g){const x=a[w];Le(x)?T?a[w]=b[w]:a[w]=S[w]:T=!0}const f=d?dv(a):o?gv(a):Rd(a),c=f||Id(a);if(c)return Ee.invalid(c);const y=d?Ru(a):o?Iu(a):a,[_,k]=Vs(y,s,n),N=new Ee({ts:_,zone:n,o:k,loc:m});return a.weekday&&p&&t.weekday!==N.weekday?Ee.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${N.toISO()}`):N}static fromISO(t,r={}){const[n,i]=Np(t);return Kn(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=Fp(t);return Kn(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=Rp(t);return Kn(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(Le(t)||Le(r))throw new Gt("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,a=Ze.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,u,p]=fv(a,t,r);return p?Ee.invalid(p):Kn(o,l,n,`format ${r}`,t,u)}static fromString(t,r,n={}){return Ee.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=Vp(t);return Kn(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Gt("need to specify a reason the DateTime is invalid");const n=t instanceof jt?t:new jt(t,r);if(at.throwOnInvalid)throw new bm(n);return new Ee({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=kd(t,Ze.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return xd(yt.parseFormat(t),Ze.fromObject(r)).map(i=>i.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ja(this).weekYear:NaN}get weekNumber(){return this.isValid?ja(this).weekNumber:NaN}get weekday(){return this.isValid?ja(this).weekday:NaN}get ordinal(){return this.isValid?qa(this.c).ordinal:NaN}get monthShort(){return this.isValid?Fs.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Fs.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Fs.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Fs.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return gs(this.year)}get daysInMonth(){return ea(this.year,this.month)}get daysInYear(){return this.isValid?qi(this.year):NaN}get weeksInWeekYear(){return this.isValid?ta(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=yt.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(wt.instance(t),r)}toLocal(){return this.setZone(at.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Or(t,at.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const s=t.offset(this.ts),a=this.toObject();[i]=Vs(a,s,t)}return Wn(this,{ts:i,zone:t})}else return Ee.invalid(Is(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return Wn(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=ra(t,Uu),n=!Le(r.weekYear)||!Le(r.weekNumber)||!Le(r.weekday),i=!Le(r.ordinal),s=!Le(r.year),a=!Le(r.month)||!Le(r.day),o=s||a,l=r.weekYear||r.weekNumber;if((o||i)&&l)throw new Li("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new Li("Can't mix ordinal dates with month/day");let u;n?u=Ru({...No(this.c),...r}):Le(r.ordinal)?(u={...this.toObject(),...r},Le(r.day)&&(u.day=Math.min(ea(u.year,u.month),u.day))):u=Iu({...qa(this.c),...r});const[p,h]=Vs(u,this.o,this.zone);return Wn(this,{ts:p,o:h})}plus(t){if(!this.isValid)return this;const r=Be.fromDurationLike(t);return Wn(this,Bu(this,r))}minus(t){if(!this.isValid)return this;const r=Be.fromDurationLike(t).negate();return Wn(this,Bu(this,r))}startOf(t){if(!this.isValid)return this;const r={},n=Be.normalizeUnit(t);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){const i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,r={}){return this.isValid?yt.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):za}toLocaleString(t=Qs,r={}){return this.isValid?yt.create(this.loc.clone(r),t).formatDateTime(this):za}toLocaleParts(t={}){return this.isValid?yt.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=t==="extended";let o=Ya(this,a);return o+="T",o+=Gu(this,a,r,n,i,s),o}toISODate({format:t="extended"}={}){return this.isValid?Ya(this,t==="extended"):null}toISOWeekDate(){return Ds(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+Gu(this,a==="extended",r,t,n,s):null}toRFC2822(){return Ds(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ds(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ya(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),Ds(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():za}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return Be.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=Wm(r).map(Be.normalizeUnit),a=t.valueOf()>this.valueOf(),o=a?this:t,l=a?t:this,u=Zp(o,l,s,i);return a?u.negate():u}diffNow(t="milliseconds",r={}){return this.diff(Ee.now(),t,r)}until(t){return this.isValid?tt.fromDateTimes(this,t):this}hasSame(t,r){if(!this.isValid)return!1;const n=t.valueOf(),i=this.setZone(t.zone,{keepLocalTime:!0});return i.startOf(r)<=n&&n<=i.endOf(r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||Ee.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(i=t.unit,s=void 0),Hu(r,this.plus(n),{...t,numeric:"always",units:i,unit:s})}toRelativeCalendar(t={}){return this.isValid?Hu(t.base||Ee.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ee.isDateTime))throw new Gt("min requires all arguments be DateTimes");return Au(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(Ee.isDateTime))throw new Gt("max requires all arguments be DateTimes");return Au(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,a=Ze.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return Ad(a,t,r)}static fromStringExplain(t,r,n={}){return Ee.fromFormatExplain(t,r,n)}static get DATE_SHORT(){return Qs}static get DATE_MED(){return Vf}static get DATE_MED_WITH_WEEKDAY(){return wm}static get DATE_FULL(){return Hf}static get DATE_HUGE(){return $f}static get TIME_SIMPLE(){return Wf}static get TIME_WITH_SECONDS(){return Kf}static get TIME_WITH_SHORT_OFFSET(){return qf}static get TIME_WITH_LONG_OFFSET(){return zf}static get TIME_24_SIMPLE(){return jf}static get TIME_24_WITH_SECONDS(){return Yf}static get TIME_24_WITH_SHORT_OFFSET(){return Xf}static get TIME_24_WITH_LONG_OFFSET(){return Zf}static get DATETIME_SHORT(){return Jf}static get DATETIME_SHORT_WITH_SECONDS(){return Qf}static get DATETIME_MED(){return ed}static get DATETIME_MED_WITH_SECONDS(){return td}static get DATETIME_MED_WITH_WEEKDAY(){return Tm}static get DATETIME_FULL(){return rd}static get DATETIME_FULL_WITH_SECONDS(){return nd}static get DATETIME_HUGE(){return id}static get DATETIME_HUGE_WITH_SECONDS(){return sd}}function qn(e){if(Ee.isDateTime(e))return e;if(e&&e.valueOf&&Jr(e.valueOf()))return Ee.fromJSDate(e);if(e&&typeof e=="object")return Ee.fromObject(e);throw new Gt(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const _v=()=>Ee.now().toISO(),Ln=Nn("wheel",{state(){return{currentKey:_v(),options:[],history:{},colorIndex:0}},getters:{unitAngle(e){return 360/Wu(e.options.length,e.options)}},actions:{fill(e){this.options=e.map((t,r)=>({...t,color:Ls[r%Ls.length]})),this.colorIndex=this.options.length},sum(e){return Wu(e,this.options)},addOption(e){const t=this.options.findIndex(r=>r.key===e);t!==-1?this.options[t].count+=1:this.options.push({key:e,count:1,color:Ls[this.colorIndex++%Ls.length]})},subOption(e){const t=this.options.findIndex(r=>r.key===e);this.options[t].count-=1,this.options[t].count===0&&this.options.splice(t,1)},async loadHistory(){const e=await ir.getItem("wheels")||{},t=(await ir.keys()).filter(r=>r==null?void 0:r.startsWith("wheel "));for(const r of t){const n=r.slice(6),i=await ir.getItem(r);e[n]=i,console.log(n,e[n]),await ir.setItem("_"+r,await ir.getItem(r)),ir.removeItem(r)}console.log(t),t.length&&await ir.setItem("wheels",e),this.$patch({history:e})},deleteHistory(e){return delete this.history[e],this.save()},load(e){this.history[e]&&this.fill(this.history[e])},async save(){await ir.setItem(this.currentKey,JSON.parse(JSON.stringify(this.options))),await ir.setItem("wheels",JSON.parse(JSON.stringify(this.history)))}}}),Ls=["#ffc1ca","#aefcc8","#d7ffa0","#f2a798","#c3ea70","#95f9ec","#d4bdfc","#ffc6fa","#f4c89c","#fc7bc4","#72bde5","#ed6a91","#8cf7a5","#f187ff","#b381e8"];function Wu(e,t){let r=0;for(let n=0;n<e;n++)r+=t[n].count;return r}const Ku={line:/^(?:@(?<tags>(?:.+?=.*?)(?:;.+?=.*?)*) )?(?::(?<source>[^ ]+?) )?(?<command>[0-9]{3}|[a-zA-Z]+)(?: (?<params>.+?))?(?: :(?<content>.*))?$/,user:/^(?:(?<nick>[^\s]+?)!(?<user>[^\s]+?)@)?(?<host>[^\s]+)$/},Bn=Nn("connection",{state(){return{toonationPayload:"",logs:[],socket_twitch:Qt(null),socket_toonation:Qt(null),retryCount:0,roulette_idle:!0,roulette_temp:[]}},actions:{result({type:e,status:t,detail:r}){if(e==="twitch"||e==="toonation"){for(let n=Math.max(0,this.logs.length-10);n<this.logs.length;n++)if(this.logs[n].type===e){this.logs.splice(n,1);break}}this.logs.push({type:e,status:t,detail:r})},async connectAll(){const e=an();this.connectTwitch(e.channel||void 0),await this.prepareToonation(e.password),this.connectToonation()},connectTwitch(e="arpa__"){this.socket_twitch||(this.socket_twitch=new WebSocket("wss://irc-ws.chat.twitch.tv"),this.result({type:"twitch",status:"connecting"}),this.socket_twitch.onopen=()=>{var t,r,n;(t=this.socket_twitch)==null||t.send("CAP REQ :twitch.tv/commands twitch.tv/tags"),(r=this.socket_twitch)==null||r.send("NICK justinfan9705"),(n=this.socket_twitch)==null||n.send("JOIN #"+e),this.result({type:"twitch",status:"connected",detail:e})},this.socket_twitch.onmessage=t=>{t.data.split(`\r
`).forEach(n=>this.parseTwitch(n))},this.socket_twitch.onclose=()=>{const t=this.logs.filter(r=>r.type==="twitch");(t.length===0||t.slice(-1)[0].status==="connected")&&this.result({type:"twitch",status:"disconnected"}),this.socket_twitch=null,setTimeout(this.connectTwitch,1e3,e)})},parseTwitch(e){var r,n,i;if(!e)return;const{groups:t}=Ku.line.exec(e)??{};if(t){if(t.command==="PING")(r=this.socket_twitch)==null||r.send(`PONG ${t.params}`);else if(t.command==="PRIVMSG"){if(!t.content.includes("!픽"))return;const s={tags:Object.fromEntries(((n=t.tags)==null?void 0:n.split(new RegExp("(?<!\\\\);")).map(l=>l.split(new RegExp("(?<!\\\\)="))).map(([l,...u])=>[l.replaceAll("-","_"),u.join("=")]))??[]),source:{full:t.source,...((i=Ku.user.exec(t.source))==null?void 0:i.groups)??{}},command:t.command,params:t.params,content:t.content.startsWith("ACTION")?t.content.slice(8,-1):t.content},{name:a,status:o}=er().parse(s);this.result({type:"vote",status:o,detail:a})}}},async prepareToonation(e){const t=await fetch("https://cors-proxy.bloppyhb.workers.dev/https://toon.at/widget/alertbox/"+e).then(n=>n.text()),r=/"payload":"(\w+)"/.exec(t);if(r)return this.toonationPayload=r[1],r[1];throw new Error("투네이션 Payload를 가져오지 못했습니다.")},connectToonation(e){if(e||(e=this.toonationPayload),!e)throw new Error("no payload given");this.socket_toonation||(this.socket_toonation=new WebSocket("wss://toon.at:8071/"+e),this.result({type:"toonation",status:"connecting"}),this.socket_toonation.onopen=()=>{this.result({type:"toonation",status:"connected"}),this.retryCount=0},this.socket_toonation.onmessage=t=>{var n;const r=JSON.parse(t.data);if((n=r.content)!=null&&n.roulette){const i=r.content.amount,s=Math.floor(i/1e3);er().limitless&&(er().limit+=s);const o=r.content.message.split(" - ")[1];o!=="꽝"&&(this.roulette_idle?Ln().addOption(o):this.roulette_temp.push(o))}},this.socket_toonation.onclose=()=>{const t=this.logs.filter(r=>r.type==="toonation");(t.length===0||t.slice(-1)[0].status==="connected")&&this.result({type:"toonation",status:"disconnected"}),this.socket_toonation=null,setTimeout(this.connectToonation,this.retryCount>0?1e3:10,e),this.retryCount++})}}}),bv="platinumkey",Sv="1.3.0",Cv="module",wv={dev:"vite",build:"vue-tsc && vite build",preview:"vite preview"},Tv={konva:"^9.2.0",localforage:"^1.10.0",luxon:"^3.3.0",pinia:"^2.1.4",vue:"^3.2.47","vue-konva":"^3.0.2"},Ev={"@types/luxon":"^3.3.0","@types/obs-studio":"^2.17.0","@vitejs/plugin-vue":"^4.2.3",konva:"^9.2.0",localforage:"^1.10.0",luxon:"^3.3.0",pinia:"^2.1.4",sass:"^1.63.6",typescript:"^5.1.6",vite:"^4.3.9","vue-konva":"^3.0.2","vue-tsc":"^1.8.3"},xv={name:bv,private:!0,version:Sv,type:Cv,scripts:wv,dependencies:Tv,devDependencies:Ev},Av={props:{editable:Boolean,list:{type:Array,default:[]}},emits:["add","remove"],methods:{enter(e,t){console.log("keypress.enter at",t),e.shiftKey?this.focus(t,-1):this.list.length<t+1?this.focus(t,1):(this.$emit("add",t),this.$nextTick(()=>{this.focus(t,1)}))},focus(e,t){this.$refs.fields[e+t].focus()}},watch:{list(e){console.log(JSON.parse(JSON.stringify(e)))}}};const kv=["onUpdate:modelValue","disabled","onKeypress"],Ov=["onUpdate:modelValue","disabled","onKeypress"],Pv=["onClick"],Mv=j("span",{class:"material-icons-outlined"},"close",-1),Nv=[Mv],Fv={key:0,class:"goldenkey-list-last"},Rv=j("label",{class:"goldenkey-list-last-label",for:"goldenkey-list-last-add"}," Enter를 눌러 추가… ",-1),Iv=j("span",{class:"material-icons-outlined"},"add",-1),Dv=[Iv];function Lv(e,t,r,n,i,s){return fe(),pe("ul",{class:Qe(["goldenkey-list",{"goldenkey-list-editable":r.editable}])},[(fe(!0),pe(De,null,Rt(r.list,(a,o)=>(fe(),pe("li",{key:o},[mt(j("input",{type:"text","onUpdate:modelValue":l=>a.key=l,disabled:!r.editable,ref_for:!0,ref:"fields",onKeypress:ns(l=>s.enter(l,o),["enter"])},null,40,kv),[[nr,a.key]]),mt(j("input",{type:"number","onUpdate:modelValue":l=>a.count=l,disabled:!r.editable,onKeypress:ns(l=>s.enter(l,o),["enter"])},null,40,Ov),[[nr,a.count]]),r.editable?(fe(),pe("button",{key:0,onClick:l=>e.$emit("remove",o)},Nv,8,Pv)):je("",!0)]))),128)),r.editable?(fe(),pe("li",Fv,[Rv,j("button",{onClick:t[0]||(t[0]=a=>e.$emit("add",r.list.length-1)),id:"goldenkey-list-last-add"},Dv)])):je("",!0)],2)}const Bv=ft(Av,[["render",Lv]]),Gv={props:{title:String},data:()=>({ui:fs()})};const Uv={class:"start-common"};function Vv(e,t,r,n,i,s){return fe(),pe("div",Uv,[j("h3",null,Ue(r.title),1),js(e.$slots,"default"),j("footer",null,[j("button",{onClick:t[0]||(t[0]=a=>e.ui.navigate("start",null)),style:{"margin-right":"auto"}}," 뒤로 "),js(e.$slots,"buttons")])])}const Gd=ft(Gv,[["render",Vv]]),Hv={components:{KeyList:Bv,PageBase:Gd},data:()=>({board:er(),options:an(),wheel:Ln(),connect:Bn(),ui:fs(),selectedKey:null}),methods:{async beginGame(e){const t=e?this.currentWheel:[];this.options.save(),this.board.started||(this.wheel.fill(t),this.connect.connectAll(),await this.board.begin(this.options.themes)),this.ui.navigate("")},selectKey(e){this.selectedKey=e},addKey(e){this.currentWheel.splice(e+1,0,{key:"",count:0})},removeKey(e){this.currentWheel.splice(e,1)},formatTime(e){return Ee.fromISO(e).toFormat("yyyy/MM/dd　HH:mm:ss")}},computed:{history(){return new Map(Object.entries(this.wheel.history).reverse())},currentWheel(){return this.selectedKey==null?this.options.defaultKeys:this.wheel.history[this.selectedKey]}},mounted(){this.wheel.loadHistory()}};const $v={class:"start-menu"},Wv=j("label",null,"기본 설정",-1),Kv=[Wv],qv=["onClick"],zv=["onClick"],jv=j("span",{class:"material-icons-outlined"},"close",-1),Yv=[jv];function Xv(e,t,r,n,i,s){const a=qe("KeyList"),o=qe("PageBase");return fe(),Ht(o,{class:"start-goldenkey",title:"황금열쇠 선택"},{buttons:tr(()=>[j("button",{onClick:t[1]||(t[1]=l=>s.beginGame(!1))}," 황금열쇠 없이 계속 "),j("button",{onClick:t[2]||(t[2]=l=>s.beginGame(!0)),class:"success"}," 게임 시작 ")]),default:tr(()=>[j("ul",$v,[j("li",{class:Qe({selected:e.selectedKey==null}),onClick:t[0]||(t[0]=l=>e.selectedKey=null)},Kv,2),(fe(!0),pe(De,null,Rt(s.history,([l,u])=>(fe(),pe("li",{class:Qe({selected:e.selectedKey==l})},[j("label",{onClick:p=>e.selectedKey=l},Ue(s.formatTime(l)),9,qv),j("button",{onClick:p=>e.wheel.deleteHistory(l)},Yv,8,zv)],2))),256))]),j("main",null,[ke(a,{list:s.currentWheel,editable:e.selectedKey==null,onAdd:s.addKey,onRemove:s.removeKey},null,8,["list","editable","onAdd","onRemove"])])]),_:1})}const Zv=ft(Hv,[["render",Xv]]),Jv={props:{list:Array},emits:["add","remove"],methods:{addItemByKeydown(e,t,r){var i;const n=e.ctrlKey||e.metaKey;if(e.shiftKey){this.focus(t,r,-1);return}else if(!n&&((i=this.list)!=null&&i[r+1])){this.focus(t,r,1);return}this.$emit("add",r),this.$nextTick(()=>{this.list&&(n?(this.list[r+1].head=this.list[r].head,this.focus(t,r,1)):this.focus("head",r,1))})},focus(e,t,r){({head:this.$refs.head,tail:this.$refs.tail})[e][t+r].focus()}}},Qv=["onUpdate:modelValue","onKeypress"],e5=["onUpdate:modelValue","onKeypress"],t5=["onClick"],r5=j("span",{class:"material-icons-outlined"},"add",-1),n5=[r5],i5=["onClick"],s5=j("span",{class:"material-icons-outlined"},"close",-1),a5=[s5];function o5(e,t,r,n,i,s){return fe(!0),pe(De,null,Rt(r.list,(a,o)=>(fe(),pe("div",{class:"boardBlocks",key:o},[mt(j("input",{type:"text",class:"text-input",placeholder:"대주제","onUpdate:modelValue":l=>a.head=l,ref_for:!0,ref:"head",onKeypress:ns(l=>s.addItemByKeydown(l,"head",o),["enter"])},null,40,Qv),[[nr,a.head]]),mt(j("input",{type:"text",class:"text-input",placeholder:"소주제","onUpdate:modelValue":l=>a.tail=l,ref_for:!0,ref:"tail",onKeypress:ns(l=>s.addItemByKeydown(l,"tail",o),["enter"])},null,40,e5),[[nr,a.tail]]),j("button",{class:"button-input",onClick:l=>e.$emit("add",o)},n5,8,t5),o!==0?(fe(),pe("button",{key:0,class:"button-input",onClick:l=>e.$emit("remove",o)},a5,8,i5)):je("",!0)]))),128)}const l5=ft(Jv,[["render",o5]]),u5={props:{show:Boolean},components:{BlocksList:l5},data(){return{currentTab:"plate",controlLevel:-1,scenes:null,wheel:Ln(),board:er(),options:an()}},methods:{addTheme(e){this.options.themes.splice(e+1,0,{head:"",tail:""})},removeTheme(e){this.options.themes.splice(e,1)},async saveAll(){this.options.save()}},mounted(){var e,t;(e=window.obsstudio)==null||e.getControlLevel(r=>{this.controlLevel=r}),(t=window.obsstudio)==null||t.getScenes(r=>{this.scenes=r})}};const c5={class:"start-menu setup-menu"},h5=j("label",null,"판때기 구성",-1),f5=[h5],d5=j("label",null,"일반 설정",-1),g5=[d5],m5={class:"material-icons-outlined"},p5={key:0,class:"setup-main"},v5=j("p",{class:"setup-comment"}," Enter로 주제를 추가합니다. Ctrl+Enter를 누르면 대주제를 복제하고, Shift+Enter를 누르면 윗 줄로 돌아갑니다. ",-1),y5={key:1,class:"setup-main"},_5={class:"setup-options"},b5=j("dt",null,"자동 장면 전환 사용",-1),S5=j("dt",null,"전환할 장면",-1),C5=j("option",{disabled:""},"플레이 중일 때: Ctrl 키로 다중 선택",-1),w5=j("option",{value:""},"(전환하지 않음)",-1),T5=["value"],E5=j("option",{disabled:""},"플레이 중이 아닐 때:",-1),x5=j("option",{value:""},"(전환하지 않음)",-1),A5=["value"],k5={key:1,class:"setup-comment"},O5={key:2,class:"setup-comment"},P5=j("b",null,"페이지 권한",-1),M5=j("b",null,"고급 접근 권한",-1),N5=j("hr",null,null,-1),F5=j("dt",null,"트위치 ID",-1),R5=j("dt",null,"투네이션 통합 위젯 비밀키",-1);function I5(e,t,r,n,i,s){const a=qe("BlocksList");return fe(),pe(De,null,[j("ul",c5,[j("li",{class:Qe({selected:i.currentTab==="plate"}),onClick:t[0]||(t[0]=o=>i.currentTab="plate")},f5,2),j("li",{class:Qe({selected:i.currentTab==="misc"}),onClick:t[1]||(t[1]=o=>i.currentTab="misc")},g5,2),j("li",{onClick:t[2]||(t[2]=o=>i.board.limitless=!i.board.limitless),style:{"margin-left":"auto"}},[j("label",null,[j("span",m5,Ue(i.board.limitless?"done":"close"),1),ut(" 나는 자낳괴입니다 ")])]),j("li",{class:"save success",onClick:t[3]||(t[3]=(...o)=>s.saveAll&&s.saveAll(...o))}," 저장 ")]),i.currentTab==="plate"?(fe(),pe("main",p5,[v5,ke(a,{list:i.options.themes,onAdd:s.addTheme,onRemove:s.removeTheme},null,8,["list","onAdd","onRemove"])])):je("",!0),i.currentTab==="misc"?(fe(),pe("main",y5,[j("dl",_5,[b5,j("dd",{class:Qe({disabled:i.controlLevel<4})},[mt(j("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=o=>i.options.useSceneSwitching=o)},null,512),[[wa,i.options.useSceneSwitching]])],2),i.controlLevel>=4?(fe(),pe(De,{key:0},[S5,j("dd",{class:Qe({disabled:!i.options.useSceneSwitching})},[mt(j("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>i.options.scenePlaying=o),size:"5",multiple:""},[C5,w5,i.scenes?(fe(!0),pe(De,{key:0},Rt(i.scenes,o=>(fe(),pe("option",{value:o},Ue(o),9,T5))),256)):je("",!0)],512),[[Js,i.options.scenePlaying]]),mt(j("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>i.options.sceneNotPlaying=o),size:"5"},[E5,x5,i.scenes?(fe(!0),pe(De,{key:0},Rt(i.scenes,o=>(fe(),pe("option",{value:o},Ue(o),9,A5))),256)):je("",!0)],512),[[Js,i.options.sceneNotPlaying]])],2)],64)):je("",!0),i.controlLevel<0?(fe(),pe("p",k5," 해당 기능은 OBS에서만 쓸 수 있습니다. ")):i.controlLevel<4?(fe(),pe("p",O5,[ut(" 해당 기능은 OBS의 브라우저 소스 속성 맨 아래의 "),P5,ut("이 "),M5,ut(" 이상이여야 사용 가능합니다! ")])):je("",!0),N5,F5,j("dd",null,[ut("https://twitch.tv/ "),mt(j("input",{type:"text",class:"toonationPassword","onUpdate:modelValue":t[7]||(t[7]=o=>i.options.channel=o)},null,512),[[nr,i.options.channel]])]),R5,j("dd",null,[ut("https://toon.at/widget/alertbox/ "),mt(j("input",{type:"password",class:"toonationPassword","onUpdate:modelValue":t[8]||(t[8]=o=>i.options.password=o)},null,512),[[nr,i.options.password]])])])])):je("",!0)],64)}const Ud=ft(u5,[["render",I5]]),D5={components:{Setup:Ud,PageBase:Gd},data:()=>({options:an()})};function L5(e,t,r,n,i,s){const a=qe("Setup",!0),o=qe("PageBase");return fe(),Ht(o,{class:"start-setup",title:"설정"},{buttons:tr(()=>[j("button",{onClick:t[0]||(t[0]=l=>e.options.save()),class:"success"},"저장")]),default:tr(()=>[ke(a)]),_:1})}const B5=ft(D5,[["render",L5]]),G5={components:{KeySelect:Zv,Setup:B5},data:()=>({BUILD_TIMESTAMP:Ee.fromISO("2023-07-14T01:23:56.643Z").toFormat("yyyy.MM.dd.HHmm.0000"),VERSION:xv.version,board:er(),options:an(),wheel:Ln(),connect:Bn(),ui:fs()}),methods:{async continueGame(){}}};const U5={class:"start"},V5={class:"start-intro"},H5={class:"version"},$5=j("h1",null,"판때기",-1),W5=j("h2",null," RHYTHM MARBLE – VACANCE SEASON ",-1),K5={class:"start-intro-menu"},q5=j("blockquote",{class:"footer"}," © 2023 김편집 / Project 판때기. All Rights Reserved. ",-1);function z5(e,t,r,n,i,s){const a=qe("KeySelect"),o=qe("Setup");return fe(),pe("div",U5,[mt(j("div",V5,[j("blockquote",H5," 게임 버전: "+Ue(e.BUILD_TIMESTAMP)+" (v"+Ue(e.VERSION)+") ",1),$5,W5,j("ul",K5,[j("li",{onClick:t[0]||(t[0]=l=>e.ui.navigate("start","select-key"))}," 게임 시작 "),j("li",{onClick:t[1]||(t[1]=l=>e.ui.navigate("start","settings"))}," 설정 ")]),q5],512),[[cr,e.ui.param===null]]),e.ui.param==="select-key"?(fe(),Ht(a,{key:0})):je("",!0),e.ui.param==="settings"?(fe(),Ht(o,{key:1})):je("",!0)])}const j5=ft(G5,[["render",z5]]),Y5={};const X5={class:"diceContainer"},Z5=j("iframe",{class:"dice",src:"https://shepherdingsheep.github.io/hdwv_2"},null,-1),J5=[Z5];function Q5(e,t,r,n,i,s){return fe(),pe("div",X5,J5)}const e3=ft(Y5,[["render",Q5]]),_l=Nn("items",{state(){return{items:[],pageNum:0}},getters:{},actions:{addItem(e){const t=this.checkType(e);if(t){const r=this.items.findIndex(n=>n.key===t.key);r!==-1?this.items[r].count+=t.count:this.items.push(t)}},checkType(e){var n,i;const t=e.match(qu);return t?{key:e.replace(qu,"").trim(),count:Number((n=t.groups)==null?void 0:n.count),type:t3[(i=t.groups)==null?void 0:i.type]}:void 0},addOne(e){this.items[e].count+=1},subOne(e){this.items[e].count-=1,this.items[e].count===0&&this.items.splice(e,1)},subAll(){this.items.forEach(e=>{e.type==="곡"&&this.subOne(this.items.indexOf(e))})}}}),qu=/\((?<count>\d+)(?<type>[턴곡개회번])\)/,t3={턴:"곡",곡:"곡",개:"개",회:"개",번:"개"};function Vd(e,t){return(e%t+t)%t}const r3={data(){return{connection:Bn(),wheel:Ln(),startAngle:0,speed:50,arrow:{points:[555,320,575,330,575,310],fill:"black",closed:!0},states:{idle:0,spinning:1,stopping:2,result:3},state:0,buttonLabels:["돌리기","멈추기","","다음"],inventory:_l()}},computed:{result(){let e="",t=this.wheel.sum(this.wheel.options.length)-Math.floor(this.startAngle/this.wheel.unitAngle);for(let r=0;r<this.wheel.options.length;r++)t>this.wheel.sum(r)&&(e=this.wheel.options[r].key);return e},showResult(){return this.state===this.states.result},showButton(){return this.state!==this.states.stopping&&this.wheel.options.length>0}},methods:{sectorConfig(e,t){return{x:320,y:320,radius:240,angle:t.count*this.wheel.unitAngle,fill:t.color,stroke:"black",rotation:this.startAngle+this.wheel.sum(e)*this.wheel.unitAngle}},textConfig(e,t){return{text:t.key,fontSize:16,fontStyle:"bold",x:320,y:320,offsetX:-60,offsetY:8,rotation:this.startAngle+this.wheel.sum(e)*this.wheel.unitAngle+t.count*this.wheel.unitAngle/2}},rotate(){this.startAngle+=this.speed,this.startAngle>=360&&(this.startAngle-=360)},spin(){switch(this.state){case this.states.idle:this.speed=50;break;case this.states.spinning:this.rotate();break;case this.states.stopping:this.rotate(),this.speed-=1/Math.PI,this.speed<=0&&(this.state=this.states.result)}window.requestAnimationFrame(this.spin)},click(){this.state=Vd(this.state+1,4),this.state===this.states.idle&&(this.inventory.addItem(this.result),this.wheel.subOption(this.result),this.connection.roulette_temp.forEach(e=>this.wheel.addOption(e)),this.connection.roulette_temp.splice(0,this.connection.roulette_temp.length))}},mounted(){this.spin()}};const n3={class:"wheelContainer"},i3={key:0,class:"resultScreen"},s3=j("div",{class:"label"},"다음 황금열쇠는",-1),a3={class:"value iidx-title large"};function o3(e,t,r,n,i,s){const a=qe("v-wedge"),o=qe("v-text"),l=qe("v-line"),u=qe("v-layer"),p=qe("v-stage");return fe(),pe("div",n3,[ke(p,{config:{width:640,height:640}},{default:tr(()=>[ke(u,null,{default:tr(()=>[(fe(!0),pe(De,null,Rt(i.wheel.options,(h,m)=>(fe(),Ht(a,{config:s.sectorConfig(m,h)},null,8,["config"]))),256)),(fe(!0),pe(De,null,Rt(i.wheel.options,(h,m)=>(fe(),Ht(o,{config:s.textConfig(m,h)},null,8,["config"]))),256)),ke(l,{config:i.arrow},null,8,["config"])]),_:1})]),_:1}),s.showResult?(fe(),pe("div",i3,[s3,j("div",a3,[j("span",null,Ue(s.result),1)])])):je("",!0),mt(j("button",{onKeydown:t[0]||(t[0]=lt(()=>{},["prevent"])),class:"wheelButton",onClick:t[1]||(t[1]=(...h)=>s.click&&s.click(...h))},Ue(i.buttonLabels[i.state]),545),[[cr,s.showButton]])])}const l3=ft(r3,[["render",o3]]),u3={props:{text:String},data(){return{isOverflown:!1}},methods:{measure(){const e=this.$refs.container;return e.scrollWidth>e.clientWidth}},mounted(){this.isOverflown=this.measure()},updated(){this.isOverflown=this.measure()}};const c3={ref:"container",class:"marqueeContainer"},h3={class:"marquee"},f3={class:"end"},d3={key:0,class:"partTwo"},g3={class:"end"};function m3(e,t,r,n,i,s){return fe(),pe("div",c3,[j("div",h3,[j("div",{class:Qe({partOne:i.isOverflown})},[j("span",f3,Ue(r.text),1)],2),i.isOverflown?(fe(),pe("div",d3,[j("span",g3,Ue(r.text),1)])):je("",!0)])],512)}const bl=ft(u3,[["render",m3]]),p3={components:{Marquee:bl},data(){return{start:Ee.now(),elapsed:Be.fromMillis(0),paused:!0,intervalId:0,board:er(),message:"열심히 했기 때문에 그만큼 보답을 받은게 아닐까 생각합니다. 감사합니다."}},computed:{isClockwise(){return this.board.clockwise?{}:{transform:"scale(-1, 1)"}}},methods:{seekSongs(e){this.board.songs+=e},seekMoney(e,t){let r=t;(e.ctrlKey||e.metaKey)&&(r*=5),e.shiftKey&&(r*=50),this.board.updateMoney(r)},seekMin(e,t){const r={minutes:1};(e.ctrlKey||e.metaKey)&&(r.minutes=10),e.shiftKey&&(r.minutes=60),t>0?(this.elapsed=this.elapsed.plus(r),this.start=this.start.minus(r)):(this.elapsed=this.elapsed.minus(r),this.start=this.start.plus(r))},startButton(){this.paused?(this.paused=!1,this.start=Ee.now().minus(this.elapsed),this.intervalId=window.setInterval(()=>{this.elapsed=Ee.now().diff(this.start)},1e3)):(this.paused=!0,this.elapsed=Ee.now().diff(this.start),window.clearInterval(this.intervalId))},ordinalSuffix(e){const t=e%10,r=e%100;return t===1&&r!==11?"ST":t===2&&r!==12?"ND":t===3&&r!==13?"RD":"TH"},updateNotice(){const e=prompt("메시지를 입력해주세요.");this.message=e??this.message}},mounted(){window.addEventListener("beforeunload",()=>{Kt.setItem("timer-snapshot",JSON.parse(JSON.stringify({time:this.elapsed,clockwise:this.board.clockwise})))})}};const v3={class:"clockFrame"},y3={class:"laps"},_3=j("span",{class:"material-icons-outlined"},"remove",-1),b3=[_3],S3={key:0,class:"material-icons-outlined"},C3=j("small",null," ROUND",-1),w3=j("span",{class:"material-icons-outlined"},"add",-1),T3=[w3],E3={class:"money"},x3=j("span",{class:"material-icons-outlined"},"remove",-1),A3=[x3],k3={class:"moneyAmount"},O3=j("span",{class:"material-icons-outlined"},"add",-1),P3=[O3],M3=j("div",{class:"seekHint"},[ut(" CTRL … ×5 "),j("br"),ut(" SHIFT … ×50 ")],-1),N3=j("span",{class:"material-icons-outlined"},"remove",-1),F3=[N3],R3={class:"clockTime"},I3=j("span",{class:"material-icons-outlined"},"add",-1),D3=[I3],L3=j("div",{class:"seekHint"},[ut(" CTRL … ×10m "),j("br"),ut(" SHIFT … ×1h ")],-1),B3=j("span",{class:"material-icons-outlined"},"edit",-1),G3=[B3];function U3(e,t,r,n,i,s){const a=qe("Marquee");return fe(),pe(De,null,[j("div",v3,[j("div",y3,[j("button",{onKeydown:t[0]||(t[0]=lt(()=>{},["prevent"])),class:"seekButton centered",onClick:t[1]||(t[1]=o=>s.seekSongs(-1))},b3,32),j("span",{class:"lapsCount",onClick:t[2]||(t[2]=o=>i.board.clockwise=!i.board.clockwise)},[i.board.clockwise?je("",!0):(fe(),pe("span",S3,"undo")),j("mark",null,[ut(Ue(i.board.songs),1),j("small",null,Ue(s.ordinalSuffix(i.board.songs)),1)]),C3]),j("button",{onKeydown:t[3]||(t[3]=lt(()=>{},["prevent"])),class:"seekButton centered",onClick:t[4]||(t[4]=o=>s.seekSongs(1))},T3,32)]),j("div",E3,[j("button",{onKeydown:t[5]||(t[5]=lt(()=>{},["prevent"])),class:"seekButton centered",onClick:t[6]||(t[6]=o=>s.seekMoney(o,-1))},A3,32),j("span",k3,[ut(Ue(i.board.money),1),j("small",null,[ut("$ vs "+Ue(i.board.limit),1),i.board.limitless?(fe(),pe(De,{key:0},[ut("+")],64)):je("",!0)])]),j("button",{onKeydown:t[7]||(t[7]=lt(()=>{},["prevent"])),class:"seekButton centered",onClick:t[8]||(t[8]=o=>s.seekMoney(o,1))},P3,32),M3]),j("div",{class:Qe(["clock",{paused:i.paused}]),onClick:t[13]||(t[13]=o=>s.startButton())},[j("button",{onKeydown:t[9]||(t[9]=lt(()=>{},["prevent"])),class:"seekButton centered",onClick:t[10]||(t[10]=lt(o=>s.seekMin(o,-1),["stop"]))},F3,32),j("span",R3,Ue(i.elapsed.toFormat("hh:mm:ss")),1),j("button",{onKeydown:t[11]||(t[11]=lt(()=>{},["prevent"])),class:"seekButton centered",onClick:t[12]||(t[12]=lt(o=>s.seekMin(o,1),["stop"]))},D3,32),L3],2)]),i.message?(fe(),pe("div",{key:0,class:"notice",onClick:t[14]||(t[14]=(...o)=>s.updateNotice&&s.updateNotice(...o))},[ke(a,{text:i.message},null,8,["text"])])):(fe(),pe("div",{key:1,class:"notice-button",onClick:t[15]||(t[15]=(...o)=>s.updateNotice&&s.updateNotice(...o))},G3))],64)}const V3=ft(p3,[["render",U3]]),H3={data(){return{inventory:_l()}},components:{Marquee:bl},methods:{typeConfig(e){return{song:this.inventory.items[e].type==="곡",limit:this.inventory.items[e].type==="개"}},manualAdd(){this.inventory.addItem(String(prompt("황금열쇠의 이름을 정확히 입력해주세요.")))}},mounted(){window.addEventListener("beforeunload",()=>{Kt.setItem("items-snapshot",JSON.parse(JSON.stringify(this.inventory.items)))})}};const $3={class:"inv-bg"},W3={key:0,class:"inv-empty"},K3={key:1,class:"inv-items"},q3={class:"row-item"},z3={class:"item-buttons"},j3=["onClick"],Y3=j("span",{class:"material-icons-outlined"},"add",-1),X3=[Y3],Z3=["onClick"],J3=j("span",{class:"material-icons-outlined"},"remove",-1),Q3=[J3];function e4(e,t,r,n,i,s){const a=qe("Marquee");return fe(),pe("div",$3,[i.inventory.items.length===0?(fe(),pe("div",W3,"비었음!")):(fe(),pe("div",K3,[(fe(!0),pe(De,null,Rt(i.inventory.items,(o,l)=>(fe(),pe("div",q3,[j("div",{class:Qe(["item-count",s.typeConfig(l)])},Ue(o.count),3),(fe(),pe("div",{class:"item-name",key:l},[ke(a,{text:o.key},null,8,["text"])])),j("div",z3,[j("div",null,[j("button",{onClick:u=>i.inventory.addOne(l)},X3,8,j3),j("button",{onClick:u=>i.inventory.subOne(l)},Q3,8,Z3)])])]))),256))])),j("button",{class:"manual-button",onClick:t[0]||(t[0]=(...o)=>s.manualAdd&&s.manualAdd(...o))},"수기입력")])}const t4=ft(H3,[["render",e4]]),zu={twitch:"트위치",toonation:"투네이션"},r4={disconnected:"연결 끊김!",connecting:"연결 중…",connected:"연결됨!"},n4={props:{visibleCount:{type:Number,default:10}},data(){return{connect:Bn()}},methods:{logText(e){return e.type in zu?(e=e,(e.detail??zu[e.type])+" "+r4[e.status]):e.detail}},computed:{logs(){return this.connect.logs.slice(-this.visibleCount)}}};const i4={class:"logSlots"};function s4(e,t,r,n,i,s){return fe(),pe("ul",i4,[(fe(!0),pe(De,null,Rt(s.logs,a=>(fe(),pe("li",{class:Qe(["type-"+a.type,"status-"+a.status])},Ue(s.logText(a)),3))),256))])}const a4=ft(n4,[["render",s4]]),o4={props:{list:Array},data(){return{isOverflown:!1}},methods:{measure(){const e=this.$refs.container;return e.scrollHeight>e.clientHeight}},mounted(){this.isOverflown=this.measure()},updated(){this.isOverflown=this.measure()}};const l4={class:"scroll"},u4=j("br",null,null,-1),c4={key:0,class:"partTwo"},h4=j("br",null,null,-1);function f4(e,t,r,n,i,s){return fe(),pe("div",{ref:"container",class:Qe(["scrollContainer",{overflown:i.isOverflown}])},[j("div",l4,[j("div",{class:Qe({partOne:i.isOverflown})},[(fe(!0),pe(De,null,Rt(r.list,a=>(fe(),pe("span",{class:Qe(a.class??{})},[ut(Ue(a.text??a),1),u4],2))),256))],2),i.isOverflown?(fe(),pe("div",c4,[(fe(!0),pe(De,null,Rt(r.list,a=>(fe(),pe("span",{class:Qe(a.class??{})},[ut(Ue(a.text??a),1),h4],2))),256))])):je("",!0)])],2)}const d4=ft(o4,[["render",f4]]),g4={props:{index:{type:Number,required:!0}},data(){return{board:er(),connection:Bn(),items:_l(),backupIdx:0,temp:[],tempIdx:0,buttonLabels:["추첨","멈추기","결정"],state:0,now:Date.now()}},components:{Marquee:bl,Scroll:d4},computed:{theme(){return this.state===0?this.board.board[this.index]:this.board.board[this.backupIdx]},color(){return this.board.getColor(this.theme)},pool(){return this.board.selectAll(this.index)},isEmpty(){return this.state===0?this.pool.length>0:this.temp.length>0}},methods:{click(){switch(this.state=Vd(this.state+1,3),this.state){case 0:this.board.remove(this.temp[this.tempIdx]),this.tempIdx=0,this.board.addMoney(this.backupIdx),this.board.songs++,this.backupIdx=0,this.items.subAll();break;case 1:this.temp=this.pool,this.backupIdx=this.index,this.seekIndex()}},seekIndex(){this.tempIdx=Math.floor(Math.random()*this.temp.length),this.state===1&&requestAnimationFrame(()=>this.seekIndex())},retry(){this.state=1,this.seekIndex()},cancel(){this.state=0,this.tempIdx=0},isRelativelyNew(e){return this.now-e<10*60*1e3}},mounted(){setInterval(()=>{this.now=Date.now()},1e3)}};const m4={class:"raffleHeader"},p4=j("dt",null,"SLOT",-1),v4=j("dt",null,"THEME",-1),y4=j("dt",null,"PICKS",-1),_4={class:"raffleList"},b4={key:0,class:"rafflePool"},S4={key:1,class:"raffleResult"},C4={class:"genre"},w4={class:"artist"},T4={class:"usedList"},E4={class:"raffleButtons"};function x4(e,t,r,n,i,s){const a=qe("Marquee"),o=qe("Scroll");return fe(),pe("div",{class:"raffleContainer",style:Br({"--color":s.color})},[j("dl",m4,[p4,j("dd",null,"#"+Ue(i.backupIdx||r.index),1),v4,j("dd",null,[ke(a,{text:s.theme},null,8,["text"])]),y4,j("dd",null,Ue(i.state===0?s.pool.length:i.temp.length),1)]),j("div",_4,[i.state===0?(fe(),pe("div",b4,[ke(o,{list:s.pool.map(l=>({text:l.song,class:{"iidx-title-inline":!0,new:s.isRelativelyNew(l.timestamp)}}))},null,8,["list"])])):je("",!0),i.state!==0?(fe(),pe("div",S4,[j("div",C4,Ue(s.theme),1),j("div",{class:Qe(["iidx-title large",{new:s.isRelativelyNew(i.temp[i.tempIdx].timestamp)}])},[j("span",null,Ue(i.temp[i.tempIdx].song),1)],2),j("div",w4,Ue(i.temp[i.tempIdx].name),1)])):je("",!0)]),j("div",T4,[ke(o,{list:i.board.usedList.map(l=>({text:l.name+" => "+l.song}))},null,8,["list"])]),j("div",E4,[s.isEmpty?(fe(),pe("button",{key:0,onKeydown:t[0]||(t[0]=lt(()=>{},["prevent"])),onClick:t[1]||(t[1]=l=>s.click())},Ue(i.buttonLabels[i.state]),33)):je("",!0),i.state===2?(fe(),pe("button",{key:1,onKeydown:t[2]||(t[2]=lt(()=>{},["prevent"])),onClick:t[3]||(t[3]=l=>s.retry())},"재추첨",32)):je("",!0),i.state===2?(fe(),pe("button",{key:2,onKeydown:t[4]||(t[4]=lt(()=>{},["prevent"])),onClick:t[5]||(t[5]=l=>s.cancel())},"추첨 취소",32)):je("",!0)])],4)}const A4=ft(g4,[["render",x4]]),k4={data(){return{board:er(),connect:Bn(),options:an(),wheel:Ln(),ui:fs()}},components:{Start:j5,Setup:Ud,Board:_m,Dice:e3,Timer:V3,Wheel:l3,Items:t4,LogList:a4,Raffle:A4},methods:{async beginGame(){this.board.started||(this.wheel.fill(this.options.defaultKeys),this.connect.connectAll(),await this.board.begin(this.options.themes))}},mounted(){window.addEventListener("beforeunload",()=>{this.board.snapshot()}),this.ui.initOBS(),this.options.load()}};const O4={class:"left-panel"},P4={key:1,class:"setup-standalone"},M4={class:"right-panel"},N4={class:"inv-container"},F4={class:"static-menu"};function R4(e,t,r,n,i,s){const a=qe("Start"),o=qe("Dice"),l=qe("Wheel"),u=qe("Raffle"),p=qe("Setup"),h=qe("Timer"),m=qe("LogList"),d=qe("Items"),g=qe("Board");return fe(),Ht(g,{class:Qe({"not-started":!i.board.started})},{default:tr(()=>[i.ui.page==="start"?(fe(),Ht(a,{key:0})):(fe(),pe(De,{key:1},[j("div",O4,[mt(ke(o,null,null,512),[[cr,i.ui.page==="dice"]]),i.connect.toonationPayload?mt((fe(),Ht(l,{key:0,payload:i.connect.toonationPayload},null,8,["payload"])),[[cr,i.ui.page==="wheel"]]):je("",!0),mt(ke(u,{index:i.ui.param},null,8,["index"]),[[cr,i.ui.page==="raffle"]]),i.ui.page==="setup"?(fe(),pe("div",P4,[ke(p)])):je("",!0)]),j("div",M4,[ke(h),j("div",N4,[ke(m,{"visible-count":i.ui.page?10:5},null,8,["visible-count"]),mt(ke(d,null,null,512),[[cr,i.ui.page]])])]),mt(j("div",F4,[i.board.started?je("",!0):(fe(),pe("button",{key:0,onKeydown:t[0]||(t[0]=lt(()=>{},["prevent"])),onClick:t[1]||(t[1]=(...b)=>s.beginGame&&s.beginGame(...b))},"게임 시작",32)),j("button",{onKeydown:t[2]||(t[2]=lt(()=>{},["prevent"])),onClick:t[3]||(t[3]=b=>i.board.getSalary())},"월급 받기",32),j("button",{onKeydown:t[4]||(t[4]=lt(()=>{},["prevent"])),onClick:t[5]||(t[5]=b=>i.ui.navigate("setup"))},"기본 설정",32),j("button",{onKeydown:t[6]||(t[6]=lt(()=>{},["prevent"])),onClick:t[7]||(t[7]=b=>i.board.shuffleBoard())},"판 섞기",32),j("button",{onKeydown:t[8]||(t[8]=lt(()=>{},["prevent"])),onClick:t[9]||(t[9]=b=>i.board.shuffleBoard(!0))},"황금열쇠 추가",32),j("button",{onKeydown:t[10]||(t[10]=lt(()=>{},["prevent"])),onClick:t[11]||(t[11]=b=>i.board.unshuffleBoard())},"판 되돌리기",32)],512),[[cr,i.ui.page]])],64))]),_:1},8,["class"])}const I4=ft(k4,[["render",R4]]);var Hd={exports:{}};const D4=sm(Z2);var Hs={exports:{}},zn={},Xa={},Za={},ju;function Fe(){return ju||(ju=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;var t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof jr<"u"?jr:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.2.0",isBrowser:r(),isUnminified:/param/.test(function(i){}.toString()),dblClickWindow:400,getAngle(i){return e.Konva.angleDeg?i*t:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(i){e.glob.Konva=i}};const n=i=>{e.Konva[i.prototype.getClassName()]=i};e._registerNode=n,e.Konva._injectGlobal(e.Konva)}(Za)),Za}var Ja={},Yu;function rt(){return Yu||(Yu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=Fe();class r{constructor(y=[1,0,0,1,0,0]){this.dirty=!1,this.m=y&&y.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(y){y.m[0]=this.m[0],y.m[1]=this.m[1],y.m[2]=this.m[2],y.m[3]=this.m[3],y.m[4]=this.m[4],y.m[5]=this.m[5]}point(y){var _=this.m;return{x:_[0]*y.x+_[2]*y.y+_[4],y:_[1]*y.x+_[3]*y.y+_[5]}}translate(y,_){return this.m[4]+=this.m[0]*y+this.m[2]*_,this.m[5]+=this.m[1]*y+this.m[3]*_,this}scale(y,_){return this.m[0]*=y,this.m[1]*=y,this.m[2]*=_,this.m[3]*=_,this}rotate(y){var _=Math.cos(y),k=Math.sin(y),N=this.m[0]*_+this.m[2]*k,w=this.m[1]*_+this.m[3]*k,x=this.m[0]*-k+this.m[2]*_,E=this.m[1]*-k+this.m[3]*_;return this.m[0]=N,this.m[1]=w,this.m[2]=x,this.m[3]=E,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(y,_){var k=this.m[0]+this.m[2]*_,N=this.m[1]+this.m[3]*_,w=this.m[2]+this.m[0]*y,x=this.m[3]+this.m[1]*y;return this.m[0]=k,this.m[1]=N,this.m[2]=w,this.m[3]=x,this}multiply(y){var _=this.m[0]*y.m[0]+this.m[2]*y.m[1],k=this.m[1]*y.m[0]+this.m[3]*y.m[1],N=this.m[0]*y.m[2]+this.m[2]*y.m[3],w=this.m[1]*y.m[2]+this.m[3]*y.m[3],x=this.m[0]*y.m[4]+this.m[2]*y.m[5]+this.m[4],E=this.m[1]*y.m[4]+this.m[3]*y.m[5]+this.m[5];return this.m[0]=_,this.m[1]=k,this.m[2]=N,this.m[3]=w,this.m[4]=x,this.m[5]=E,this}invert(){var y=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),_=this.m[3]*y,k=-this.m[1]*y,N=-this.m[2]*y,w=this.m[0]*y,x=y*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),E=y*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=_,this.m[1]=k,this.m[2]=N,this.m[3]=w,this.m[4]=x,this.m[5]=E,this}getMatrix(){return this.m}decompose(){var y=this.m[0],_=this.m[1],k=this.m[2],N=this.m[3],w=this.m[4],x=this.m[5],E=y*N-_*k;let M={x:w,y:x,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(y!=0||_!=0){var R=Math.sqrt(y*y+_*_);M.rotation=_>0?Math.acos(y/R):-Math.acos(y/R),M.scaleX=R,M.scaleY=E/R,M.skewX=(y*k+_*N)/E,M.skewY=0}else if(k!=0||N!=0){var v=Math.sqrt(k*k+N*N);M.rotation=Math.PI/2-(N>0?Math.acos(-k/v):-Math.acos(k/v)),M.scaleX=E/v,M.scaleY=v,M.skewX=0,M.skewY=(y*k+_*N)/E}return M.rotation=e.Util._getRotation(M.rotation),M}}e.Transform=r;var n="[object Array]",i="[object Number]",s="[object String]",a="[object Boolean]",o=Math.PI/180,l=180/Math.PI,u="#",p="",h="0",m="Konva warning: ",d="Konva error: ",g="rgb(",b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},S=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,T=[];const f=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(c){setTimeout(c,60)};e.Util={_isElement(c){return!!(c&&c.nodeType==1)},_isFunction(c){return!!(c&&c.constructor&&c.call&&c.apply)},_isPlainObject(c){return!!c&&c.constructor===Object},_isArray(c){return Object.prototype.toString.call(c)===n},_isNumber(c){return Object.prototype.toString.call(c)===i&&!isNaN(c)&&isFinite(c)},_isString(c){return Object.prototype.toString.call(c)===s},_isBoolean(c){return Object.prototype.toString.call(c)===a},isObject(c){return c instanceof Object},isValidSelector(c){if(typeof c!="string")return!1;var y=c[0];return y==="#"||y==="."||y===y.toUpperCase()},_sign(c){return c===0||c>0?1:-1},requestAnimFrame(c){T.push(c),T.length===1&&f(function(){const y=T;T=[],y.forEach(function(_){_()})})},createCanvasElement(){var c=document.createElement("canvas");try{c.style=c.style||{}}catch{}return c},createImageElement(){return document.createElement("img")},_isInDocument(c){for(;c=c.parentNode;)if(c==document)return!0;return!1},_urlToImage(c,y){var _=e.Util.createImageElement();_.onload=function(){y(_)},_.src=c},_rgbToHex(c,y,_){return((1<<24)+(c<<16)+(y<<8)+_).toString(16).slice(1)},_hexToRgb(c){c=c.replace(u,p);var y=parseInt(c,16);return{r:y>>16&255,g:y>>8&255,b:y&255}},getRandomColor(){for(var c=(Math.random()*16777215<<0).toString(16);c.length<6;)c=h+c;return u+c},getRGB(c){var y;return c in b?(y=b[c],{r:y[0],g:y[1],b:y[2]}):c[0]===u?this._hexToRgb(c.substring(1)):c.substr(0,4)===g?(y=S.exec(c.replace(/ /g,"")),{r:parseInt(y[1],10),g:parseInt(y[2],10),b:parseInt(y[3],10)}):{r:0,g:0,b:0}},colorToRGBA(c){return c=c||"black",e.Util._namedColorToRBA(c)||e.Util._hex3ColorToRGBA(c)||e.Util._hex4ColorToRGBA(c)||e.Util._hex6ColorToRGBA(c)||e.Util._hex8ColorToRGBA(c)||e.Util._rgbColorToRGBA(c)||e.Util._rgbaColorToRGBA(c)||e.Util._hslColorToRGBA(c)},_namedColorToRBA(c){var y=b[c.toLowerCase()];return y?{r:y[0],g:y[1],b:y[2],a:1}:null},_rgbColorToRGBA(c){if(c.indexOf("rgb(")===0){c=c.match(/rgb\(([^)]+)\)/)[1];var y=c.split(/ *, */).map(Number);return{r:y[0],g:y[1],b:y[2],a:1}}},_rgbaColorToRGBA(c){if(c.indexOf("rgba(")===0){c=c.match(/rgba\(([^)]+)\)/)[1];var y=c.split(/ *, */).map((_,k)=>_.slice(-1)==="%"?k===3?parseInt(_)/100:parseInt(_)/100*255:Number(_));return{r:y[0],g:y[1],b:y[2],a:y[3]}}},_hex8ColorToRGBA(c){if(c[0]==="#"&&c.length===9)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:parseInt(c.slice(7,9),16)/255}},_hex6ColorToRGBA(c){if(c[0]==="#"&&c.length===7)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:1}},_hex4ColorToRGBA(c){if(c[0]==="#"&&c.length===5)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:parseInt(c[4]+c[4],16)/255}},_hex3ColorToRGBA(c){if(c[0]==="#"&&c.length===4)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:1}},_hslColorToRGBA(c){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(c)){const[y,..._]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(c),k=Number(_[0])/360,N=Number(_[1])/100,w=Number(_[2])/100;let x,E,M;if(N===0)return M=w*255,{r:Math.round(M),g:Math.round(M),b:Math.round(M),a:1};w<.5?x=w*(1+N):x=w+N-w*N;const R=2*w-x,v=[0,0,0];for(let C=0;C<3;C++)E=k+1/3*-(C-1),E<0&&E++,E>1&&E--,6*E<1?M=R+(x-R)*6*E:2*E<1?M=x:3*E<2?M=R+(x-R)*(2/3-E)*6:M=R,v[C]=M*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(c,y){return!(y.x>c.x+c.width||y.x+y.width<c.x||y.y>c.y+c.height||y.y+y.height<c.y)},cloneObject(c){var y={};for(var _ in c)this._isPlainObject(c[_])?y[_]=this.cloneObject(c[_]):this._isArray(c[_])?y[_]=this.cloneArray(c[_]):y[_]=c[_];return y},cloneArray(c){return c.slice(0)},degToRad(c){return c*o},radToDeg(c){return c*l},_degToRad(c){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(c)},_radToDeg(c){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(c)},_getRotation(c){return t.Konva.angleDeg?e.Util.radToDeg(c):c},_capitalize(c){return c.charAt(0).toUpperCase()+c.slice(1)},throw(c){throw new Error(d+c)},error(c){console.error(d+c)},warn(c){t.Konva.showWarnings&&console.warn(m+c)},each(c,y){for(var _ in c)y(_,c[_])},_inRange(c,y,_){return y<=c&&c<_},_getProjectionToSegment(c,y,_,k,N,w){var x,E,M,R=(c-_)*(c-_)+(y-k)*(y-k);if(R==0)x=c,E=y,M=(N-_)*(N-_)+(w-k)*(w-k);else{var v=((N-c)*(_-c)+(w-y)*(k-y))/R;v<0?(x=c,E=y,M=(c-N)*(c-N)+(y-w)*(y-w)):v>1?(x=_,E=k,M=(_-N)*(_-N)+(k-w)*(k-w)):(x=c+v*(_-c),E=y+v*(k-y),M=(x-N)*(x-N)+(E-w)*(E-w))}return[x,E,M]},_getProjectionToLine(c,y,_){var k=e.Util.cloneObject(c),N=Number.MAX_VALUE;return y.forEach(function(w,x){if(!(!_&&x===y.length-1)){var E=y[(x+1)%y.length],M=e.Util._getProjectionToSegment(w.x,w.y,E.x,E.y,c.x,c.y),R=M[0],v=M[1],C=M[2];C<N&&(k.x=R,k.y=v,N=C)}}),k},_prepareArrayForTween(c,y,_){var k,N=[],w=[];if(c.length>y.length){var x=y;y=c,c=x}for(k=0;k<c.length;k+=2)N.push({x:c[k],y:c[k+1]});for(k=0;k<y.length;k+=2)w.push({x:y[k],y:y[k+1]});var E=[];return w.forEach(function(M){var R=e.Util._getProjectionToLine(M,N,_);E.push(R.x),E.push(R.y)}),E},_prepareToStringify(c){var y;c.visitedByCircularReferenceRemoval=!0;for(var _ in c)if(c.hasOwnProperty(_)&&c[_]&&typeof c[_]=="object"){if(y=Object.getOwnPropertyDescriptor(c,_),c[_].visitedByCircularReferenceRemoval||e.Util._isElement(c[_]))if(y.configurable)delete c[_];else return null;else if(e.Util._prepareToStringify(c[_])===null)if(y.configurable)delete c[_];else return null}return delete c.visitedByCircularReferenceRemoval,c},_assign(c,y){for(var _ in y)c[_]=y[_];return c},_getFirstPointerId(c){return c.touches?c.changedTouches[0].identifier:c.pointerId||999},releaseCanvas(...c){t.Konva.releaseCanvasOnDestroy&&c.forEach(y=>{y.width=0,y.height=0})},drawRoundedRectPath(c,y,_,k){let N=0,w=0,x=0,E=0;typeof k=="number"?N=w=x=E=Math.min(k,y/2,_/2):(N=Math.min(k[0]||0,y/2,_/2),w=Math.min(k[1]||0,y/2,_/2),E=Math.min(k[2]||0,y/2,_/2),x=Math.min(k[3]||0,y/2,_/2)),c.moveTo(N,0),c.lineTo(y-w,0),c.arc(y-w,w,w,Math.PI*3/2,0,!1),c.lineTo(y,_-E),c.arc(y-E,_-E,E,0,Math.PI/2,!1),c.lineTo(x,_),c.arc(x,_-x,x,Math.PI/2,Math.PI,!1),c.lineTo(0,N),c.arc(N,N,N,Math.PI,Math.PI*3/2,!1)}}}(Ja)),Ja}var jn={},Qa={},Xe={},Xu;function Re(){if(Xu)return Xe;Xu=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.getComponentValidator=Xe.getBooleanValidator=Xe.getNumberArrayValidator=Xe.getFunctionValidator=Xe.getStringOrGradientValidator=Xe.getStringValidator=Xe.getNumberOrAutoValidator=Xe.getNumberOrArrayOfNumbersValidator=Xe.getNumberValidator=Xe.alphaComponent=Xe.RGBComponent=void 0;const e=Fe(),t=rt();function r(g){return t.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||t.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function n(g){return g>255?255:g<0?0:Math.round(g)}Xe.RGBComponent=n;function i(g){return g>1?1:g<1e-4?1e-4:g}Xe.alphaComponent=i;function s(){if(e.Konva.isUnminified)return function(g,b){return t.Util._isNumber(g)||t.Util.warn(r(g)+' is a not valid value for "'+b+'" attribute. The value should be a number.'),g}}Xe.getNumberValidator=s;function a(g){if(e.Konva.isUnminified)return function(b,S){let T=t.Util._isNumber(b),f=t.Util._isArray(b)&&b.length==g;return!T&&!f&&t.Util.warn(r(b)+' is a not valid value for "'+S+'" attribute. The value should be a number or Array<number>('+g+")"),b}}Xe.getNumberOrArrayOfNumbersValidator=a;function o(){if(e.Konva.isUnminified)return function(g,b){var S=t.Util._isNumber(g),T=g==="auto";return S||T||t.Util.warn(r(g)+' is a not valid value for "'+b+'" attribute. The value should be a number or "auto".'),g}}Xe.getNumberOrAutoValidator=o;function l(){if(e.Konva.isUnminified)return function(g,b){return t.Util._isString(g)||t.Util.warn(r(g)+' is a not valid value for "'+b+'" attribute. The value should be a string.'),g}}Xe.getStringValidator=l;function u(){if(e.Konva.isUnminified)return function(g,b){const S=t.Util._isString(g),T=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return S||T||t.Util.warn(r(g)+' is a not valid value for "'+b+'" attribute. The value should be a string or a native gradient.'),g}}Xe.getStringOrGradientValidator=u;function p(){if(e.Konva.isUnminified)return function(g,b){return t.Util._isFunction(g)||t.Util.warn(r(g)+' is a not valid value for "'+b+'" attribute. The value should be a function.'),g}}Xe.getFunctionValidator=p;function h(){if(e.Konva.isUnminified)return function(g,b){const S=Int8Array?Object.getPrototypeOf(Int8Array):null;return S&&g instanceof S||(t.Util._isArray(g)?g.forEach(function(T){t.Util._isNumber(T)||t.Util.warn('"'+b+'" attribute has non numeric element '+T+". Make sure that all elements are numbers.")}):t.Util.warn(r(g)+' is a not valid value for "'+b+'" attribute. The value should be a array of numbers.')),g}}Xe.getNumberArrayValidator=h;function m(){if(e.Konva.isUnminified)return function(g,b){var S=g===!0||g===!1;return S||t.Util.warn(r(g)+' is a not valid value for "'+b+'" attribute. The value should be a boolean.'),g}}Xe.getBooleanValidator=m;function d(g){if(e.Konva.isUnminified)return function(b,S){return b==null||t.Util.isObject(b)||t.Util.warn(r(b)+' is a not valid value for "'+S+'" attribute. The value should be an object with properties '+g),b}}return Xe.getComponentValidator=d,Xe}var Zu;function Me(){return Zu||(Zu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=rt(),r=Re();var n="get",i="set";e.Factory={addGetterSetter(s,a,o,l,u){e.Factory.addGetter(s,a,o),e.Factory.addSetter(s,a,l,u),e.Factory.addOverloadedGetterSetter(s,a)},addGetter(s,a,o){var l=n+t.Util._capitalize(a);s.prototype[l]=s.prototype[l]||function(){var u=this.attrs[a];return u===void 0?o:u}},addSetter(s,a,o,l){var u=i+t.Util._capitalize(a);s.prototype[u]||e.Factory.overWriteSetter(s,a,o,l)},overWriteSetter(s,a,o,l){var u=i+t.Util._capitalize(a);s.prototype[u]=function(p){return o&&p!==void 0&&p!==null&&(p=o.call(this,p,a)),this._setAttr(a,p),l&&l.call(this),this}},addComponentsGetterSetter(s,a,o,l,u){var p=o.length,h=t.Util._capitalize,m=n+h(a),d=i+h(a),g,b;s.prototype[m]=function(){var T={};for(g=0;g<p;g++)b=o[g],T[b]=this.getAttr(a+h(b));return T};var S=(0,r.getComponentValidator)(o);s.prototype[d]=function(T){var f=this.attrs[a],c;l&&(T=l.call(this,T)),S&&S.call(this,T,a);for(c in T)T.hasOwnProperty(c)&&this._setAttr(a+h(c),T[c]);return T||o.forEach(y=>{this._setAttr(a+h(y),void 0)}),this._fireChangeEvent(a,f,T),u&&u.call(this),this},e.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(s,a){var o=t.Util._capitalize(a),l=i+o,u=n+o;s.prototype[a]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(s,a,o,l){t.Util.error("Adding deprecated "+a);var u=n+t.Util._capitalize(a),p=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[u]=function(){t.Util.error(p);var h=this.attrs[a];return h===void 0?o:h},e.Factory.addSetter(s,a,l,function(){t.Util.error(p)}),e.Factory.addOverloadedGetterSetter(s,a)},backCompat(s,a){t.Util.each(a,function(o,l){var u=s.prototype[l],p=n+t.Util._capitalize(o),h=i+t.Util._capitalize(o);function m(){u.apply(this,arguments),t.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[o]=m,s.prototype[p]=m,s.prototype[h]=m})},afterSetFilter(){this._filterUpToDate=!1}}}(Qa)),Qa}var sr={},ar={},Ju;function $d(){if(Ju)return ar;Ju=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.HitContext=ar.SceneContext=ar.Context=void 0;const e=rt(),t=Fe();function r(T){var f=[],c=T.length,y=e.Util,_,k;for(_=0;_<c;_++)k=T[_],y._isNumber(k)?k=Math.round(k*1e3)/1e3:y._isString(k)||(k=k+""),f.push(k);return f}var n=",",i="(",s=")",a="([",o="])",l=";",u="()",p="=",h=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],m=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const d=100;let g=class{constructor(f){this.canvas=f,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(f){f.fillEnabled()&&this._fill(f)}_fill(f){}strokeShape(f){f.hasStroke()&&this._stroke(f)}_stroke(f){}fillStrokeShape(f){f.attrs.fillAfterStrokeEnabled?(this.strokeShape(f),this.fillShape(f)):(this.fillShape(f),this.strokeShape(f))}getTrace(f,c){var y=this.traceArr,_=y.length,k="",N,w,x,E;for(N=0;N<_;N++)w=y[N],x=w.method,x?(E=w.args,k+=x,f?k+=u:e.Util._isArray(E[0])?k+=a+E.join(n)+o:(c&&(E=E.map(M=>typeof M=="number"?Math.floor(M):M)),k+=i+E.join(n)+s)):(k+=w.property,f||(k+=p+w.val)),k+=l;return k}clearTrace(){this.traceArr=[]}_trace(f){var c=this.traceArr,y;c.push(f),y=c.length,y>=d&&c.shift()}reset(){var f=this.getCanvas().getPixelRatio();this.setTransform(1*f,0,0,1*f,0,0)}getCanvas(){return this.canvas}clear(f){var c=this.getCanvas();f?this.clearRect(f.x||0,f.y||0,f.width||0,f.height||0):this.clearRect(0,0,c.getWidth()/c.pixelRatio,c.getHeight()/c.pixelRatio)}_applyLineCap(f){const c=f.attrs.lineCap;c&&this.setAttr("lineCap",c)}_applyOpacity(f){var c=f.getAbsoluteOpacity();c!==1&&this.setAttr("globalAlpha",c)}_applyLineJoin(f){const c=f.attrs.lineJoin;c&&this.setAttr("lineJoin",c)}setAttr(f,c){this._context[f]=c}arc(f,c,y,_,k,N){this._context.arc(f,c,y,_,k,N)}arcTo(f,c,y,_,k){this._context.arcTo(f,c,y,_,k)}beginPath(){this._context.beginPath()}bezierCurveTo(f,c,y,_,k,N){this._context.bezierCurveTo(f,c,y,_,k,N)}clearRect(f,c,y,_){this._context.clearRect(f,c,y,_)}clip(...f){this._context.clip.apply(this._context,f)}closePath(){this._context.closePath()}createImageData(f,c){var y=arguments;if(y.length===2)return this._context.createImageData(f,c);if(y.length===1)return this._context.createImageData(f)}createLinearGradient(f,c,y,_){return this._context.createLinearGradient(f,c,y,_)}createPattern(f,c){return this._context.createPattern(f,c)}createRadialGradient(f,c,y,_,k,N){return this._context.createRadialGradient(f,c,y,_,k,N)}drawImage(f,c,y,_,k,N,w,x,E){var M=arguments,R=this._context;M.length===3?R.drawImage(f,c,y):M.length===5?R.drawImage(f,c,y,_,k):M.length===9&&R.drawImage(f,c,y,_,k,N,w,x,E)}ellipse(f,c,y,_,k,N,w,x){this._context.ellipse(f,c,y,_,k,N,w,x)}isPointInPath(f,c,y,_){return y?this._context.isPointInPath(y,f,c,_):this._context.isPointInPath(f,c,_)}fill(...f){this._context.fill.apply(this._context,f)}fillRect(f,c,y,_){this._context.fillRect(f,c,y,_)}strokeRect(f,c,y,_){this._context.strokeRect(f,c,y,_)}fillText(f,c,y,_){_?this._context.fillText(f,c,y,_):this._context.fillText(f,c,y)}measureText(f){return this._context.measureText(f)}getImageData(f,c,y,_){return this._context.getImageData(f,c,y,_)}lineTo(f,c){this._context.lineTo(f,c)}moveTo(f,c){this._context.moveTo(f,c)}rect(f,c,y,_){this._context.rect(f,c,y,_)}putImageData(f,c,y){this._context.putImageData(f,c,y)}quadraticCurveTo(f,c,y,_){this._context.quadraticCurveTo(f,c,y,_)}restore(){this._context.restore()}rotate(f){this._context.rotate(f)}save(){this._context.save()}scale(f,c){this._context.scale(f,c)}setLineDash(f){this._context.setLineDash?this._context.setLineDash(f):"mozDash"in this._context?this._context.mozDash=f:"webkitLineDash"in this._context&&(this._context.webkitLineDash=f)}getLineDash(){return this._context.getLineDash()}setTransform(f,c,y,_,k,N){this._context.setTransform(f,c,y,_,k,N)}stroke(f){f?this._context.stroke(f):this._context.stroke()}strokeText(f,c,y,_){this._context.strokeText(f,c,y,_)}transform(f,c,y,_,k,N){this._context.transform(f,c,y,_,k,N)}translate(f,c){this._context.translate(f,c)}_enableTrace(){var f=this,c=h.length,y=this.setAttr,_,k,N=function(w){var x=f[w],E;f[w]=function(){return k=r(Array.prototype.slice.call(arguments,0)),E=x.apply(f,arguments),f._trace({method:w,args:k}),E}};for(_=0;_<c;_++)N(h[_]);f.setAttr=function(){y.apply(f,arguments);var w=arguments[0],x=arguments[1];(w==="shadowOffsetX"||w==="shadowOffsetY"||w==="shadowBlur")&&(x=x/this.canvas.getPixelRatio()),f._trace({property:w,val:x})}}_applyGlobalCompositeOperation(f){const c=f.attrs.globalCompositeOperation;var y=!c||c==="source-over";y||this.setAttr("globalCompositeOperation",c)}};ar.Context=g,m.forEach(function(T){Object.defineProperty(g.prototype,T,{get(){return this._context[T]},set(f){this._context[T]=f}})});class b extends g{constructor(f,{willReadFrequently:c=!1}={}){super(f),this._context=f._canvas.getContext("2d",{willReadFrequently:c})}_fillColor(f){var c=f.fill();this.setAttr("fillStyle",c),f._fillFunc(this)}_fillPattern(f){this.setAttr("fillStyle",f._getFillPattern()),f._fillFunc(this)}_fillLinearGradient(f){var c=f._getLinearGradient();c&&(this.setAttr("fillStyle",c),f._fillFunc(this))}_fillRadialGradient(f){const c=f._getRadialGradient();c&&(this.setAttr("fillStyle",c),f._fillFunc(this))}_fill(f){const c=f.fill(),y=f.getFillPriority();if(c&&y==="color"){this._fillColor(f);return}const _=f.getFillPatternImage();if(_&&y==="pattern"){this._fillPattern(f);return}const k=f.getFillLinearGradientColorStops();if(k&&y==="linear-gradient"){this._fillLinearGradient(f);return}const N=f.getFillRadialGradientColorStops();if(N&&y==="radial-gradient"){this._fillRadialGradient(f);return}c?this._fillColor(f):_?this._fillPattern(f):k?this._fillLinearGradient(f):N&&this._fillRadialGradient(f)}_strokeLinearGradient(f){const c=f.getStrokeLinearGradientStartPoint(),y=f.getStrokeLinearGradientEndPoint(),_=f.getStrokeLinearGradientColorStops(),k=this.createLinearGradient(c.x,c.y,y.x,y.y);if(_){for(var N=0;N<_.length;N+=2)k.addColorStop(_[N],_[N+1]);this.setAttr("strokeStyle",k)}}_stroke(f){var c=f.dash(),y=f.getStrokeScaleEnabled();if(f.hasStroke()){if(!y){this.save();var _=this.getCanvas().getPixelRatio();this.setTransform(_,0,0,_,0,0)}this._applyLineCap(f),c&&f.dashEnabled()&&(this.setLineDash(c),this.setAttr("lineDashOffset",f.dashOffset())),this.setAttr("lineWidth",f.strokeWidth()),f.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var k=f.getStrokeLinearGradientColorStops();k?this._strokeLinearGradient(f):this.setAttr("strokeStyle",f.stroke()),f._strokeFunc(this),y||this.restore()}}_applyShadow(f){var c,y,_,k=(c=f.getShadowRGBA())!==null&&c!==void 0?c:"black",N=(y=f.getShadowBlur())!==null&&y!==void 0?y:5,w=(_=f.getShadowOffset())!==null&&_!==void 0?_:{x:0,y:0},x=f.getAbsoluteScale(),E=this.canvas.getPixelRatio(),M=x.x*E,R=x.y*E;this.setAttr("shadowColor",k),this.setAttr("shadowBlur",N*Math.min(Math.abs(M),Math.abs(R))),this.setAttr("shadowOffsetX",w.x*M),this.setAttr("shadowOffsetY",w.y*R)}}ar.SceneContext=b;class S extends g{constructor(f){super(f),this._context=f._canvas.getContext("2d",{willReadFrequently:!0})}_fill(f){this.save(),this.setAttr("fillStyle",f.colorKey),f._fillFuncHit(this),this.restore()}strokeShape(f){f.hasHitStroke()&&this._stroke(f)}_stroke(f){if(f.hasHitStroke()){const k=f.getStrokeScaleEnabled();if(!k){this.save();var c=this.getCanvas().getPixelRatio();this.setTransform(c,0,0,c,0,0)}this._applyLineCap(f);var y=f.hitStrokeWidth(),_=y==="auto"?f.strokeWidth():y;this.setAttr("lineWidth",_),this.setAttr("strokeStyle",f.colorKey),f._strokeFuncHit(this),k||this.restore()}}}return ar.HitContext=S,ar}var Qu;function Oa(){if(Qu)return sr;Qu=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.HitCanvas=sr.SceneCanvas=sr.Canvas=void 0;const e=rt(),t=$d(),r=Fe(),n=Me(),i=Re();var s;function a(){if(s)return s;var p=e.Util.createCanvasElement(),h=p.getContext("2d");return s=function(){var m=r.Konva._global.devicePixelRatio||1,d=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return m/d}(),e.Util.releaseCanvas(p),s}let o=class{constructor(h){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var m=h||{},d=m.pixelRatio||r.Konva.pixelRatio||a();this.pixelRatio=d,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(h){var m=this.pixelRatio;this.pixelRatio=h,this.setSize(this.getWidth()/m,this.getHeight()/m)}setWidth(h){this.width=this._canvas.width=h*this.pixelRatio,this._canvas.style.width=h+"px";var m=this.pixelRatio,d=this.getContext()._context;d.scale(m,m)}setHeight(h){this.height=this._canvas.height=h*this.pixelRatio,this._canvas.style.height=h+"px";var m=this.pixelRatio,d=this.getContext()._context;d.scale(m,m)}getWidth(){return this.width}getHeight(){return this.height}setSize(h,m){this.setWidth(h||0),this.setHeight(m||0)}toDataURL(h,m){try{return this._canvas.toDataURL(h,m)}catch{try{return this._canvas.toDataURL()}catch(g){return e.Util.error("Unable to get data URL. "+g.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};sr.Canvas=o,n.Factory.addGetterSetter(o,"pixelRatio",void 0,(0,i.getNumberValidator)());class l extends o{constructor(h={width:0,height:0,willReadFrequently:!1}){super(h),this.context=new t.SceneContext(this,{willReadFrequently:h.willReadFrequently}),this.setSize(h.width,h.height)}}sr.SceneCanvas=l;class u extends o{constructor(h={width:0,height:0}){super(h),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(h.width,h.height)}}return sr.HitCanvas=u,sr}var eo={},ec;function Sl(){return ec||(ec=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=Fe(),r=rt();e.DD={get isDragging(){var n=!1;return e.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return e.DD._dragElements.forEach(i=>{n=i.node}),n},_dragElements:new Map,_drag(n){const i=[];e.DD._dragElements.forEach((s,a)=>{const{node:o}=s,l=o.getStage();l.setPointersPositions(n),s.pointerId===void 0&&(s.pointerId=r.Util._getFirstPointerId(n));const u=l._changedPointerPositions.find(m=>m.id===s.pointerId);if(u){if(s.dragStatus!=="dragging"){var p=o.dragDistance(),h=Math.max(Math.abs(u.x-s.startPointerPos.x),Math.abs(u.y-s.startPointerPos.y));if(h<p||(o.startDrag({evt:n}),!o.isDragging()))return}o._setDragPosition(n,s),i.push(o)}}),i.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:n},!0)})},_endDragBefore(n){const i=[];e.DD._dragElements.forEach(s=>{const{node:a}=s,o=a.getStage();if(n&&o.setPointersPositions(n),!o._changedPointerPositions.find(p=>p.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,s.dragStatus="stopped");const u=s.node.getLayer()||s.node instanceof t.Konva.Stage&&s.node;u&&i.indexOf(u)===-1&&i.push(u)}),i.forEach(s=>{s.draw()})},_endDragAfter(n){e.DD._dragElements.forEach((i,s)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:n},!0),i.dragStatus!=="dragging"&&e.DD._dragElements.delete(s)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))}(eo)),eo}var tc;function it(){if(tc)return jn;tc=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.Node=void 0;const e=rt(),t=Me(),r=Oa(),n=Fe(),i=Sl(),s=Re();var a="absoluteOpacity",o="allEventListeners",l="absoluteTransform",u="absoluteScale",p="canvas",h="Change",m="children",d="konva",g="listening",b="mouseenter",S="mouseleave",T="set",f="Shape",c=" ",y="stage",_="transform",k="Stage",N="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(c);let x=1,E=class Fo{constructor(v){this._id=x++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(v),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(v){(v===_||v===l)&&this._cache.get(v)?this._cache.get(v).dirty=!0:v?this._cache.delete(v):this._cache.clear()}_getCache(v,C){var A=this._cache.get(v),O=v===_||v===l,D=A===void 0||O&&A.dirty===!0;return D&&(A=C.call(this),this._cache.set(v,A)),A}_calculate(v,C,A){if(!this._attachedDepsListeners.get(v)){const O=C.map(D=>D+"Change.konva").join(c);this.on(O,()=>{this._clearCache(v)}),this._attachedDepsListeners.set(v,!0)}return this._getCache(v,A)}_getCanvasCache(){return this._cache.get(p)}_clearSelfAndDescendantCache(v){this._clearCache(v),v===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(p)){const{scene:v,filter:C,hit:A}=this._cache.get(p);e.Util.releaseCanvas(v,C,A),this._cache.delete(p)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(v){var C=v||{},A={};(C.x===void 0||C.y===void 0||C.width===void 0||C.height===void 0)&&(A=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var O=Math.ceil(C.width||A.width),D=Math.ceil(C.height||A.height),L=C.pixelRatio,U=C.x===void 0?Math.floor(A.x):C.x,$=C.y===void 0?Math.floor(A.y):C.y,Z=C.offset||0,ne=C.drawBorder||!1,te=C.hitCanvasPixelRatio||1;if(!O||!D){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}O+=Z*2+1,D+=Z*2+1,U-=Z,$-=Z;var de=new r.SceneCanvas({pixelRatio:L,width:O,height:D}),me=new r.SceneCanvas({pixelRatio:L,width:0,height:0,willReadFrequently:!0}),ye=new r.HitCanvas({pixelRatio:te,width:O,height:D}),B=de.getContext(),q=ye.getContext();return ye.isCache=!0,de.isCache=!0,this._cache.delete(p),this._filterUpToDate=!1,C.imageSmoothingEnabled===!1&&(de.getContext()._context.imageSmoothingEnabled=!1,me.getContext()._context.imageSmoothingEnabled=!1),B.save(),q.save(),B.translate(-U,-$),q.translate(-U,-$),this._isUnderCache=!0,this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(u),this.drawScene(de,this),this.drawHit(ye,this),this._isUnderCache=!1,B.restore(),q.restore(),ne&&(B.save(),B.beginPath(),B.rect(0,0,O,D),B.closePath(),B.setAttr("strokeStyle","red"),B.setAttr("lineWidth",5),B.stroke(),B.restore()),this._cache.set(p,{scene:de,filter:me,hit:ye,x:U,y:$}),this._requestDraw(),this}isCached(){return this._cache.has(p)}getClientRect(v){throw new Error('abstract "getClientRect" method call')}_transformedRect(v,C){var A=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],O,D,L,U,$=this.getAbsoluteTransform(C);return A.forEach(function(Z){var ne=$.point(Z);O===void 0&&(O=L=ne.x,D=U=ne.y),O=Math.min(O,ne.x),D=Math.min(D,ne.y),L=Math.max(L,ne.x),U=Math.max(U,ne.y)}),{x:O,y:D,width:L-O,height:U-D}}_drawCachedSceneCanvas(v){v.save(),v._applyOpacity(this),v._applyGlobalCompositeOperation(this);const C=this._getCanvasCache();v.translate(C.x,C.y);var A=this._getCachedSceneCanvas(),O=A.pixelRatio;v.drawImage(A._canvas,0,0,A.width/O,A.height/O),v.restore()}_drawCachedHitCanvas(v){var C=this._getCanvasCache(),A=C.hit;v.save(),v.translate(C.x,C.y),v.drawImage(A._canvas,0,0,A.width/A.pixelRatio,A.height/A.pixelRatio),v.restore()}_getCachedSceneCanvas(){var v=this.filters(),C=this._getCanvasCache(),A=C.scene,O=C.filter,D=O.getContext(),L,U,$,Z;if(v){if(!this._filterUpToDate){var ne=A.pixelRatio;O.setSize(A.width/A.pixelRatio,A.height/A.pixelRatio);try{for(L=v.length,D.clear(),D.drawImage(A._canvas,0,0,A.getWidth()/ne,A.getHeight()/ne),U=D.getImageData(0,0,O.getWidth(),O.getHeight()),$=0;$<L;$++){if(Z=v[$],typeof Z!="function"){e.Util.error("Filter should be type of function, but got "+typeof Z+" instead. Please check correct filters");continue}Z.call(this,U),D.putImageData(U,0,0)}}catch(te){e.Util.error("Unable to apply filter. "+te.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return O}return A}on(v,C){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);var A=v.split(c),O=A.length,D,L,U,$,Z;for(D=0;D<O;D++)L=A[D],U=L.split("."),$=U[0],Z=U[1]||"",this.eventListeners[$]||(this.eventListeners[$]=[]),this.eventListeners[$].push({name:Z,handler:C});return this}off(v,C){var A=(v||"").split(c),O=A.length,D,L,U,$,Z,ne;if(this._cache&&this._cache.delete(o),!v)for(L in this.eventListeners)this._off(L);for(D=0;D<O;D++)if(U=A[D],$=U.split("."),Z=$[0],ne=$[1],Z)this.eventListeners[Z]&&this._off(Z,ne,C);else for(L in this.eventListeners)this._off(L,ne,C);return this}dispatchEvent(v){var C={target:this,type:v.type,evt:v};return this.fire(v.type,C),this}addEventListener(v,C){return this.on(v,function(A){C.call(this,A.evt)}),this}removeEventListener(v){return this.off(v),this}_delegate(v,C,A){var O=this;this.on(v,function(D){for(var L=D.target.findAncestors(C,!0,O),U=0;U<L.length;U++)D=e.Util.cloneObject(D),D.currentTarget=L[U],A.call(L[U],D)})}remove(){return this.isDragging()&&this.stopDrag(),i.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(N),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();var v=this.getParent();v&&v.children&&(v.children.splice(this.index,1),v._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(v){var C="get"+e.Util._capitalize(v);return e.Util._isFunction(this[C])?this[C]():this.attrs[v]}getAncestors(){for(var v=this.getParent(),C=[];v;)C.push(v),v=v.getParent();return C}getAttrs(){return this.attrs||{}}setAttrs(v){return this._batchTransformChanges(()=>{var C,A;if(!v)return this;for(C in v)C!==m&&(A=T+e.Util._capitalize(C),e.Util._isFunction(this[A])?this[A](v[C]):this._setAttr(C,v[C]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(v){if(!this.listening())return!1;const A=this.getParent();return A&&A!==v&&this!==v?A._isListening(v):!0}isVisible(){return this._getCache(N,this._isVisible)}_isVisible(v){if(!this.visible())return!1;const A=this.getParent();return A&&A!==v&&this!==v?A._isVisible(v):!0}shouldDrawHit(v,C=!1){if(v)return this._isVisible(v)&&this._isListening(v);var A=this.getLayer(),O=!1;i.DD._dragElements.forEach(L=>{L.dragStatus==="dragging"&&(L.node.nodeType==="Stage"||L.node.getLayer()===A)&&(O=!0)});var D=!C&&!n.Konva.hitOnDragEnabled&&O;return this.isListening()&&this.isVisible()&&!D}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var v=this.getDepth(),C=this,A=0,O,D,L,U;function $(Z){for(O=[],D=Z.length,L=0;L<D;L++)U=Z[L],A++,U.nodeType!==f&&(O=O.concat(U.getChildren().slice())),U._id===C._id&&(L=D);O.length>0&&O[0].getDepth()<=v&&$(O)}return C.nodeType!==k&&$(C.getStage().getChildren()),A}getDepth(){for(var v=0,C=this.parent;C;)v++,C=C.parent;return v}_batchTransformChanges(v){this._batchingTransformChange=!0,v(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(_),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(v){return this._batchTransformChanges(()=>{this.x(v.x),this.y(v.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var v=this.getStage().getPointerPosition();if(!v)return null;var C=this.getAbsoluteTransform().copy();return C.invert(),C.point(v)}getAbsolutePosition(v){let C=!1,A=this.parent;for(;A;){if(A.isCached()){C=!0;break}A=A.parent}C&&!v&&(v=!0);var O=this.getAbsoluteTransform(v).getMatrix(),D=new e.Transform,L=this.offset();return D.m=O.slice(),D.translate(L.x,L.y),D.getTranslation()}setAbsolutePosition(v){var C=this._clearTransform();this.attrs.x=C.x,this.attrs.y=C.y,delete C.x,delete C.y,this._clearCache(_);var A=this._getAbsoluteTransform().copy();return A.invert(),A.translate(v.x,v.y),v={x:this.attrs.x+A.getTranslation().x,y:this.attrs.y+A.getTranslation().y},this._setTransform(C),this.setPosition({x:v.x,y:v.y}),this._clearCache(_),this._clearSelfAndDescendantCache(l),this}_setTransform(v){var C;for(C in v)this.attrs[C]=v[C]}_clearTransform(){var v={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,v}move(v){var C=v.x,A=v.y,O=this.x(),D=this.y();return C!==void 0&&(O+=C),A!==void 0&&(D+=A),this.setPosition({x:O,y:D}),this}_eachAncestorReverse(v,C){var A=[],O=this.getParent(),D,L;if(!(C&&C._id===this._id)){for(A.unshift(this);O&&(!C||O._id!==C._id);)A.unshift(O),O=O.parent;for(D=A.length,L=0;L<D;L++)v(A[L])}}rotate(v){return this.rotation(this.rotation()+v),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var v=this.index,C=this.parent.getChildren().length;return v<C-1?(this.parent.children.splice(v,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;var v=this.index,C=this.parent.getChildren().length;return v<C-1?(this.parent.children.splice(v,1),this.parent.children.splice(v+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;var v=this.index;return v>0?(this.parent.children.splice(v,1),this.parent.children.splice(v-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var v=this.index;return v>0?(this.parent.children.splice(v,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(v){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(v<0||v>=this.parent.children.length)&&e.Util.warn("Unexpected value "+v+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var C=this.index;return this.parent.children.splice(C,1),this.parent.children.splice(v,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(a,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var v=this.opacity(),C=this.getParent();return C&&!C._isUnderCache&&(v*=C.getAbsoluteOpacity()),v}moveTo(v){return this.getParent()!==v&&(this._remove(),v.add(this)),this}toObject(){var v={},C=this.getAttrs(),A,O,D,L,U;v.attrs={};for(A in C)O=C[A],U=e.Util.isObject(O)&&!e.Util._isPlainObject(O)&&!e.Util._isArray(O),!U&&(D=typeof this[A]=="function"&&this[A],delete C[A],L=D?D.call(this):null,C[A]=O,L!==O&&(v.attrs[A]=O));return v.className=this.getClassName(),e.Util._prepareToStringify(v)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(v,C,A){var O=[];C&&this._isMatch(v)&&O.push(this);for(var D=this.parent;D;){if(D===A)return O;D._isMatch(v)&&O.push(D),D=D.parent}return O}isAncestorOf(v){return!1}findAncestor(v,C,A){return this.findAncestors(v,C,A)[0]}_isMatch(v){if(!v)return!1;if(typeof v=="function")return v(this);var C=v.replace(/ /g,"").split(","),A=C.length,O,D;for(O=0;O<A;O++)if(D=C[O],e.Util.isValidSelector(D)||(e.Util.warn('Selector "'+D+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),D.charAt(0)==="#"){if(this.id()===D.slice(1))return!0}else if(D.charAt(0)==="."){if(this.hasName(D.slice(1)))return!0}else if(this.className===D||this.nodeType===D)return!0;return!1}getLayer(){var v=this.getParent();return v?v.getLayer():null}getStage(){return this._getCache(y,this._getStage)}_getStage(){var v=this.getParent();if(v)return v.getStage()}fire(v,C={},A){return C.target=C.target||this,A?this._fireAndBubble(v,C):this._fire(v,C),this}getAbsoluteTransform(v){return v?this._getAbsoluteTransform(v):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(v){var C;if(v)return C=new e.Transform,this._eachAncestorReverse(function(O){var D=O.transformsEnabled();D==="all"?C.multiply(O.getTransform()):D==="position"&&C.translate(O.x()-O.offsetX(),O.y()-O.offsetY())},v),C;C=this._cache.get(l)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(C):C.reset();var A=this.transformsEnabled();if(A==="all")C.multiply(this.getTransform());else if(A==="position"){const O=this.attrs.x||0,D=this.attrs.y||0,L=this.attrs.offsetX||0,U=this.attrs.offsetY||0;C.translate(O-L,D-U)}return C.dirty=!1,C}getAbsoluteScale(v){for(var C=this;C;)C._isUnderCache&&(v=C),C=C.getParent();const O=this.getAbsoluteTransform(v).decompose();return{x:O.scaleX,y:O.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(_,this._getTransform)}_getTransform(){var v,C,A=this._cache.get(_)||new e.Transform;A.reset();var O=this.x(),D=this.y(),L=n.Konva.getAngle(this.rotation()),U=(v=this.attrs.scaleX)!==null&&v!==void 0?v:1,$=(C=this.attrs.scaleY)!==null&&C!==void 0?C:1,Z=this.attrs.skewX||0,ne=this.attrs.skewY||0,te=this.attrs.offsetX||0,de=this.attrs.offsetY||0;return(O!==0||D!==0)&&A.translate(O,D),L!==0&&A.rotate(L),(Z!==0||ne!==0)&&A.skew(Z,ne),(U!==1||$!==1)&&A.scale(U,$),(te!==0||de!==0)&&A.translate(-1*te,-1*de),A.dirty=!1,A}clone(v){var C=e.Util.cloneObject(this.attrs),A,O,D,L,U;for(A in v)C[A]=v[A];var $=new this.constructor(C);for(A in this.eventListeners)for(O=this.eventListeners[A],D=O.length,L=0;L<D;L++)U=O[L],U.name.indexOf(d)<0&&($.eventListeners[A]||($.eventListeners[A]=[]),$.eventListeners[A].push(U));return $}_toKonvaCanvas(v){v=v||{};var C=this.getClientRect(),A=this.getStage(),O=v.x!==void 0?v.x:Math.floor(C.x),D=v.y!==void 0?v.y:Math.floor(C.y),L=v.pixelRatio||1,U=new r.SceneCanvas({width:v.width||Math.ceil(C.width)||(A?A.width():0),height:v.height||Math.ceil(C.height)||(A?A.height():0),pixelRatio:L}),$=U.getContext();return v.imageSmoothingEnabled===!1&&($._context.imageSmoothingEnabled=!1),$.save(),(O||D)&&$.translate(-1*O,-1*D),this.drawScene(U),$.restore(),U}toCanvas(v){return this._toKonvaCanvas(v)._canvas}toDataURL(v){v=v||{};var C=v.mimeType||null,A=v.quality||null,O=this._toKonvaCanvas(v).toDataURL(C,A);return v.callback&&v.callback(O),O}toImage(v){return new Promise((C,A)=>{try{const O=v==null?void 0:v.callback;O&&delete v.callback,e.Util._urlToImage(this.toDataURL(v),function(D){C(D),O==null||O(D)})}catch(O){A(O)}})}toBlob(v){return new Promise((C,A)=>{try{const O=v==null?void 0:v.callback;O&&delete v.callback,this.toCanvas(v).toBlob(D=>{C(D),O==null||O(D)})}catch(O){A(O)}})}setSize(v){return this.width(v.width),this.height(v.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(v,C,A){var O=this.eventListeners[v],D,L,U;for(D=0;D<O.length;D++)if(L=O[D].name,U=O[D].handler,(L!=="konva"||C==="konva")&&(!C||L===C)&&(!A||A===U)){if(O.splice(D,1),O.length===0){delete this.eventListeners[v];break}D--}}_fireChangeEvent(v,C,A){this._fire(v+h,{oldVal:C,newVal:A})}addName(v){if(!this.hasName(v)){var C=this.name(),A=C?C+" "+v:v;this.name(A)}return this}hasName(v){if(!v)return!1;const C=this.name();if(!C)return!1;var A=(C||"").split(/\s/g);return A.indexOf(v)!==-1}removeName(v){var C=(this.name()||"").split(/\s/g),A=C.indexOf(v);return A!==-1&&(C.splice(A,1),this.name(C.join(" "))),this}setAttr(v,C){var A=this[T+e.Util._capitalize(v)];return e.Util._isFunction(A)?A.call(this,C):this._setAttr(v,C),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const v=this.getLayer()||this.getStage();v==null||v.batchDraw()}}_setAttr(v,C){var A=this.attrs[v];A===C&&!e.Util.isObject(C)||(C==null?delete this.attrs[v]:this.attrs[v]=C,this._shouldFireChangeEvents&&this._fireChangeEvent(v,A,C),this._requestDraw())}_setComponentAttr(v,C,A){var O;A!==void 0&&(O=this.attrs[v],O||(this.attrs[v]=this.getAttr(v)),this.attrs[v][C]=A,this._fireChangeEvent(v,O,A))}_fireAndBubble(v,C,A){C&&this.nodeType===f&&(C.target=this);var O=(v===b||v===S)&&(A&&(this===A||this.isAncestorOf&&this.isAncestorOf(A))||this.nodeType==="Stage"&&!A);if(!O){this._fire(v,C);var D=(v===b||v===S)&&A&&A.isAncestorOf&&A.isAncestorOf(this)&&!A.isAncestorOf(this.parent);(C&&!C.cancelBubble||!C)&&this.parent&&this.parent.isListening()&&!D&&(A&&A.parent?this._fireAndBubble.call(this.parent,v,C,A):this._fireAndBubble.call(this.parent,v,C))}}_getProtoListeners(v){var C,A,O;const D=(C=this._cache.get(o))!==null&&C!==void 0?C:{};let L=D==null?void 0:D[v];if(L===void 0){L=[];let U=Object.getPrototypeOf(this);for(;U;){const $=(O=(A=U.eventListeners)===null||A===void 0?void 0:A[v])!==null&&O!==void 0?O:[];L.push(...$),U=Object.getPrototypeOf(U)}D[v]=L,this._cache.set(o,D)}return L}_fire(v,C){C=C||{},C.currentTarget=this,C.type=v;const A=this._getProtoListeners(v);if(A)for(var O=0;O<A.length;O++)A[O].handler.call(this,C);const D=this.eventListeners[v];if(D)for(var O=0;O<D.length;O++)D[O].handler.call(this,C)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(v){var C=v?v.pointerId:void 0,A=this.getStage(),O=this.getAbsolutePosition(),D=A._getPointerById(C)||A._changedPointerPositions[0]||O;i.DD._dragElements.set(this._id,{node:this,startPointerPos:D,offset:{x:D.x-O.x,y:D.y-O.y},dragStatus:"ready",pointerId:C})}startDrag(v,C=!0){i.DD._dragElements.has(this._id)||this._createDragElement(v);const A=i.DD._dragElements.get(this._id);A.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:v&&v.evt},C)}_setDragPosition(v,C){const A=this.getStage()._getPointerById(C.pointerId);if(A){var O={x:A.x-C.offset.x,y:A.y-C.offset.y},D=this.dragBoundFunc();if(D!==void 0){const L=D.call(this,O,v);L?O=L:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==O.x||this._lastPos.y!==O.y)&&(this.setAbsolutePosition(O),this._requestDraw()),this._lastPos=O}}stopDrag(v){const C=i.DD._dragElements.get(this._id);C&&(C.dragStatus="stopped"),i.DD._endDragBefore(v),i.DD._endDragAfter(v)}setDraggable(v){this._setAttr("draggable",v),this._dragChange()}isDragging(){const v=i.DD._dragElements.get(this._id);return v?v.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(v){var C=v.evt.button!==void 0,A=!C||n.Konva.dragButtons.indexOf(v.evt.button)>=0;if(A&&!this.isDragging()){var O=!1;i.DD._dragElements.forEach(D=>{this.isAncestorOf(D.node)&&(O=!0)}),O||this._createDragElement(v)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var v=this.getStage();if(!v)return;const C=i.DD._dragElements.get(this._id),A=C&&C.dragStatus==="dragging",O=C&&C.dragStatus==="ready";A?this.stopDrag():O&&i.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(v={x:0,y:0}){const C=this.getStage();if(!C)return!1;const A={x:-v.x,y:-v.y,width:C.width()+2*v.x,height:C.height()+2*v.y};return e.Util.haveIntersection(A,this.getClientRect())}static create(v,C){return e.Util._isString(v)&&(v=JSON.parse(v)),this._createNode(v,C)}static _createNode(v,C){var A=Fo.prototype.getClassName.call(v),O=v.children,D,L,U;C&&(v.attrs.container=C),n.Konva[A]||(e.Util.warn('Can not find a node with class name "'+A+'". Fallback to "Shape".'),A="Shape");const $=n.Konva[A];if(D=new $(v.attrs),O)for(L=O.length,U=0;U<L;U++)D.add(Fo._createNode(O[U]));return D}};jn.Node=E,E.prototype.nodeType="Node",E.prototype._attrsAffectingSize=[],E.prototype.eventListeners={},E.prototype.on.call(E.prototype,w,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(_),this._clearSelfAndDescendantCache(l)}),E.prototype.on.call(E.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(N)}),E.prototype.on.call(E.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),E.prototype.on.call(E.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(a)});const M=t.Factory.addGetterSetter;return M(E,"zIndex"),M(E,"absolutePosition"),M(E,"position"),M(E,"x",0,(0,s.getNumberValidator)()),M(E,"y",0,(0,s.getNumberValidator)()),M(E,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),M(E,"opacity",1,(0,s.getNumberValidator)()),M(E,"name","",(0,s.getStringValidator)()),M(E,"id","",(0,s.getStringValidator)()),M(E,"rotation",0,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"scale",["x","y"]),M(E,"scaleX",1,(0,s.getNumberValidator)()),M(E,"scaleY",1,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"skew",["x","y"]),M(E,"skewX",0,(0,s.getNumberValidator)()),M(E,"skewY",0,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"offset",["x","y"]),M(E,"offsetX",0,(0,s.getNumberValidator)()),M(E,"offsetY",0,(0,s.getNumberValidator)()),M(E,"dragDistance",null,(0,s.getNumberValidator)()),M(E,"width",0,(0,s.getNumberValidator)()),M(E,"height",0,(0,s.getNumberValidator)()),M(E,"listening",!0,(0,s.getBooleanValidator)()),M(E,"preventDefault",!0,(0,s.getBooleanValidator)()),M(E,"filters",null,function(R){return this._filterUpToDate=!1,R}),M(E,"visible",!0,(0,s.getBooleanValidator)()),M(E,"transformsEnabled","all",(0,s.getStringValidator)()),M(E,"size"),M(E,"dragBoundFunc"),M(E,"draggable",!1,(0,s.getBooleanValidator)()),t.Factory.backCompat(E,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),jn}var Yn={},rc;function Pa(){if(rc)return Yn;rc=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.Container=void 0;const e=Me(),t=it(),r=Re();let n=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){if(!s)return this.children||[];const a=this.children||[];var o=[];return a.forEach(function(l){s(l)&&o.push(l)}),o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(var a=0;a<s.length;a++)this.add(s[a]);return this}const o=s[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){var a=this._generalFind(s,!0);return a.length>0?a[0]:void 0}_generalFind(s,a){var o=[];return this._descendants(l=>{const u=l._isMatch(s);return u&&o.push(l),!!(u&&a)}),o}_descendants(s){let a=!1;const o=this.getChildren();for(const l of o){if(a=s(l),a)return!0;if(l.hasChildren()&&(a=l._descendants(s),a))return!0}return!1}toObject(){var s=t.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(a=>{s.children.push(a.toObject())}),s}isAncestorOf(s){for(var a=s.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(s){var a=t.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(o){a.add(o.clone())}),a}getAllIntersections(s){var a=[];return this.find("Shape").forEach(function(o){o.isVisible()&&o.intersects(s)&&a.push(o)}),a}_clearSelfAndDescendantCache(s){var a;super._clearSelfAndDescendantCache(s),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(o){o._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(a,o){a.index=o}),this._requestDraw()}drawScene(s,a){var o=this.getLayer(),l=s||o&&o.getCanvas(),u=l&&l.getContext(),p=this._getCanvasCache(),h=p&&p.scene,m=l&&l.isCache;if(!this.isVisible()&&!m)return this;if(h){u.save();var d=this.getAbsoluteTransform(a).getMatrix();u.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,a);return this}drawHit(s,a){if(!this.shouldDrawHit(a))return this;var o=this.getLayer(),l=s||o&&o.hitCanvas,u=l&&l.getContext(),p=this._getCanvasCache(),h=p&&p.hit;if(h){u.save();var m=this.getAbsoluteTransform(a).getMatrix();u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",l,a);return this}_drawChildren(s,a,o){var l,u=a&&a.getContext(),p=this.clipWidth(),h=this.clipHeight(),m=this.clipFunc(),d=p&&h||m;const g=o===this;if(d){u.save();var b=this.getAbsoluteTransform(o),S=b.getMatrix();u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u.beginPath();let y;if(m)y=m.call(this,u,this);else{var T=this.clipX(),f=this.clipY();u.rect(T,f,p,h)}u.clip.apply(u,y),S=b.copy().invert().getMatrix(),u.transform(S[0],S[1],S[2],S[3],S[4],S[5])}var c=!g&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";c&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(y){y[s](a,o)}),c&&u.restore(),d&&u.restore()}getClientRect(s){var a;s=s||{};var o=s.skipTransform,l=s.relativeTo,u,p,h,m,d={x:1/0,y:1/0,width:0,height:0},g=this;(a=this.children)===null||a===void 0||a.forEach(function(c){if(c.visible()){var y=c.getClientRect({relativeTo:g,skipShadow:s.skipShadow,skipStroke:s.skipStroke});y.width===0&&y.height===0||(u===void 0?(u=y.x,p=y.y,h=y.x+y.width,m=y.y+y.height):(u=Math.min(u,y.x),p=Math.min(p,y.y),h=Math.max(h,y.x+y.width),m=Math.max(m,y.y+y.height)))}});for(var b=this.find("Shape"),S=!1,T=0;T<b.length;T++){var f=b[T];if(f._isVisible(this)){S=!0;break}}return S&&u!==void 0?d={x:u,y:p,width:h-u,height:m-p}:d={x:0,y:0,width:0,height:0},o?d:this._transformedRect(d,l)}};return Yn.Container=n,e.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(n,"clipX",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipY",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipWidth",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipHeight",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipFunc"),Yn}var to={},Ot={},nc;function Wd(){if(nc)return Ot;nc=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.releaseCapture=Ot.setPointerCapture=Ot.hasPointerCapture=Ot.createEvent=Ot.getCapturedShape=void 0;const e=Fe(),t=new Map,r=e.Konva._global.PointerEvent!==void 0;function n(l){return t.get(l)}Ot.getCapturedShape=n;function i(l){return{evt:l,pointerId:l.pointerId}}Ot.createEvent=i;function s(l,u){return t.get(l)===u}Ot.hasPointerCapture=s;function a(l,u){o(l),u.getStage()&&(t.set(l,u),r&&u._fire("gotpointercapture",i(new PointerEvent("gotpointercapture"))))}Ot.setPointerCapture=a;function o(l,u){const p=t.get(l);if(!p)return;const h=p.getStage();h&&h.content,t.delete(l),r&&p._fire("lostpointercapture",i(new PointerEvent("lostpointercapture")))}return Ot.releaseCapture=o,Ot}var ic;function L4(){return ic||(ic=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=rt(),r=Me(),n=Pa(),i=Fe(),s=Oa(),a=Sl(),o=Fe(),l=Wd();var u="Stage",p="string",h="px",m="mouseout",d="mouseleave",g="mouseover",b="mouseenter",S="mousemove",T="mousedown",f="mouseup",c="pointermove",y="pointerdown",_="pointerup",k="pointercancel",N="lostpointercapture",w="pointerout",x="pointerleave",E="pointerover",M="pointerenter",R="contextmenu",v="touchstart",C="touchend",A="touchmove",O="touchcancel",D="wheel",L=5,U=[[b,"_pointerenter"],[T,"_pointerdown"],[S,"_pointermove"],[f,"_pointerup"],[d,"_pointerleave"],[v,"_pointerdown"],[A,"_pointermove"],[C,"_pointerup"],[O,"_pointercancel"],[g,"_pointerover"],[D,"_wheel"],[R,"_contextmenu"],[y,"_pointerdown"],[c,"_pointermove"],[_,"_pointerup"],[k,"_pointercancel"],[N,"_lostpointercapture"]];const $={mouse:{[w]:m,[x]:d,[E]:g,[M]:b,[c]:S,[y]:T,[_]:f,[k]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[x]:"touchleave",[E]:"touchover",[M]:"touchenter",[c]:A,[y]:v,[_]:C,[k]:O,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[x]:x,[E]:E,[M]:M,[c]:c,[y]:y,[_]:_,[k]:k,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Z=ye=>ye.indexOf("pointer")>=0?"pointer":ye.indexOf("touch")>=0?"touch":"mouse",ne=ye=>{const B=Z(ye);if(B==="pointer")return i.Konva.pointerEventsEnabled&&$.pointer;if(B==="touch")return $.touch;if(B==="mouse")return $.mouse};function te(ye={}){return(ye.clipFunc||ye.clipWidth||ye.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ye}const de="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class me extends n.Container{constructor(B){super(te(B)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{te(this.attrs)}),this._checkVisibility()}_validateAdd(B){const q=B.getType()==="Layer",ie=B.getType()==="FastLayer";q||ie||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const B=this.visible()?"":"none";this.content.style.display=B}setContainer(B){if(typeof B===p){if(B.charAt(0)==="."){var q=B.slice(1);B=document.getElementsByClassName(q)[0]}else{var ie;B.charAt(0)!=="#"?ie=B:ie=B.slice(1),B=document.getElementById(ie)}if(!B)throw"Can not find container in document with id "+ie}return this._setAttr("container",B),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),B.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var B=this.children,q=B.length,ie;for(ie=0;ie<q;ie++)B[ie].clear();return this}clone(B){return B||(B={}),B.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,B)}destroy(){super.destroy();var B=this.content;B&&t.Util._isInDocument(B)&&this.container().removeChild(B);var q=e.stages.indexOf(this);return q>-1&&e.stages.splice(q,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const B=this._pointerPositions[0]||this._changedPointerPositions[0];return B?{x:B.x,y:B.y}:(t.Util.warn(de),null)}_getPointerById(B){return this._pointerPositions.find(q=>q.id===B)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(B){B=B||{},B.x=B.x||0,B.y=B.y||0,B.width=B.width||this.width(),B.height=B.height||this.height();var q=new s.SceneCanvas({width:B.width,height:B.height,pixelRatio:B.pixelRatio||1}),ie=q.getContext()._context,Te=this.children;return(B.x||B.y)&&ie.translate(-1*B.x,-1*B.y),Te.forEach(function(Ce){if(Ce.isVisible()){var I=Ce._toKonvaCanvas(B);ie.drawImage(I._canvas,B.x,B.y,I.getWidth()/I.getPixelRatio(),I.getHeight()/I.getPixelRatio())}}),q}getIntersection(B){if(!B)return null;var q=this.children,ie=q.length,Te=ie-1,Ce;for(Ce=Te;Ce>=0;Ce--){const I=q[Ce].getIntersection(B);if(I)return I}return null}_resizeDOM(){var B=this.width(),q=this.height();this.content&&(this.content.style.width=B+h,this.content.style.height=q+h),this.bufferCanvas.setSize(B,q),this.bufferHitCanvas.setSize(B,q),this.children.forEach(ie=>{ie.setSize({width:B,height:q}),ie.draw()})}add(B,...q){if(arguments.length>1){for(var ie=0;ie<arguments.length;ie++)this.add(arguments[ie]);return this}super.add(B);var Te=this.children.length;return Te>L&&t.Util.warn("The stage has "+Te+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),B.setSize({width:this.width(),height:this.height()}),B.draw(),i.Konva.isBrowser&&this.content.appendChild(B.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(B){return l.hasPointerCapture(B,this)}setPointerCapture(B){l.setPointerCapture(B,this)}releaseCapture(B){l.releaseCapture(B,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&U.forEach(([B,q])=>{this.content.addEventListener(B,ie=>{this[q](ie)},{passive:!1})})}_pointerenter(B){this.setPointersPositions(B);const q=ne(B.type);this._fire(q.pointerenter,{evt:B,target:this,currentTarget:this})}_pointerover(B){this.setPointersPositions(B);const q=ne(B.type);this._fire(q.pointerover,{evt:B,target:this,currentTarget:this})}_getTargetShape(B){let q=this[B+"targetShape"];return q&&!q.getStage()&&(q=null),q}_pointerleave(B){const q=ne(B.type),ie=Z(B.type);if(q){this.setPointersPositions(B);var Te=this._getTargetShape(ie),Ce=!a.DD.isDragging||i.Konva.hitOnDragEnabled;Te&&Ce?(Te._fireAndBubble(q.pointerout,{evt:B}),Te._fireAndBubble(q.pointerleave,{evt:B}),this._fire(q.pointerleave,{evt:B,target:this,currentTarget:this}),this[ie+"targetShape"]=null):Ce&&(this._fire(q.pointerleave,{evt:B,target:this,currentTarget:this}),this._fire(q.pointerout,{evt:B,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(B){const q=ne(B.type),ie=Z(B.type);if(q){this.setPointersPositions(B);var Te=!1;this._changedPointerPositions.forEach(Ce=>{var I=this.getIntersection(Ce);if(a.DD.justDragged=!1,i.Konva["_"+ie+"ListenClick"]=!0,!(I&&I.isListening()))return;i.Konva.capturePointerEventsEnabled&&I.setPointerCapture(Ce.id),this[ie+"ClickStartShape"]=I,I._fireAndBubble(q.pointerdown,{evt:B,pointerId:Ce.id}),Te=!0;const Y=B.type.indexOf("touch")>=0;I.preventDefault()&&B.cancelable&&Y&&B.preventDefault()}),Te||this._fire(q.pointerdown,{evt:B,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(B){const q=ne(B.type),ie=Z(B.type);if(!q)return;a.DD.isDragging&&a.DD.node.preventDefault()&&B.cancelable&&B.preventDefault(),this.setPointersPositions(B);var Te=!a.DD.isDragging||i.Konva.hitOnDragEnabled;if(!Te)return;var Ce={};let I=!1;var V=this._getTargetShape(ie);this._changedPointerPositions.forEach(Y=>{const z=l.getCapturedShape(Y.id)||this.getIntersection(Y),X=Y.id,Q={evt:B,pointerId:X};var ae=V!==z;if(ae&&V&&(V._fireAndBubble(q.pointerout,Object.assign({},Q),z),V._fireAndBubble(q.pointerleave,Object.assign({},Q),z)),z){if(Ce[z._id])return;Ce[z._id]=!0}z&&z.isListening()?(I=!0,ae&&(z._fireAndBubble(q.pointerover,Object.assign({},Q),V),z._fireAndBubble(q.pointerenter,Object.assign({},Q),V),this[ie+"targetShape"]=z),z._fireAndBubble(q.pointermove,Object.assign({},Q))):V&&(this._fire(q.pointerover,{evt:B,target:this,currentTarget:this,pointerId:X}),this[ie+"targetShape"]=null)}),I||this._fire(q.pointermove,{evt:B,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(B){const q=ne(B.type),ie=Z(B.type);if(!q)return;this.setPointersPositions(B);const Te=this[ie+"ClickStartShape"],Ce=this[ie+"ClickEndShape"];var I={};let V=!1;this._changedPointerPositions.forEach(Y=>{const z=l.getCapturedShape(Y.id)||this.getIntersection(Y);if(z){if(z.releaseCapture(Y.id),I[z._id])return;I[z._id]=!0}const X=Y.id,Q={evt:B,pointerId:X};let ae=!1;i.Konva["_"+ie+"InDblClickWindow"]?(ae=!0,clearTimeout(this[ie+"DblTimeout"])):a.DD.justDragged||(i.Konva["_"+ie+"InDblClickWindow"]=!0,clearTimeout(this[ie+"DblTimeout"])),this[ie+"DblTimeout"]=setTimeout(function(){i.Konva["_"+ie+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),z&&z.isListening()?(V=!0,this[ie+"ClickEndShape"]=z,z._fireAndBubble(q.pointerup,Object.assign({},Q)),i.Konva["_"+ie+"ListenClick"]&&Te&&Te===z&&(z._fireAndBubble(q.pointerclick,Object.assign({},Q)),ae&&Ce&&Ce===z&&z._fireAndBubble(q.pointerdblclick,Object.assign({},Q)))):(this[ie+"ClickEndShape"]=null,i.Konva["_"+ie+"ListenClick"]&&this._fire(q.pointerclick,{evt:B,target:this,currentTarget:this,pointerId:X}),ae&&this._fire(q.pointerdblclick,{evt:B,target:this,currentTarget:this,pointerId:X}))}),V||this._fire(q.pointerup,{evt:B,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+ie+"ListenClick"]=!1,B.cancelable&&ie!=="touch"&&B.preventDefault()}_contextmenu(B){this.setPointersPositions(B);var q=this.getIntersection(this.getPointerPosition());q&&q.isListening()?q._fireAndBubble(R,{evt:B}):this._fire(R,{evt:B,target:this,currentTarget:this})}_wheel(B){this.setPointersPositions(B);var q=this.getIntersection(this.getPointerPosition());q&&q.isListening()?q._fireAndBubble(D,{evt:B}):this._fire(D,{evt:B,target:this,currentTarget:this})}_pointercancel(B){this.setPointersPositions(B);const q=l.getCapturedShape(B.pointerId)||this.getIntersection(this.getPointerPosition());q&&q._fireAndBubble(_,l.createEvent(B)),l.releaseCapture(B.pointerId)}_lostpointercapture(B){l.releaseCapture(B.pointerId)}setPointersPositions(B){var q=this._getContentPosition(),ie=null,Te=null;B=B||window.event,B.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(B.touches,Ce=>{this._pointerPositions.push({id:Ce.identifier,x:(Ce.clientX-q.left)/q.scaleX,y:(Ce.clientY-q.top)/q.scaleY})}),Array.prototype.forEach.call(B.changedTouches||B.touches,Ce=>{this._changedPointerPositions.push({id:Ce.identifier,x:(Ce.clientX-q.left)/q.scaleX,y:(Ce.clientY-q.top)/q.scaleY})})):(ie=(B.clientX-q.left)/q.scaleX,Te=(B.clientY-q.top)/q.scaleY,this.pointerPos={x:ie,y:Te},this._pointerPositions=[{x:ie,y:Te,id:t.Util._getFirstPointerId(B)}],this._changedPointerPositions=[{x:ie,y:Te,id:t.Util._getFirstPointerId(B)}])}_setPointerPosition(B){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(B)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var B=this.content.getBoundingClientRect();return{top:B.top,left:B.left,scaleX:B.width/this.content.clientWidth||1,scaleY:B.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!i.Konva.isBrowser){var B=this.container();if(!B)throw"Stage has no container. A container is required.";B.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),B.appendChild(this.content),this._resizeDOM()}}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(B){B.batchDraw()}),this}}e.Stage=me,me.prototype.nodeType=u,(0,o._registerNode)(me),r.Factory.addGetterSetter(me,"container")}(to)),to}var Xn={},ro={},sc;function dt(){return sc||(sc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=Fe(),r=rt(),n=Me(),i=it(),s=Re(),a=Fe(),o=Wd();var l="hasShadow",u="shadowRGBA",p="patternImage",h="linearGradient",m="radialGradient";let d;function g(){return d||(d=r.Util.createCanvasElement().getContext("2d"),d)}e.shapes={};function b(x){const E=this.attrs.fillRule;E?x.fill(E):x.fill()}function S(x){x.stroke()}function T(x){x.fill()}function f(x){x.stroke()}function c(){this._clearCache(l)}function y(){this._clearCache(u)}function _(){this._clearCache(p)}function k(){this._clearCache(h)}function N(){this._clearCache(m)}class w extends i.Node{constructor(E){super(E);let M;for(;M=r.Util.getRandomColor(),!(M&&!(M in e.shapes)););this.colorKey=M,e.shapes[M]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(p,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var E=g();const M=E.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(M&&M.setTransform){const R=new r.Transform;R.translate(this.fillPatternX(),this.fillPatternY()),R.rotate(t.Konva.getAngle(this.fillPatternRotation())),R.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),R.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const v=R.getMatrix(),C=typeof DOMMatrix>"u"?{a:v[0],b:v[1],c:v[2],d:v[3],e:v[4],f:v[5]}:new DOMMatrix(v);M.setTransform(C)}return M}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){var E=this.fillLinearGradientColorStops();if(E){for(var M=g(),R=this.fillLinearGradientStartPoint(),v=this.fillLinearGradientEndPoint(),C=M.createLinearGradient(R.x,R.y,v.x,v.y),A=0;A<E.length;A+=2)C.addColorStop(E[A],E[A+1]);return C}}_getRadialGradient(){return this._getCache(m,this.__getRadialGradient)}__getRadialGradient(){var E=this.fillRadialGradientColorStops();if(E){for(var M=g(),R=this.fillRadialGradientStartPoint(),v=this.fillRadialGradientEndPoint(),C=M.createRadialGradient(R.x,R.y,this.fillRadialGradientStartRadius(),v.x,v.y,this.fillRadialGradientEndRadius()),A=0;A<E.length;A+=2)C.addColorStop(E[A],E[A+1]);return C}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var E=r.Util.colorToRGBA(this.shadowColor());if(E)return"rgba("+E.r+","+E.g+","+E.b+","+E.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const E=this.hitStrokeWidth();return E==="auto"?this.hasStroke():this.strokeEnabled()&&!!E}intersects(E){var M=this.getStage(),R=M.bufferHitCanvas,v;return R.getContext().clear(),this.drawHit(R,null,!0),v=R.context.getImageData(Math.round(E.x),Math.round(E.y),1,1).data,v[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(E){var M;if(!this.getStage()||!((M=this.attrs.perfectDrawEnabled)!==null&&M!==void 0?M:!0))return!1;const v=E||this.hasFill(),C=this.hasStroke(),A=this.getAbsoluteOpacity()!==1;if(v&&C&&A)return!0;const O=this.hasShadow(),D=this.shadowForStrokeEnabled();return!!(v&&C&&O&&D)}setStrokeHitEnabled(E){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),E?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var E=this.size();return{x:this._centroid?-E.width/2:0,y:this._centroid?-E.height/2:0,width:E.width,height:E.height}}getClientRect(E={}){const M=E.skipTransform,R=E.relativeTo,v=this.getSelfRect(),A=!E.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,O=v.width+A,D=v.height+A,L=!E.skipShadow&&this.hasShadow(),U=L?this.shadowOffsetX():0,$=L?this.shadowOffsetY():0,Z=O+Math.abs(U),ne=D+Math.abs($),te=L&&this.shadowBlur()||0,de=Z+te*2,me=ne+te*2,ye={width:de,height:me,x:-(A/2+te)+Math.min(U,0)+v.x,y:-(A/2+te)+Math.min($,0)+v.y};return M?ye:this._transformedRect(ye,R)}drawScene(E,M){var R=this.getLayer(),v=E||R.getCanvas(),C=v.getContext(),A=this._getCanvasCache(),O=this.getSceneFunc(),D=this.hasShadow(),L,U,$,Z=v.isCache,ne=M===this;if(!this.isVisible()&&!ne)return this;if(A){C.save();var te=this.getAbsoluteTransform(M).getMatrix();return C.transform(te[0],te[1],te[2],te[3],te[4],te[5]),this._drawCachedSceneCanvas(C),C.restore(),this}if(!O)return this;if(C.save(),this._useBufferCanvas()&&!Z){L=this.getStage(),U=L.bufferCanvas,$=U.getContext(),$.clear(),$.save(),$._applyLineJoin(this);var de=this.getAbsoluteTransform(M).getMatrix();$.transform(de[0],de[1],de[2],de[3],de[4],de[5]),O.call(this,$,this),$.restore();var me=U.pixelRatio;D&&C._applyShadow(this),C._applyOpacity(this),C._applyGlobalCompositeOperation(this),C.drawImage(U._canvas,0,0,U.width/me,U.height/me)}else{if(C._applyLineJoin(this),!ne){var de=this.getAbsoluteTransform(M).getMatrix();C.transform(de[0],de[1],de[2],de[3],de[4],de[5]),C._applyOpacity(this),C._applyGlobalCompositeOperation(this)}D&&C._applyShadow(this),O.call(this,C,this)}return C.restore(),this}drawHit(E,M,R=!1){if(!this.shouldDrawHit(M,R))return this;var v=this.getLayer(),C=E||v.hitCanvas,A=C&&C.getContext(),O=this.hitFunc()||this.sceneFunc(),D=this._getCanvasCache(),L=D&&D.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),L){A.save();var U=this.getAbsoluteTransform(M).getMatrix();return A.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedHitCanvas(A),A.restore(),this}if(!O)return this;if(A.save(),A._applyLineJoin(this),!(this===M)){var Z=this.getAbsoluteTransform(M).getMatrix();A.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])}return O.call(this,A,this),A.restore(),this}drawHitFromCache(E=0){var M=this._getCanvasCache(),R=this._getCachedSceneCanvas(),v=M.hit,C=v.getContext(),A=v.getWidth(),O=v.getHeight(),D,L,U,$,Z,ne;C.clear(),C.drawImage(R._canvas,0,0,A,O);try{for(D=C.getImageData(0,0,A,O),L=D.data,U=L.length,$=r.Util._hexToRgb(this.colorKey),Z=0;Z<U;Z+=4)ne=L[Z+3],ne>E?(L[Z]=$.r,L[Z+1]=$.g,L[Z+2]=$.b,L[Z+3]=255):L[Z+3]=0;C.putImageData(D,0,0)}catch(te){r.Util.error("Unable to draw hit graph from cached scene canvas. "+te.message)}return this}hasPointerCapture(E){return o.hasPointerCapture(E,this)}setPointerCapture(E){o.setPointerCapture(E,this)}releaseCapture(E){o.releaseCapture(E,this)}}e.Shape=w,w.prototype._fillFunc=b,w.prototype._strokeFunc=S,w.prototype._fillFuncHit=T,w.prototype._strokeFuncHit=f,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,a._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",c),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",y),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",_),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",N),n.Factory.addGetterSetter(w,"stroke",void 0,(0,s.getStringOrGradientValidator)()),n.Factory.addGetterSetter(w,"strokeWidth",2,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),n.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),n.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),n.Factory.addGetterSetter(w,"lineJoin"),n.Factory.addGetterSetter(w,"lineCap"),n.Factory.addGetterSetter(w,"sceneFunc"),n.Factory.addGetterSetter(w,"hitFunc"),n.Factory.addGetterSetter(w,"dash"),n.Factory.addGetterSetter(w,"dashOffset",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowColor",void 0,(0,s.getStringValidator)()),n.Factory.addGetterSetter(w,"shadowBlur",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowOpacity",1,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternImage"),n.Factory.addGetterSetter(w,"fill",void 0,(0,s.getStringOrGradientValidator)()),n.Factory.addGetterSetter(w,"fillPatternX",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternY",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(w,"fillEnabled",!0),n.Factory.addGetterSetter(w,"strokeEnabled",!0),n.Factory.addGetterSetter(w,"shadowEnabled",!0),n.Factory.addGetterSetter(w,"dashEnabled",!0),n.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(w,"fillPriority","color"),n.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(w,"fillPatternRotation",0),n.Factory.addGetterSetter(w,"fillRule",void 0,(0,s.getStringValidator)()),n.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(ro)),ro}var ac;function Kd(){if(ac)return Xn;ac=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.Layer=void 0;const e=rt(),t=Pa(),r=it(),n=Me(),i=Oa(),s=Re(),a=dt(),o=Fe();var l="#",u="beforeDraw",p="draw",h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],m=h.length;let d=class extends t.Container{constructor(b){super(b),this.canvas=new i.SceneCanvas,this.hitCanvas=new i.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(b){return this.getContext().clear(b),this.getHitCanvas().getContext().clear(b),this}setZIndex(b){super.setZIndex(b);var S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),b<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[b+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var b=this.getStage();return b&&b.content&&(b.content.removeChild(this.getNativeCanvasElement()),b.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var b=r.Node.prototype.moveUp.call(this);if(!b)return!1;var S=this.getStage();return!S||!S.content?!1:(S.content.removeChild(this.getNativeCanvasElement()),this.index<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[this.index+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var b=this.getStage();if(b){var S=b.children;b.content&&(b.content.removeChild(this.getNativeCanvasElement()),b.content.insertBefore(this.getNativeCanvasElement(),S[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var b=this.getStage();if(b){var S=b.children;b.content&&(b.content.removeChild(this.getNativeCanvasElement()),b.content.insertBefore(this.getNativeCanvasElement(),S[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var b=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),b&&b.parentNode&&e.Util._isInDocument(b)&&b.parentNode.removeChild(b),this}getStage(){return this.parent}setSize({width:b,height:S}){return this.canvas.setSize(b,S),this.hitCanvas.setSize(b,S),this._setSmoothEnabled(),this}_validateAdd(b){var S=b.getType();S!=="Group"&&S!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(b){return b=b||{},b.width=b.width||this.getWidth(),b.height=b.height||this.getHeight(),b.x=b.x!==void 0?b.x:this.x(),b.y=b.y!==void 0?b.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,b)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(b){if(!this.isListening()||!this.isVisible())return null;for(var S=1,T=!1;;){for(let f=0;f<m;f++){const c=h[f],y=this._getIntersection({x:b.x+c.x*S,y:b.y+c.y*S}),_=y.shape;if(_)return _;if(T=!!y.antialiased,!y.antialiased)break}if(T)S+=1;else return null}}_getIntersection(b){const S=this.hitCanvas.pixelRatio,T=this.hitCanvas.context.getImageData(Math.round(b.x*S),Math.round(b.y*S),1,1).data,f=T[3];if(f===255){const c=e.Util._rgbToHex(T[0],T[1],T[2]),y=a.shapes[l+c];return y?{shape:y}:{antialiased:!0}}else if(f>0)return{antialiased:!0};return{}}drawScene(b,S){var T=this.getLayer(),f=b||T&&T.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&f.getContext().clear(),t.Container.prototype.drawScene.call(this,f,S),this._fire(p,{node:this}),this}drawHit(b,S){var T=this.getLayer(),f=b||T&&T.hitCanvas;return T&&T.clearBeforeDraw()&&T.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,f,S),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(b){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(b)}getHitGraphEnabled(b){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var b=this.parent,S=!!this.hitCanvas._canvas.parentNode;S?b.content.removeChild(this.hitCanvas._canvas):b.content.appendChild(this.hitCanvas._canvas)}}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Xn.Layer=d,d.prototype.nodeType="Layer",(0,o._registerNode)(d),n.Factory.addGetterSetter(d,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(d,"clearBeforeDraw",!0),n.Factory.addGetterSetter(d,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),Xn}var Zn={},oc;function B4(){if(oc)return Zn;oc=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.FastLayer=void 0;const e=rt(),t=Kd(),r=Fe();let n=class extends t.Layer{constructor(s){super(s),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Zn.FastLayer=n,n.prototype.nodeType="FastLayer",(0,r._registerNode)(n),Zn}var Jn={},lc;function Cl(){if(lc)return Jn;lc=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.Group=void 0;const e=rt(),t=Pa(),r=Fe();let n=class extends t.Container{_validateAdd(s){var a=s.getType();a!=="Group"&&a!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return Jn.Group=n,n.prototype.nodeType="Group",(0,r._registerNode)(n),Jn}var Qn={},uc;function wl(){if(uc)return Qn;uc=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.Animation=void 0;const e=Fe(),t=rt();var r=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let n=class pn{constructor(s,a){this.id=pn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=s,this.setLayers(a)}setLayers(s){var a=[];return s?s.length>0?a=s:a=[s]:a=[],this.layers=a,this}getLayers(){return this.layers}addLayer(s){var a=this.layers,o=a.length,l;for(l=0;l<o;l++)if(a[l]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){var s=pn,a=s.animations,o=a.length,l;for(l=0;l<o;l++)if(a[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),pn._addAnimation(this),this}stop(){return pn._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){var a=s.id,o=this.animations,l=o.length,u;for(u=0;u<l;u++)if(o[u].id===a){this.animations.splice(u,1);break}}static _runFrames(){var s={},a=this.animations,o,l,u,p,h,m,d,g,b;for(p=0;p<a.length;p++)if(o=a[p],l=o.layers,u=o.func,o._updateFrameObject(r()),m=l.length,u?b=u.call(o,o.frame)!==!1:b=!0,!!b)for(h=0;h<m;h++)d=l[h],d._id!==void 0&&(s[d._id]=d);for(g in s)s.hasOwnProperty(g)&&s[g].batchDraw()}static _animationLoop(){var s=pn;s.animations.length?(s._runFrames(),t.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return Qn.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,Qn}var no={},cc;function G4(){return cc||(cc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=rt(),r=wl(),n=it(),i=Fe();var s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,l=3,u=0,p=["fill","stroke","shadowColor"];class h{constructor(g,b,S,T,f,c,y){this.prop=g,this.propFunc=b,this.begin=T,this._pos=T,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=y,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=S,this._change=f-this.begin,this.pause()}fire(g){var b=this[g];b&&b()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var g=this.getTimer()-this._startTime;this.state===o?this.setTime(g):this.state===l&&this.setTime(this.duration-g)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class m{constructor(g){var b=this,S=g.node,T=S._id,f,c=g.easing||e.Easings.Linear,y=!!g.yoyo,_;typeof g.duration>"u"?f=.3:g.duration===0?f=.001:f=g.duration,this.node=S,this._id=u++;var k=S.getLayer()||(S instanceof i.Konva.Stage?S.getLayers():null);k||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){b.tween.onEnterFrame()},k),this.tween=new h(_,function(N){b._tweenFunc(N)},c,0,1,f*1e3,y),this._addListeners(),m.attrs[T]||(m.attrs[T]={}),m.attrs[T][this._id]||(m.attrs[T][this._id]={}),m.tweens[T]||(m.tweens[T]={});for(_ in g)s[_]===void 0&&this._addAttr(_,g[_]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,b){var S=this.node,T=S._id,f,c,y,_,k,N,w,x;if(y=m.tweens[T][g],y&&delete m.attrs[T][y][g],f=S.getAttr(g),t.Util._isArray(b))if(c=[],k=Math.max(b.length,f.length),g==="points"&&b.length!==f.length&&(b.length>f.length?(w=f,f=t.Util._prepareArrayForTween(f,b,S.closed())):(N=b,b=t.Util._prepareArrayForTween(b,f,S.closed()))),g.indexOf("fill")===0)for(_=0;_<k;_++)if(_%2===0)c.push(b[_]-f[_]);else{var E=t.Util.colorToRGBA(f[_]);x=t.Util.colorToRGBA(b[_]),f[_]=E,c.push({r:x.r-E.r,g:x.g-E.g,b:x.b-E.b,a:x.a-E.a})}else for(_=0;_<k;_++)c.push(b[_]-f[_]);else p.indexOf(g)!==-1?(f=t.Util.colorToRGBA(f),x=t.Util.colorToRGBA(b),c={r:x.r-f.r,g:x.g-f.g,b:x.b-f.b,a:x.a-f.a}):c=b-f;m.attrs[T][this._id][g]={start:f,diff:c,end:b,trueEnd:N,trueStart:w},m.tweens[T][g]=this._id}_tweenFunc(g){var b=this.node,S=m.attrs[b._id][this._id],T,f,c,y,_,k,N,w;for(T in S){if(f=S[T],c=f.start,y=f.diff,w=f.end,t.Util._isArray(c))if(_=[],N=Math.max(c.length,w.length),T.indexOf("fill")===0)for(k=0;k<N;k++)k%2===0?_.push((c[k]||0)+y[k]*g):_.push("rgba("+Math.round(c[k].r+y[k].r*g)+","+Math.round(c[k].g+y[k].g*g)+","+Math.round(c[k].b+y[k].b*g)+","+(c[k].a+y[k].a*g)+")");else for(k=0;k<N;k++)_.push((c[k]||0)+y[k]*g);else p.indexOf(T)!==-1?_="rgba("+Math.round(c.r+y.r*g)+","+Math.round(c.g+y.g*g)+","+Math.round(c.b+y.b*g)+","+(c.a+y.a*g)+")":_=c+y*g;b.setAttr(T,_)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var g=this.node,b=m.attrs[g._id][this._id];b.points&&b.points.trueEnd&&g.setAttr("points",b.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var g=this.node,b=m.attrs[g._id][this._id];b.points&&b.points.trueStart&&g.points(b.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var g=this.node._id,b=this._id,S=m.tweens[g],T;this.pause();for(T in S)delete m.tweens[g][T];delete m.attrs[g][b]}}e.Tween=m,m.attrs={},m.tweens={},n.Node.prototype.to=function(d){var g=d.onFinish;d.node=this,d.onFinish=function(){this.destroy(),g&&g()};var b=new m(d);b.play()},e.Easings={BackEaseIn(d,g,b,S){var T=1.70158;return b*(d/=S)*d*((T+1)*d-T)+g},BackEaseOut(d,g,b,S){var T=1.70158;return b*((d=d/S-1)*d*((T+1)*d+T)+1)+g},BackEaseInOut(d,g,b,S){var T=1.70158;return(d/=S/2)<1?b/2*(d*d*(((T*=1.525)+1)*d-T))+g:b/2*((d-=2)*d*(((T*=1.525)+1)*d+T)+2)+g},ElasticEaseIn(d,g,b,S,T,f){var c=0;return d===0?g:(d/=S)===1?g+b:(f||(f=S*.3),!T||T<Math.abs(b)?(T=b,c=f/4):c=f/(2*Math.PI)*Math.asin(b/T),-(T*Math.pow(2,10*(d-=1))*Math.sin((d*S-c)*(2*Math.PI)/f))+g)},ElasticEaseOut(d,g,b,S,T,f){var c=0;return d===0?g:(d/=S)===1?g+b:(f||(f=S*.3),!T||T<Math.abs(b)?(T=b,c=f/4):c=f/(2*Math.PI)*Math.asin(b/T),T*Math.pow(2,-10*d)*Math.sin((d*S-c)*(2*Math.PI)/f)+b+g)},ElasticEaseInOut(d,g,b,S,T,f){var c=0;return d===0?g:(d/=S/2)===2?g+b:(f||(f=S*(.3*1.5)),!T||T<Math.abs(b)?(T=b,c=f/4):c=f/(2*Math.PI)*Math.asin(b/T),d<1?-.5*(T*Math.pow(2,10*(d-=1))*Math.sin((d*S-c)*(2*Math.PI)/f))+g:T*Math.pow(2,-10*(d-=1))*Math.sin((d*S-c)*(2*Math.PI)/f)*.5+b+g)},BounceEaseOut(d,g,b,S){return(d/=S)<1/2.75?b*(7.5625*d*d)+g:d<2/2.75?b*(7.5625*(d-=1.5/2.75)*d+.75)+g:d<2.5/2.75?b*(7.5625*(d-=2.25/2.75)*d+.9375)+g:b*(7.5625*(d-=2.625/2.75)*d+.984375)+g},BounceEaseIn(d,g,b,S){return b-e.Easings.BounceEaseOut(S-d,0,b,S)+g},BounceEaseInOut(d,g,b,S){return d<S/2?e.Easings.BounceEaseIn(d*2,0,b,S)*.5+g:e.Easings.BounceEaseOut(d*2-S,0,b,S)*.5+b*.5+g},EaseIn(d,g,b,S){return b*(d/=S)*d+g},EaseOut(d,g,b,S){return-b*(d/=S)*(d-2)+g},EaseInOut(d,g,b,S){return(d/=S/2)<1?b/2*d*d+g:-b/2*(--d*(d-2)-1)+g},StrongEaseIn(d,g,b,S){return b*(d/=S)*d*d*d*d+g},StrongEaseOut(d,g,b,S){return b*((d=d/S-1)*d*d*d*d+1)+g},StrongEaseInOut(d,g,b,S){return(d/=S/2)<1?b/2*d*d*d*d*d+g:b/2*((d-=2)*d*d*d*d+2)+g},Linear(d,g,b,S){return b*d/S+g}}}(no)),no}var hc;function U4(){return hc||(hc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=Fe(),r=rt(),n=it(),i=Pa(),s=L4(),a=Kd(),o=B4(),l=Cl(),u=Sl(),p=dt(),h=wl(),m=G4(),d=$d(),g=Oa();e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:n.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:u.DD,Shape:p.Shape,shapes:p.shapes,Animation:h.Animation,Tween:m.Tween,Easings:m.Easings,Context:d.Context,Canvas:g.Canvas}),e.default=e.Konva}(Xa)),Xa}var ei={},fc;function V4(){if(fc)return ei;fc=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.Arc=void 0;const e=Me(),t=dt(),r=Fe(),n=Re(),i=Fe();let s=class extends t.Shape{_sceneFunc(o){var l=r.Konva.getAngle(this.angle()),u=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,l,u),o.arc(0,0,this.innerRadius(),l,0,!u),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),l=this.outerRadius(),u=this.clockwise(),p=r.Konva.getAngle(u?360-this.angle():this.angle()),h=Math.cos(Math.min(p,Math.PI)),m=1,d=Math.sin(Math.min(Math.max(Math.PI,p),3*Math.PI/2)),g=Math.sin(Math.min(p,Math.PI/2)),b=h*(h>0?o:l),S=m*l,T=d*(d>0?o:l),f=g*(g>0?l:o);return{x:b,y:u?-1*f:T,width:S-b,height:f-T}}};return ei.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"outerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"angle",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"clockwise",!1,(0,n.getBooleanValidator)()),ei}var ti={},ri={},dc;function qd(){if(dc)return ri;dc=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Line=void 0;const e=Me(),t=dt(),r=Re(),n=Fe();function i(o,l,u,p,h,m,d){var g=Math.sqrt(Math.pow(u-o,2)+Math.pow(p-l,2)),b=Math.sqrt(Math.pow(h-u,2)+Math.pow(m-p,2)),S=d*g/(g+b),T=d*b/(g+b),f=u-S*(h-o),c=p-S*(m-l),y=u+T*(h-o),_=p+T*(m-l);return[f,c,y,_]}function s(o,l){var u=o.length,p=[],h,m;for(h=2;h<u-2;h+=2)m=i(o[h-2],o[h-1],o[h],o[h+1],o[h+2],o[h+3],l),!isNaN(m[0])&&(p.push(m[0]),p.push(m[1]),p.push(o[h]),p.push(o[h+1]),p.push(m[2]),p.push(m[3]));return p}let a=class extends t.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){var u=this.points(),p=u.length,h=this.tension(),m=this.closed(),d=this.bezier(),g,b,S;if(p){if(l.beginPath(),l.moveTo(u[0],u[1]),h!==0&&p>4){for(g=this.getTensionPoints(),b=g.length,S=m?0:4,m||l.quadraticCurveTo(g[0],g[1],g[2],g[3]);S<b-2;)l.bezierCurveTo(g[S++],g[S++],g[S++],g[S++],g[S++],g[S++]);m||l.quadraticCurveTo(g[b-2],g[b-1],u[p-2],u[p-1])}else if(d)for(S=2;S<p;)l.bezierCurveTo(u[S++],u[S++],u[S++],u[S++],u[S++],u[S++]);else for(S=2;S<p;S+=2)l.lineTo(u[S],u[S+1]);m?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){var l=this.points(),u=l.length,p=this.tension(),h=i(l[u-2],l[u-1],l[0],l[1],l[2],l[3],p),m=i(l[u-4],l[u-3],l[u-2],l[u-1],l[0],l[1],p),d=s(l,p),g=[h[2],h[3]].concat(d).concat([m[0],m[1],l[u-2],l[u-1],m[2],m[3],h[0],h[1],l[0],l[1]]);return g}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();for(var u=l[0],p=l[0],h=l[1],m=l[1],d,g,b=0;b<l.length/2;b++)d=l[b*2],g=l[b*2+1],u=Math.min(u,d),p=Math.max(p,d),h=Math.min(h,g),m=Math.max(m,g);return{x:u,y:h,width:p-u,height:m-h}}};return ri.Line=a,a.prototype.className="Line",a.prototype._attrsAffectingSize=["points","bezier","tension"],(0,n._registerNode)(a),e.Factory.addGetterSetter(a,"closed",!1),e.Factory.addGetterSetter(a,"bezier",!1),e.Factory.addGetterSetter(a,"tension",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(a,"points",[],(0,r.getNumberArrayValidator)()),ri}var ni={},io={},gc;function H4(){return gc||(gc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(a,o,l)=>{let u,p,h;u=l/2,p=0;for(let d=0;d<20;d++)h=u*e.tValues[20][d]+u,p+=e.cValues[20][d]*n(a,o,h);return u*p};e.getCubicArcLength=t;const r=(a,o,l)=>{l===void 0&&(l=1);const u=a[0]-2*a[1]+a[2],p=o[0]-2*o[1]+o[2],h=2*a[1]-2*a[0],m=2*o[1]-2*o[0],d=4*(u*u+p*p),g=4*(u*h+p*m),b=h*h+m*m;if(d===0)return l*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const S=g/(2*d),T=b/d,f=l+S,c=T-S*S,y=f*f+c>0?Math.sqrt(f*f+c):0,_=S*S+c>0?Math.sqrt(S*S+c):0,k=S+Math.sqrt(S*S+c)!==0?c*Math.log(Math.abs((f+y)/(S+_))):0;return Math.sqrt(d)/2*(f*y-S*_+k)};e.getQuadraticArcLength=r;function n(a,o,l){const u=i(1,l,a),p=i(1,l,o),h=u*u+p*p;return Math.sqrt(h)}const i=(a,o,l)=>{const u=l.length-1;let p,h;if(u===0)return 0;if(a===0){h=0;for(let m=0;m<=u;m++)h+=e.binomialCoefficients[u][m]*Math.pow(1-o,u-m)*Math.pow(o,m)*l[m];return h}else{p=new Array(u);for(let m=0;m<u;m++)p[m]=u*(l[m+1]-l[m]);return i(a-1,o,p)}},s=(a,o,l)=>{let u=1,p=a/o,h=(a-l(p))/o,m=0;for(;u>.001;){const d=l(p+h),g=Math.abs(a-d)/o;if(g<u)u=g,p+=h;else{const b=l(p-h),S=Math.abs(a-b)/o;S<u?(u=S,p-=h):h/=2}if(m++,m>500)break}return p};e.t2length=s}(io)),io}var mc;function Tl(){if(mc)return ni;mc=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.Path=void 0;const e=Me(),t=dt(),r=Fe(),n=H4();let i=class Tt extends t.Shape{constructor(a){super(a),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Tt.parsePathData(this.data()),this.pathLength=Tt.getPathLength(this.dataArray)}_sceneFunc(a){var o=this.dataArray;a.beginPath();for(var l=!1,u=0;u<o.length;u++){var p=o[u].command,h=o[u].points;switch(p){case"L":a.lineTo(h[0],h[1]);break;case"M":a.moveTo(h[0],h[1]);break;case"C":a.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"Q":a.quadraticCurveTo(h[0],h[1],h[2],h[3]);break;case"A":var m=h[0],d=h[1],g=h[2],b=h[3],S=h[4],T=h[5],f=h[6],c=h[7],y=g>b?g:b,_=g>b?1:g/b,k=g>b?b/g:1;a.translate(m,d),a.rotate(f),a.scale(_,k),a.arc(0,0,y,S,S+T,1-c),a.scale(1/_,1/k),a.rotate(-f),a.translate(-m,-d);break;case"z":l=!0,a.closePath();break}}!l&&!this.hasFill()?a.strokeShape(this):a.fillStrokeShape(this)}getSelfRect(){var a=[];this.dataArray.forEach(function(g){if(g.command==="A"){var b=g.points[4],S=g.points[5],T=g.points[4]+S,f=Math.PI/180;if(Math.abs(b-T)<f&&(f=Math.abs(b-T)),S<0)for(let c=b-f;c>T;c-=f){const y=Tt.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],c,0);a.push(y.x,y.y)}else for(let c=b+f;c<T;c+=f){const y=Tt.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],c,0);a.push(y.x,y.y)}}else if(g.command==="C")for(let c=0;c<=1;c+=.01){const y=Tt.getPointOnCubicBezier(c,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);a.push(y.x,y.y)}else a=a.concat(g.points)});for(var o=a[0],l=a[0],u=a[1],p=a[1],h,m,d=0;d<a.length/2;d++)h=a[d*2],m=a[d*2+1],isNaN(h)||(o=Math.min(o,h),l=Math.max(l,h)),isNaN(m)||(u=Math.min(u,m),p=Math.max(p,m));return{x:o,y:u,width:l-o,height:p-u}}getLength(){return this.pathLength}getPointAtLength(a){return Tt.getPointAtLengthOfDataArray(a,this.dataArray)}static getLineLength(a,o,l,u){return Math.sqrt((l-a)*(l-a)+(u-o)*(u-o))}static getPathLength(a){let o=0;for(var l=0;l<a.length;++l)o+=a[l].pathLength;return o}static getPointAtLengthOfDataArray(a,o){var l,u=0,p=o.length;if(!p)return null;for(;u<p&&a>o[u].pathLength;)a-=o[u].pathLength,++u;if(u===p)return l=o[u-1].points.slice(-2),{x:l[0],y:l[1]};if(a<.01)return l=o[u].points.slice(0,2),{x:l[0],y:l[1]};var h=o[u],m=h.points;switch(h.command){case"L":return Tt.getPointOnLine(a,h.start.x,h.start.y,m[0],m[1]);case"C":return Tt.getPointOnCubicBezier((0,n.t2length)(a,Tt.getPathLength(o),y=>(0,n.getCubicArcLength)([h.start.x,m[0],m[2],m[4]],[h.start.y,m[1],m[3],m[5]],y)),h.start.x,h.start.y,m[0],m[1],m[2],m[3],m[4],m[5]);case"Q":return Tt.getPointOnQuadraticBezier((0,n.t2length)(a,Tt.getPathLength(o),y=>(0,n.getQuadraticArcLength)([h.start.x,m[0],m[2]],[h.start.y,m[1],m[3]],y)),h.start.x,h.start.y,m[0],m[1],m[2],m[3]);case"A":var d=m[0],g=m[1],b=m[2],S=m[3],T=m[4],f=m[5],c=m[6];return T+=f*a/h.pathLength,Tt.getPointOnEllipticalArc(d,g,b,S,T,c)}return null}static getPointOnLine(a,o,l,u,p,h,m){h===void 0&&(h=o),m===void 0&&(m=l);var d=(p-l)/(u-o+1e-8),g=Math.sqrt(a*a/(1+d*d));u<o&&(g*=-1);var b=d*g,S;if(u===o)S={x:h,y:m+b};else if((m-l)/(h-o+1e-8)===d)S={x:h+g,y:m+b};else{var T,f,c=this.getLineLength(o,l,u,p),y=(h-o)*(u-o)+(m-l)*(p-l);y=y/(c*c),T=o+y*(u-o),f=l+y*(p-l);var _=this.getLineLength(h,m,T,f),k=Math.sqrt(a*a-_*_);g=Math.sqrt(k*k/(1+d*d)),u<o&&(g*=-1),b=d*g,S={x:T+g,y:f+b}}return S}static getPointOnCubicBezier(a,o,l,u,p,h,m,d,g){function b(_){return _*_*_}function S(_){return 3*_*_*(1-_)}function T(_){return 3*_*(1-_)*(1-_)}function f(_){return(1-_)*(1-_)*(1-_)}var c=d*b(a)+h*S(a)+u*T(a)+o*f(a),y=g*b(a)+m*S(a)+p*T(a)+l*f(a);return{x:c,y}}static getPointOnQuadraticBezier(a,o,l,u,p,h,m){function d(f){return f*f}function g(f){return 2*f*(1-f)}function b(f){return(1-f)*(1-f)}var S=h*d(a)+u*g(a)+o*b(a),T=m*d(a)+p*g(a)+l*b(a);return{x:S,y:T}}static getPointOnEllipticalArc(a,o,l,u,p,h){var m=Math.cos(h),d=Math.sin(h),g={x:l*Math.cos(p),y:u*Math.sin(p)};return{x:a+(g.x*m-g.y*d),y:o+(g.x*d+g.y*m)}}static parsePathData(a){if(!a)return[];var o=a,l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(var u=0;u<l.length;u++)o=o.replace(new RegExp(l[u],"g"),"|"+l[u]);var p=o.split("|"),h=[],m=[],d=0,g=0,b=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,S;for(u=1;u<p.length;u++){var T=p[u],f=T.charAt(0);for(T=T.slice(1),m.length=0;S=b.exec(T);)m.push(S[0]);for(var c=[],y=0,_=m.length;y<_;y++){if(m[y]==="00"){c.push(0,0);continue}var k=parseFloat(m[y]);isNaN(k)?c.push(0):c.push(k)}for(;c.length>0&&!isNaN(c[0]);){var N=null,w=[],x=d,E=g,M,R,v,C,A,O,D,L,U,$;switch(f){case"l":d+=c.shift(),g+=c.shift(),N="L",w.push(d,g);break;case"L":d=c.shift(),g=c.shift(),w.push(d,g);break;case"m":var Z=c.shift(),ne=c.shift();if(d+=Z,g+=ne,N="M",h.length>2&&h[h.length-1].command==="z"){for(var te=h.length-2;te>=0;te--)if(h[te].command==="M"){d=h[te].points[0]+Z,g=h[te].points[1]+ne;break}}w.push(d,g),f="l";break;case"M":d=c.shift(),g=c.shift(),N="M",w.push(d,g),f="L";break;case"h":d+=c.shift(),N="L",w.push(d,g);break;case"H":d=c.shift(),N="L",w.push(d,g);break;case"v":g+=c.shift(),N="L",w.push(d,g);break;case"V":g=c.shift(),N="L",w.push(d,g);break;case"C":w.push(c.shift(),c.shift(),c.shift(),c.shift()),d=c.shift(),g=c.shift(),w.push(d,g);break;case"c":w.push(d+c.shift(),g+c.shift(),d+c.shift(),g+c.shift()),d+=c.shift(),g+=c.shift(),N="C",w.push(d,g);break;case"S":R=d,v=g,M=h[h.length-1],M.command==="C"&&(R=d+(d-M.points[2]),v=g+(g-M.points[3])),w.push(R,v,c.shift(),c.shift()),d=c.shift(),g=c.shift(),N="C",w.push(d,g);break;case"s":R=d,v=g,M=h[h.length-1],M.command==="C"&&(R=d+(d-M.points[2]),v=g+(g-M.points[3])),w.push(R,v,d+c.shift(),g+c.shift()),d+=c.shift(),g+=c.shift(),N="C",w.push(d,g);break;case"Q":w.push(c.shift(),c.shift()),d=c.shift(),g=c.shift(),w.push(d,g);break;case"q":w.push(d+c.shift(),g+c.shift()),d+=c.shift(),g+=c.shift(),N="Q",w.push(d,g);break;case"T":R=d,v=g,M=h[h.length-1],M.command==="Q"&&(R=d+(d-M.points[0]),v=g+(g-M.points[1])),d=c.shift(),g=c.shift(),N="Q",w.push(R,v,d,g);break;case"t":R=d,v=g,M=h[h.length-1],M.command==="Q"&&(R=d+(d-M.points[0]),v=g+(g-M.points[1])),d+=c.shift(),g+=c.shift(),N="Q",w.push(R,v,d,g);break;case"A":C=c.shift(),A=c.shift(),O=c.shift(),D=c.shift(),L=c.shift(),U=d,$=g,d=c.shift(),g=c.shift(),N="A",w=this.convertEndpointToCenterParameterization(U,$,d,g,D,L,C,A,O);break;case"a":C=c.shift(),A=c.shift(),O=c.shift(),D=c.shift(),L=c.shift(),U=d,$=g,d+=c.shift(),g+=c.shift(),N="A",w=this.convertEndpointToCenterParameterization(U,$,d,g,D,L,C,A,O);break}h.push({command:N||f,points:w,start:{x,y:E},pathLength:this.calcLength(x,E,N||f,w)})}(f==="z"||f==="Z")&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(a,o,l,u){var p,h,m,d,g=Tt;switch(l){case"L":return g.getLineLength(a,o,u[0],u[1]);case"C":return(0,n.getCubicArcLength)([a,u[0],u[2],u[4]],[o,u[1],u[3],u[5]],1);case"Q":return(0,n.getQuadraticArcLength)([a,u[0],u[2]],[o,u[1],u[3]],1);case"A":p=0;var b=u[4],S=u[5],T=u[4]+S,f=Math.PI/180;if(Math.abs(b-T)<f&&(f=Math.abs(b-T)),h=g.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],b,0),S<0)for(d=b-f;d>T;d-=f)m=g.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],d,0),p+=g.getLineLength(h.x,h.y,m.x,m.y),h=m;else for(d=b+f;d<T;d+=f)m=g.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],d,0),p+=g.getLineLength(h.x,h.y,m.x,m.y),h=m;return m=g.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],T,0),p+=g.getLineLength(h.x,h.y,m.x,m.y),p}return 0}static convertEndpointToCenterParameterization(a,o,l,u,p,h,m,d,g){var b=g*(Math.PI/180),S=Math.cos(b)*(a-l)/2+Math.sin(b)*(o-u)/2,T=-1*Math.sin(b)*(a-l)/2+Math.cos(b)*(o-u)/2,f=S*S/(m*m)+T*T/(d*d);f>1&&(m*=Math.sqrt(f),d*=Math.sqrt(f));var c=Math.sqrt((m*m*(d*d)-m*m*(T*T)-d*d*(S*S))/(m*m*(T*T)+d*d*(S*S)));p===h&&(c*=-1),isNaN(c)&&(c=0);var y=c*m*T/d,_=c*-d*S/m,k=(a+l)/2+Math.cos(b)*y-Math.sin(b)*_,N=(o+u)/2+Math.sin(b)*y+Math.cos(b)*_,w=function(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])},x=function(A,O){return(A[0]*O[0]+A[1]*O[1])/(w(A)*w(O))},E=function(A,O){return(A[0]*O[1]<A[1]*O[0]?-1:1)*Math.acos(x(A,O))},M=E([1,0],[(S-y)/m,(T-_)/d]),R=[(S-y)/m,(T-_)/d],v=[(-1*S-y)/m,(-1*T-_)/d],C=E(R,v);return x(R,v)<=-1&&(C=Math.PI),x(R,v)>=1&&(C=0),h===0&&C>0&&(C=C-2*Math.PI),h===1&&C<0&&(C=C+2*Math.PI),[k,N,m,d,M,C,b,h]}};return ni.Path=i,i.prototype.className="Path",i.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(i),e.Factory.addGetterSetter(i,"data"),ni}var pc;function $4(){if(pc)return ti;pc=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.Arrow=void 0;const e=Me(),t=qd(),r=Re(),n=Fe(),i=Tl();let s=class extends t.Line{_sceneFunc(o){super._sceneFunc(o);var l=Math.PI*2,u=this.points(),p=u,h=this.tension()!==0&&u.length>4;h&&(p=this.getTensionPoints());var m=this.pointerLength(),d=u.length,g,b;if(h){const f=[p[p.length-4],p[p.length-3],p[p.length-2],p[p.length-1],u[d-2],u[d-1]],c=i.Path.calcLength(p[p.length-4],p[p.length-3],"C",f),y=i.Path.getPointOnQuadraticBezier(Math.min(1,1-m/c),f[0],f[1],f[2],f[3],f[4],f[5]);g=u[d-2]-y.x,b=u[d-1]-y.y}else g=u[d-2]-u[d-4],b=u[d-1]-u[d-3];var S=(Math.atan2(b,g)+l)%l,T=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(u[d-2],u[d-1]),o.rotate(S),o.moveTo(0,0),o.lineTo(-m,T/2),o.lineTo(-m,-T/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(u[0],u[1]),h?(g=(p[0]+p[2])/2-u[0],b=(p[1]+p[3])/2-u[1]):(g=u[2]-u[0],b=u[3]-u[1]),o.rotate((Math.atan2(-b,-g)+l)%l),o.moveTo(0,0),o.lineTo(-m,T/2),o.lineTo(-m,-T/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){var l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),l=this.pointerWidth()/2;return{x:o.x-l,y:o.y-l,width:o.width+l*2,height:o.height+l*2}}};return ti.Arrow=s,s.prototype.className="Arrow",(0,n._registerNode)(s),e.Factory.addGetterSetter(s,"pointerLength",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"pointerWidth",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"pointerAtBeginning",!1),e.Factory.addGetterSetter(s,"pointerAtEnding",!0),ti}var ii={},vc;function W4(){if(vc)return ii;vc=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Circle=void 0;const e=Me(),t=dt(),r=Re(),n=Fe();let i=class extends t.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius()!==a/2&&this.radius(a/2)}setHeight(a){this.radius()!==a/2&&this.radius(a/2)}};return ii.Circle=i,i.prototype._centroid=!0,i.prototype.className="Circle",i.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"radius",0,(0,r.getNumberValidator)()),ii}var si={},yc;function K4(){if(yc)return si;yc=1,Object.defineProperty(si,"__esModule",{value:!0}),si.Ellipse=void 0;const e=Me(),t=dt(),r=Re(),n=Fe();let i=class extends t.Shape{_sceneFunc(a){var o=this.radiusX(),l=this.radiusY();a.beginPath(),a.save(),o!==l&&a.scale(1,l/o),a.arc(0,0,o,0,Math.PI*2,!1),a.restore(),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(a){this.radiusX(a/2)}setHeight(a){this.radiusY(a/2)}};return si.Ellipse=i,i.prototype.className="Ellipse",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,n._registerNode)(i),e.Factory.addComponentsGetterSetter(i,"radius",["x","y"]),e.Factory.addGetterSetter(i,"radiusX",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"radiusY",0,(0,r.getNumberValidator)()),si}var ai={},_c;function q4(){if(_c)return ai;_c=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.Image=void 0;const e=rt(),t=Me(),r=dt(),n=Fe(),i=Re();let s=class zd extends r.Shape{constructor(o){super(o),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(o){const l=this.getWidth(),u=this.getHeight(),p=this.cornerRadius(),h=this.attrs.image;let m;if(h){const d=this.attrs.cropWidth,g=this.attrs.cropHeight;d&&g?m=[h,this.cropX(),this.cropY(),d,g,0,0,l,u]:m=[h,0,0,l,u]}(this.hasFill()||this.hasStroke()||p)&&(o.beginPath(),p?e.Util.drawRoundedRectPath(o,l,u,p):o.rect(0,0,l,u),o.closePath(),o.fillStrokeShape(this)),h&&(p&&o.clip(),o.drawImage.apply(o,m))}_hitFunc(o){var l=this.width(),u=this.height(),p=this.cornerRadius();o.beginPath(),p?e.Util.drawRoundedRectPath(o,l,u,p):o.rect(0,0,l,u),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,l;return(o=this.attrs.width)!==null&&o!==void 0?o:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var o,l;return(o=this.attrs.height)!==null&&o!==void 0?o:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(o,l,u=null){var p=e.Util.createImageElement();p.onload=function(){var h=new zd({image:p});l(h)},p.onerror=u,p.crossOrigin="Anonymous",p.src=o}};return ai.Image=s,s.prototype.className="Image",(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(s,"image"),t.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(s,"cropX",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropY",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropWidth",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropHeight",0,(0,i.getNumberValidator)()),ai}var Hr={},bc;function z4(){if(bc)return Hr;bc=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Tag=Hr.Label=void 0;const e=Me(),t=dt(),r=Cl(),n=Re(),i=Fe();var s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],a="Change.konva",o="none",l="up",u="right",p="down",h="left",m=s.length;let d=class extends r.Group{constructor(S){super(S),this.on("add.konva",function(T){this._addListeners(T.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(S){var T=this,f,c=function(){T._sync()};for(f=0;f<m;f++)S.on(s[f]+a,c)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var S=this.getText(),T=this.getTag(),f,c,y,_,k,N,w;if(S&&T){switch(f=S.width(),c=S.height(),y=T.pointerDirection(),_=T.pointerWidth(),w=T.pointerHeight(),k=0,N=0,y){case l:k=f/2,N=-1*w;break;case u:k=f+_,N=c/2;break;case p:k=f/2,N=c+w;break;case h:k=-1*_,N=c/2;break}T.setAttrs({x:-1*k,y:-1*N,width:f,height:c}),S.setAttrs({x:-1*k,y:-1*N})}}};Hr.Label=d,d.prototype.className="Label",(0,i._registerNode)(d);class g extends t.Shape{_sceneFunc(S){var T=this.width(),f=this.height(),c=this.pointerDirection(),y=this.pointerWidth(),_=this.pointerHeight(),k=this.cornerRadius();let N=0,w=0,x=0,E=0;typeof k=="number"?N=w=x=E=Math.min(k,T/2,f/2):(N=Math.min(k[0]||0,T/2,f/2),w=Math.min(k[1]||0,T/2,f/2),E=Math.min(k[2]||0,T/2,f/2),x=Math.min(k[3]||0,T/2,f/2)),S.beginPath(),S.moveTo(N,0),c===l&&(S.lineTo((T-y)/2,0),S.lineTo(T/2,-1*_),S.lineTo((T+y)/2,0)),S.lineTo(T-w,0),S.arc(T-w,w,w,Math.PI*3/2,0,!1),c===u&&(S.lineTo(T,(f-_)/2),S.lineTo(T+y,f/2),S.lineTo(T,(f+_)/2)),S.lineTo(T,f-E),S.arc(T-E,f-E,E,0,Math.PI/2,!1),c===p&&(S.lineTo((T+y)/2,f),S.lineTo(T/2,f+_),S.lineTo((T-y)/2,f)),S.lineTo(x,f),S.arc(x,f-x,x,Math.PI/2,Math.PI,!1),c===h&&(S.lineTo(0,(f+_)/2),S.lineTo(-1*y,f/2),S.lineTo(0,(f-_)/2)),S.lineTo(0,N),S.arc(N,N,N,Math.PI,Math.PI*3/2,!1),S.closePath(),S.fillStrokeShape(this)}getSelfRect(){var S=0,T=0,f=this.pointerWidth(),c=this.pointerHeight(),y=this.pointerDirection(),_=this.width(),k=this.height();return y===l?(T-=c,k+=c):y===p?k+=c:y===h?(S-=f*1.5,_+=f):y===u&&(_+=f*1.5),{x:S,y:T,width:_,height:k}}}return Hr.Tag=g,g.prototype.className="Tag",(0,i._registerNode)(g),e.Factory.addGetterSetter(g,"pointerDirection",o),e.Factory.addGetterSetter(g,"pointerWidth",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(g,"pointerHeight",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(g,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),Hr}var oi={},Sc;function jd(){if(Sc)return oi;Sc=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.Rect=void 0;const e=Me(),t=dt(),r=Fe(),n=rt(),i=Re();let s=class extends t.Shape{_sceneFunc(o){var l=this.cornerRadius(),u=this.width(),p=this.height();o.beginPath(),l?n.Util.drawRoundedRectPath(o,u,p,l):o.rect(0,0,u,p),o.closePath(),o.fillStrokeShape(this)}};return oi.Rect=s,s.prototype.className="Rect",(0,r._registerNode)(s),e.Factory.addGetterSetter(s,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),oi}var li={},Cc;function j4(){if(Cc)return li;Cc=1,Object.defineProperty(li,"__esModule",{value:!0}),li.RegularPolygon=void 0;const e=Me(),t=dt(),r=Re(),n=Fe();let i=class extends t.Shape{_sceneFunc(a){const o=this._getPoints();a.beginPath(),a.moveTo(o[0].x,o[0].y);for(var l=1;l<o.length;l++)a.lineTo(o[l].x,o[l].y);a.closePath(),a.fillStrokeShape(this)}_getPoints(){const a=this.attrs.sides,o=this.attrs.radius||0,l=[];for(var u=0;u<a;u++)l.push({x:o*Math.sin(u*2*Math.PI/a),y:-1*o*Math.cos(u*2*Math.PI/a)});return l}getSelfRect(){const a=this._getPoints();var o=a[0].x,l=a[0].y,u=a[0].x,p=a[0].y;return a.forEach(h=>{o=Math.min(o,h.x),l=Math.max(l,h.x),u=Math.min(u,h.y),p=Math.max(p,h.y)}),{x:o,y:u,width:l-o,height:p-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return li.RegularPolygon=i,i.prototype.className="RegularPolygon",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"radius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"sides",0,(0,r.getNumberValidator)()),li}var ui={},wc;function Y4(){if(wc)return ui;wc=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Ring=void 0;const e=Me(),t=dt(),r=Re(),n=Fe();var i=Math.PI*2;let s=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,i,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),i,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return ui.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(s),e.Factory.addGetterSetter(s,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"outerRadius",0,(0,r.getNumberValidator)()),ui}var ci={},Tc;function X4(){if(Tc)return ci;Tc=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Sprite=void 0;const e=Me(),t=dt(),r=wl(),n=Re(),i=Fe();let s=class extends t.Shape{constructor(o){super(o),this._updated=!0,this.anim=new r.Animation(()=>{var l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){var l=this.animation(),u=this.frameIndex(),p=u*4,h=this.animations()[l],m=this.frameOffsets(),d=h[p+0],g=h[p+1],b=h[p+2],S=h[p+3],T=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,b,S),o.closePath(),o.fillStrokeShape(this)),T)if(m){var f=m[l],c=u*2;o.drawImage(T,d,g,b,S,f[c+0],f[c+1],b,S)}else o.drawImage(T,d,g,b,S,0,0,b,S)}_hitFunc(o){var l=this.animation(),u=this.frameIndex(),p=u*4,h=this.animations()[l],m=this.frameOffsets(),d=h[p+2],g=h[p+3];if(o.beginPath(),m){var b=m[l],S=u*2;o.rect(b[S+0],b[S+1],d,g)}else o.rect(0,0,d,g);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var o=this.frameIndex(),l=this.animation(),u=this.animations(),p=u[l],h=p.length/4;o<h-1?this.frameIndex(o+1):this.frameIndex(0)}};return ci.Sprite=s,s.prototype.className="Sprite",(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"animation"),e.Factory.addGetterSetter(s,"animations"),e.Factory.addGetterSetter(s,"frameOffsets"),e.Factory.addGetterSetter(s,"image"),e.Factory.addGetterSetter(s,"frameIndex",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"frameRate",17,(0,n.getNumberValidator)()),e.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),ci}var hi={},Ec;function Z4(){if(Ec)return hi;Ec=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Star=void 0;const e=Me(),t=dt(),r=Re(),n=Fe();let i=class extends t.Shape{_sceneFunc(a){var o=this.innerRadius(),l=this.outerRadius(),u=this.numPoints();a.beginPath(),a.moveTo(0,0-l);for(var p=1;p<u*2;p++){var h=p%2===0?l:o,m=h*Math.sin(p*Math.PI/u),d=-1*h*Math.cos(p*Math.PI/u);a.lineTo(m,d)}a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return hi.Star=i,i.prototype.className="Star",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"numPoints",5,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"outerRadius",0,(0,r.getNumberValidator)()),hi}var $r={},xc;function Yd(){if(xc)return $r;xc=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.Text=$r.stringToArray=void 0;const e=rt(),t=Me(),r=dt(),n=Re(),i=Fe();function s(U){return Array.from(U)}$r.stringToArray=s;var a="auto",o="center",l="justify",u="Change.konva",p="2d",h="-",m="left",d="text",g="Text",b="top",S="bottom",T="middle",f="normal",c="px ",y=" ",_="right",k="word",N="char",w="none",x="…",E=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],M=E.length;function R(U){return U.split(",").map($=>{$=$.trim();const Z=$.indexOf(" ")>=0,ne=$.indexOf('"')>=0||$.indexOf("'")>=0;return Z&&!ne&&($=`"${$}"`),$}).join(", ")}var v;function C(){return v||(v=e.Util.createCanvasElement().getContext(p),v)}function A(U){U.fillText(this._partialText,this._partialTextX,this._partialTextY)}function O(U){U.setAttr("miterLimit",2),U.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function D(U){return U=U||{},!U.fillLinearGradientColorStops&&!U.fillRadialGradientColorStops&&!U.fillPatternImage&&(U.fill=U.fill||"black"),U}let L=class extends r.Shape{constructor($){super(D($)),this._partialTextX=0,this._partialTextY=0;for(var Z=0;Z<M;Z++)this.on(E[Z]+u,this._setTextData);this._setTextData()}_sceneFunc($){var Z=this.textArr,ne=Z.length;if(this.text()){var te=this.padding(),de=this.fontSize(),me=this.lineHeight()*de,ye=this.verticalAlign(),B=0,q=this.align(),ie=this.getWidth(),Te=this.letterSpacing(),Ce=this.fill(),I=this.textDecoration(),V=I.indexOf("underline")!==-1,Y=I.indexOf("line-through")!==-1,z,X=0,X=me/2,Q=0,ae=0;for($.setAttr("font",this._getContextFont()),$.setAttr("textBaseline",T),$.setAttr("textAlign",m),ye===T?B=(this.getHeight()-ne*me-te*2)/2:ye===S&&(B=this.getHeight()-ne*me-te*2),$.translate(te,B+te),z=0;z<ne;z++){var Q=0,ae=0,re=Z[z],oe=re.text,ee=re.width,ve=re.lastInParagraph,ce,_e,we;if($.save(),q===_?Q+=ie-ee-te*2:q===o&&(Q+=(ie-ee-te*2)/2),V){$.save(),$.beginPath(),$.moveTo(Q,X+ae+Math.round(de/2)),ce=oe.split(" ").length-1,_e=ce===0,we=q===l&&!ve?ie-te*2:ee,$.lineTo(Q+Math.round(we),X+ae+Math.round(de/2)),$.lineWidth=de/15;const bt=this._getLinearGradient();$.strokeStyle=bt||Ce,$.stroke(),$.restore()}if(Y){$.save(),$.beginPath(),$.moveTo(Q,X+ae),ce=oe.split(" ").length-1,_e=ce===0,we=q===l&&ve&&!_e?ie-te*2:ee,$.lineTo(Q+Math.round(we),X+ae),$.lineWidth=de/15;const bt=this._getLinearGradient();$.strokeStyle=bt||Ce,$.stroke(),$.restore()}if(Te!==0||q===l){ce=oe.split(" ").length-1;for(var Ae=s(oe),Ie=0;Ie<Ae.length;Ie++){var Oe=Ae[Ie];Oe===" "&&!ve&&q===l&&(Q+=(ie-te*2-ee)/ce),this._partialTextX=Q,this._partialTextY=X+ae,this._partialText=Oe,$.fillStrokeShape(this),Q+=this.measureSize(Oe).width+Te}}else this._partialTextX=Q,this._partialTextY=X+ae,this._partialText=oe,$.fillStrokeShape(this);$.restore(),ne>1&&(X+=me)}}}_hitFunc($){var Z=this.getWidth(),ne=this.getHeight();$.beginPath(),$.rect(0,0,Z,ne),$.closePath(),$.fillStrokeShape(this)}setText($){var Z=e.Util._isString($)?$:$==null?"":$+"";return this._setAttr(d,Z),this}getWidth(){var $=this.attrs.width===a||this.attrs.width===void 0;return $?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var $=this.attrs.height===a||this.attrs.height===void 0;return $?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize($){var Z=C(),ne=this.fontSize(),te;return Z.save(),Z.font=this._getContextFont(),te=Z.measureText($),Z.restore(),{width:te.width,height:ne}}_getContextFont(){return this.fontStyle()+y+this.fontVariant()+y+(this.fontSize()+c)+R(this.fontFamily())}_addTextLine($){this.align()===l&&($=$.trim());var ne=this._getTextWidth($);return this.textArr.push({text:$,width:ne,lastInParagraph:!1})}_getTextWidth($){var Z=this.letterSpacing(),ne=$.length;return C().measureText($).width+(ne?Z*(ne-1):0)}_setTextData(){var $=this.text().split(`
`),Z=+this.fontSize(),ne=0,te=this.lineHeight()*Z,de=this.attrs.width,me=this.attrs.height,ye=de!==a&&de!==void 0,B=me!==a&&me!==void 0,q=this.padding(),ie=de-q*2,Te=me-q*2,Ce=0,I=this.wrap(),V=I!==w,Y=I!==N&&V,z=this.ellipsis();this.textArr=[],C().font=this._getContextFont();for(var X=z?this._getTextWidth(x):0,Q=0,ae=$.length;Q<ae;++Q){var re=$[Q],oe=this._getTextWidth(re);if(ye&&oe>ie)for(;re.length>0;){for(var ee=0,ve=re.length,ce="",_e=0;ee<ve;){var we=ee+ve>>>1,Ae=re.slice(0,we+1),Ie=this._getTextWidth(Ae)+X;Ie<=ie?(ee=we+1,ce=Ae,_e=Ie):ve=we}if(ce){if(Y){var Oe,ze=re[ce.length],pt=ze===y||ze===h;pt&&_e<=ie?Oe=ce.length:Oe=Math.max(ce.lastIndexOf(y),ce.lastIndexOf(h))+1,Oe>0&&(ee=Oe,ce=ce.slice(0,ee),_e=this._getTextWidth(ce))}ce=ce.trimRight(),this._addTextLine(ce),ne=Math.max(ne,_e),Ce+=te;var bt=this._shouldHandleEllipsis(Ce);if(bt){this._tryToAddEllipsisToLastLine();break}if(re=re.slice(ee),re=re.trimLeft(),re.length>0&&(oe=this._getTextWidth(re),oe<=ie)){this._addTextLine(re),Ce+=te,ne=Math.max(ne,oe);break}}else break}else this._addTextLine(re),Ce+=te,ne=Math.max(ne,oe),this._shouldHandleEllipsis(Ce)&&Q<ae-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),B&&Ce+te>Te)break}this.textHeight=Z,this.textWidth=ne}_shouldHandleEllipsis($){var Z=+this.fontSize(),ne=this.lineHeight()*Z,te=this.attrs.height,de=te!==a&&te!==void 0,me=this.padding(),ye=te-me*2,B=this.wrap(),q=B!==w;return!q||de&&$+ne>ye}_tryToAddEllipsisToLastLine(){var $=this.attrs.width,Z=$!==a&&$!==void 0,ne=this.padding(),te=$-ne*2,de=this.ellipsis(),me=this.textArr[this.textArr.length-1];if(!(!me||!de)){if(Z){var ye=this._getTextWidth(me.text+x)<te;ye||(me.text=me.text.slice(0,me.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(me.text+x)}}getStrokeScaleEnabled(){return!0}};return $r.Text=L,L.prototype._fillFunc=A,L.prototype._strokeFunc=O,L.prototype.className=g,L.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,i._registerNode)(L),t.Factory.overWriteSetter(L,"width",(0,n.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(L,"height",(0,n.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(L,"fontFamily","Arial"),t.Factory.addGetterSetter(L,"fontSize",12,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(L,"fontStyle",f),t.Factory.addGetterSetter(L,"fontVariant",f),t.Factory.addGetterSetter(L,"padding",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(L,"align",m),t.Factory.addGetterSetter(L,"verticalAlign",b),t.Factory.addGetterSetter(L,"lineHeight",1,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(L,"wrap",k),t.Factory.addGetterSetter(L,"ellipsis",!1,(0,n.getBooleanValidator)()),t.Factory.addGetterSetter(L,"letterSpacing",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(L,"text","",(0,n.getStringValidator)()),t.Factory.addGetterSetter(L,"textDecoration",""),$r}var fi={},Ac;function J4(){if(Ac)return fi;Ac=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.TextPath=void 0;const e=rt(),t=Me(),r=dt(),n=Tl(),i=Yd(),s=Re(),a=Fe();var o="",l="normal";function u(m){m.fillText(this.partialText,0,0)}function p(m){m.strokeText(this.partialText,0,0)}let h=class extends r.Shape{constructor(d){super(d),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return n.Path.getPathLength(this.dataArray)}_getPointAtLength(d){if(!this.attrs.data)return null;const g=this.pathLength;return d-1>g?null:n.Path.getPointAtLengthOfDataArray(d,this.dataArray)}_readDataAttribute(){this.dataArray=n.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(d){d.setAttr("font",this._getContextFont()),d.setAttr("textBaseline",this.textBaseline()),d.setAttr("textAlign","left"),d.save();var g=this.textDecoration(),b=this.fill(),S=this.fontSize(),T=this.glyphInfo;g==="underline"&&d.beginPath();for(var f=0;f<T.length;f++){d.save();var c=T[f].p0;d.translate(c.x,c.y),d.rotate(T[f].rotation),this.partialText=T[f].text,d.fillStrokeShape(this),g==="underline"&&(f===0&&d.moveTo(0,S/2+1),d.lineTo(S,S/2+1)),d.restore()}g==="underline"&&(d.strokeStyle=b,d.lineWidth=S/20,d.stroke()),d.restore()}_hitFunc(d){d.beginPath();var g=this.glyphInfo;if(g.length>=1){var b=g[0].p0;d.moveTo(b.x,b.y)}for(var S=0;S<g.length;S++){var T=g[S].p1;d.lineTo(T.x,T.y)}d.setAttr("lineWidth",this.fontSize()),d.setAttr("strokeStyle",this.colorKey),d.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(d){return i.Text.prototype.setText.call(this,d)}_getContextFont(){return i.Text.prototype._getContextFont.call(this)}_getTextSize(d){var g=this.dummyCanvas,b=g.getContext("2d");b.save(),b.font=this._getContextFont();var S=b.measureText(d);return b.restore(),{width:S.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:d,height:g}=this._getTextSize(this.attrs.text);if(this.textWidth=d,this.textHeight=g,this.glyphInfo=[],!this.attrs.data)return null;const b=this.letterSpacing(),S=this.align(),T=this.kerningFunc(),f=Math.max(this.textWidth+((this.attrs.text||"").length-1)*b,0);let c=0;S==="center"&&(c=Math.max(0,this.pathLength/2-f/2)),S==="right"&&(c=Math.max(0,this.pathLength-f));const y=(0,i.stringToArray)(this.text());let _=c;for(var k=0;k<y.length;k++){const N=this._getPointAtLength(_);if(!N)return;let w=this._getTextSize(y[k]).width+b;if(y[k]===" "&&S==="justify"){const C=this.text().split(" ").length-1;w+=(this.pathLength-f)/C}const x=this._getPointAtLength(_+w);if(!x)return;const E=n.Path.getLineLength(N.x,N.y,x.x,x.y);let M=0;if(T)try{M=T(y[k-1],y[k])*this.fontSize()}catch{M=0}N.x+=M,x.x+=M,this.textWidth+=M;const R=n.Path.getPointOnLine(M+E/2,N.x,N.y,x.x,x.y),v=Math.atan2(x.y-N.y,x.x-N.x);this.glyphInfo.push({transposeX:R.x,transposeY:R.y,text:y[k],rotation:v,p0:N,p1:x}),_+=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var d=[];this.glyphInfo.forEach(function(k){d.push(k.p0.x),d.push(k.p0.y),d.push(k.p1.x),d.push(k.p1.y)});for(var g=d[0]||0,b=d[0]||0,S=d[1]||0,T=d[1]||0,f,c,y=0;y<d.length/2;y++)f=d[y*2],c=d[y*2+1],g=Math.min(g,f),b=Math.max(b,f),S=Math.min(S,c),T=Math.max(T,c);var _=this.fontSize();return{x:g-_/2,y:S-_/2,width:b-g+_,height:T-S+_}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return fi.TextPath=h,h.prototype._fillFunc=u,h.prototype._strokeFunc=p,h.prototype._fillFuncHit=u,h.prototype._strokeFuncHit=p,h.prototype.className="TextPath",h.prototype._attrsAffectingSize=["text","fontSize","data"],(0,a._registerNode)(h),t.Factory.addGetterSetter(h,"data"),t.Factory.addGetterSetter(h,"fontFamily","Arial"),t.Factory.addGetterSetter(h,"fontSize",12,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(h,"fontStyle",l),t.Factory.addGetterSetter(h,"align","left"),t.Factory.addGetterSetter(h,"letterSpacing",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(h,"textBaseline","middle"),t.Factory.addGetterSetter(h,"fontVariant",l),t.Factory.addGetterSetter(h,"text",o),t.Factory.addGetterSetter(h,"textDecoration",null),t.Factory.addGetterSetter(h,"kerningFunc",null),fi}var di={},kc;function Q4(){if(kc)return di;kc=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Transformer=void 0;const e=rt(),t=Me(),r=it(),n=dt(),i=jd(),s=Cl(),a=Fe(),o=Re(),l=Fe();var u="tr-konva",p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(w=>w+`.${u}`).join(" "),h="nodesRect",m=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],d={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const g="ontouchstart"in a.Konva._global;function b(w,x){if(w==="rotater")return"crosshair";x+=e.Util.degToRad(d[w]||0);var E=(e.Util.radToDeg(x)%360+360)%360;return e.Util._inRange(E,315+22.5,360)||e.Util._inRange(E,0,22.5)?"ns-resize":e.Util._inRange(E,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(E,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(E,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(E,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(E,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(E,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(E,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+E),"pointer")}var S=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],T=1e8;function f(w){return{x:w.x+w.width/2*Math.cos(w.rotation)+w.height/2*Math.sin(-w.rotation),y:w.y+w.height/2*Math.cos(w.rotation)+w.width/2*Math.sin(w.rotation)}}function c(w,x,E){const M=E.x+(w.x-E.x)*Math.cos(x)-(w.y-E.y)*Math.sin(x),R=E.y+(w.x-E.x)*Math.sin(x)+(w.y-E.y)*Math.cos(x);return Object.assign(Object.assign({},w),{rotation:w.rotation+x,x:M,y:R})}function y(w,x){const E=f(w);return c(w,x,E)}function _(w,x,E){let M=x;for(let R=0;R<w.length;R++){const v=a.Konva.getAngle(w[R]),C=Math.abs(v-x)%(Math.PI*2);Math.min(C,Math.PI*2-C)<E&&(M=v)}return M}let k=class extends s.Group{constructor(x){super(x),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(p,this.update),this.getNode()&&this.update()}attachTo(x){return this.setNode(x),this}setNode(x){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([x])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(x=[]){this._nodes&&this._nodes.length&&this.detach();const E=x.filter(R=>R.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=x=E,x.length===1&&this.useSingleNodeRotation()?this.rotation(x[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(R=>{const v=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},C=R._attrsAffectingSize.map(A=>A+"Change."+this._getEventNamespace()).join(" ");R.on(C,v),R.on(m.map(A=>A+`.${this._getEventNamespace()}`).join(" "),v),R.on(`absoluteTransformChange.${this._getEventNamespace()}`,v),this._proxyDrag(R)}),this._resetTransformCache();var M=!!this.findOne(".top-left");return M&&this.update(),this}_proxyDrag(x){let E;x.on(`dragstart.${this._getEventNamespace()}`,M=>{E=x.getAbsolutePosition(),!this.isDragging()&&x!==this.findOne(".back")&&this.startDrag(M,!1)}),x.on(`dragmove.${this._getEventNamespace()}`,M=>{if(!E)return;const R=x.getAbsolutePosition(),v=R.x-E.x,C=R.y-E.y;this.nodes().forEach(A=>{if(A===x||A.isDragging())return;const O=A.getAbsolutePosition();A.setAbsolutePosition({x:O.x+v,y:O.y+C}),A.startDrag(M)}),E=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(x=>{x.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h,this.__getNodeRect)}__getNodeShape(x,E=this.rotation(),M){var R=x.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),v=x.getAbsoluteScale(M),C=x.getAbsolutePosition(M),A=R.x*v.x-x.offsetX()*v.x,O=R.y*v.y-x.offsetY()*v.y;const D=(a.Konva.getAngle(x.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),L={x:C.x+A*Math.cos(D)+O*Math.sin(-D),y:C.y+O*Math.cos(D)+A*Math.sin(D),width:R.width*v.x,height:R.height*v.y,rotation:D};return c(L,-a.Konva.getAngle(E),{x:0,y:0})}__getNodeRect(){var x=this.getNode();if(!x)return{x:-T,y:-T,width:0,height:0,rotation:0};const E=[];this.nodes().map(D=>{const L=D.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var U=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}],$=D.getAbsoluteTransform();U.forEach(function(Z){var ne=$.point(Z);E.push(ne)})});const M=new e.Transform;M.rotate(-a.Konva.getAngle(this.rotation()));var R,v,C,A;E.forEach(function(D){var L=M.point(D);R===void 0&&(R=C=L.x,v=A=L.y),R=Math.min(R,L.x),v=Math.min(v,L.y),C=Math.max(C,L.x),A=Math.max(A,L.y)}),M.invert();const O=M.point({x:R,y:v});return{x:O.x,y:O.y,width:C-R,height:A-v,rotation:a.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),S.forEach(function(x){this._createAnchor(x)}.bind(this)),this._createAnchor("rotater")}_createAnchor(x){var E=new i.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:x+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:g?10:"auto"}),M=this;E.on("mousedown touchstart",function(R){M._handleMouseDown(R)}),E.on("dragstart",R=>{E.stopDrag(),R.cancelBubble=!0}),E.on("dragend",R=>{R.cancelBubble=!0}),E.on("mouseenter",()=>{var R=a.Konva.getAngle(this.rotation()),v=b(x,R);E.getStage().content&&(E.getStage().content.style.cursor=v),this._cursorChange=!0}),E.on("mouseout",()=>{E.getStage().content&&(E.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(E)}_createBack(){var x=new n.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(E){var M=this.getParent(),R=M.padding();E.beginPath(),E.rect(-R,-R,this.width()+R*2,this.height()+R*2),E.moveTo(this.width()/2,-R),M.rotateEnabled()&&E.lineTo(this.width()/2,-M.rotateAnchorOffset()*e.Util._sign(this.height())-R),E.fillStrokeShape(this)},hitFunc:(E,M)=>{if(this.shouldOverdrawWholeArea()){var R=this.padding();E.beginPath(),E.rect(-R,-R,M.width()+R*2,M.height()+R*2),E.fillStrokeShape(M)}}});this.add(x),this._proxyDrag(x),x.on("dragstart",E=>{E.cancelBubble=!0}),x.on("dragmove",E=>{E.cancelBubble=!0}),x.on("dragend",E=>{E.cancelBubble=!0}),this.on("dragmove",E=>{this.update()})}_handleMouseDown(x){this._movingAnchorName=x.target.name().split(" ")[0];var E=this._getNodeRect(),M=E.width,R=E.height,v=Math.sqrt(Math.pow(M,2)+Math.pow(R,2));this.sin=Math.abs(R/v),this.cos=Math.abs(M/v),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var C=x.target.getAbsolutePosition(),A=x.target.getStage().getPointerPosition();this._anchorDragOffset={x:A.x-C.x,y:A.y-C.y},this._fire("transformstart",{evt:x.evt,target:this.getNode()}),this._nodes.forEach(O=>{O._fire("transformstart",{evt:x.evt,target:O})})}_handleMouseMove(x){var E,M,R,v=this.findOne("."+this._movingAnchorName),C=v.getStage();C.setPointersPositions(x);const A=C.getPointerPosition();let O={x:A.x-this._anchorDragOffset.x,y:A.y-this._anchorDragOffset.y};const D=v.getAbsolutePosition();this.anchorDragBoundFunc()&&(O=this.anchorDragBoundFunc()(D,O,x)),v.setAbsolutePosition(O);const L=v.getAbsolutePosition();if(!(D.x===L.x&&D.y===L.y)){if(this._movingAnchorName==="rotater"){var U=this._getNodeRect();E=v.x()-U.width/2,M=-v.y()+U.height/2;let Q=Math.atan2(-M,E)+Math.PI/2;U.height<0&&(Q-=Math.PI);var $=a.Konva.getAngle(this.rotation());const ae=$+Q,re=a.Konva.getAngle(this.rotationSnapTolerance()),ee=_(this.rotationSnaps(),ae,re)-U.rotation,ve=y(U,ee);this._fitNodesInto(ve,x);return}var Z=this.shiftBehavior(),ne;Z==="inverted"?ne=this.keepRatio()&&!x.shiftKey:Z==="none"?ne=this.keepRatio():ne=this.keepRatio()||x.shiftKey;var B=this.centeredScaling()||x.altKey;if(this._movingAnchorName==="top-left"){if(ne){var te=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};R=Math.sqrt(Math.pow(te.x-v.x(),2)+Math.pow(te.y-v.y(),2));var de=this.findOne(".top-left").x()>te.x?-1:1,me=this.findOne(".top-left").y()>te.y?-1:1;E=R*this.cos*de,M=R*this.sin*me,this.findOne(".top-left").x(te.x-E),this.findOne(".top-left").y(te.y-M)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(v.y());else if(this._movingAnchorName==="top-right"){if(ne){var te=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};R=Math.sqrt(Math.pow(v.x()-te.x,2)+Math.pow(te.y-v.y(),2));var de=this.findOne(".top-right").x()<te.x?-1:1,me=this.findOne(".top-right").y()>te.y?-1:1;E=R*this.cos*de,M=R*this.sin*me,this.findOne(".top-right").x(te.x+E),this.findOne(".top-right").y(te.y-M)}var ye=v.position();this.findOne(".top-left").y(ye.y),this.findOne(".bottom-right").x(ye.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(v.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(v.x());else if(this._movingAnchorName==="bottom-left"){if(ne){var te=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};R=Math.sqrt(Math.pow(te.x-v.x(),2)+Math.pow(v.y()-te.y,2));var de=te.x<v.x()?-1:1,me=v.y()<te.y?-1:1;E=R*this.cos*de,M=R*this.sin*me,v.x(te.x-E),v.y(te.y+M)}ye=v.position(),this.findOne(".top-left").x(ye.x),this.findOne(".bottom-right").y(ye.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(v.y());else if(this._movingAnchorName==="bottom-right"){if(ne){var te=B?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};R=Math.sqrt(Math.pow(v.x()-te.x,2)+Math.pow(v.y()-te.y,2));var de=this.findOne(".bottom-right").x()<te.x?-1:1,me=this.findOne(".bottom-right").y()<te.y?-1:1;E=R*this.cos*de,M=R*this.sin*me,this.findOne(".bottom-right").x(te.x+E),this.findOne(".bottom-right").y(te.y+M)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var B=this.centeredScaling()||x.altKey;if(B){var q=this.findOne(".top-left"),ie=this.findOne(".bottom-right"),Te=q.x(),Ce=q.y(),I=this.getWidth()-ie.x(),V=this.getHeight()-ie.y();ie.move({x:-Te,y:-Ce}),q.move({x:I,y:V})}var Y=this.findOne(".top-left").getAbsolutePosition();E=Y.x,M=Y.y;var z=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),X=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:E,y:M,width:z,height:X,rotation:a.Konva.getAngle(this.rotation())},x)}}_handleMouseUp(x){this._removeEvents(x)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(x){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var E=this.getNode();this._fire("transformend",{evt:x,target:E}),E&&this._nodes.forEach(M=>{M._fire("transformend",{evt:x,target:M})}),this._movingAnchorName=null}}_fitNodesInto(x,E){var M=this._getNodeRect();const R=1;if(e.Util._inRange(x.width,-this.padding()*2-R,R)){this.update();return}if(e.Util._inRange(x.height,-this.padding()*2-R,R)){this.update();return}const v=this.flipEnabled();var C=new e.Transform;if(C.rotate(a.Konva.getAngle(this.rotation())),this._movingAnchorName&&x.width<0&&this._movingAnchorName.indexOf("left")>=0){const U=C.point({x:-this.padding()*2,y:0});if(x.x+=U.x,x.y+=U.y,x.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,!v){this.update();return}}else if(this._movingAnchorName&&x.width<0&&this._movingAnchorName.indexOf("right")>=0){const U=C.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,x.width+=this.padding()*2,!v){this.update();return}}if(this._movingAnchorName&&x.height<0&&this._movingAnchorName.indexOf("top")>=0){const U=C.point({x:0,y:-this.padding()*2});if(x.x+=U.x,x.y+=U.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,x.height+=this.padding()*2,!v){this.update();return}}else if(this._movingAnchorName&&x.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const U=C.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,x.height+=this.padding()*2,!v){this.update();return}}if(this.boundBoxFunc()){const U=this.boundBoxFunc()(M,x);U?x=U:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const A=1e7,O=new e.Transform;O.translate(M.x,M.y),O.rotate(M.rotation),O.scale(M.width/A,M.height/A);const D=new e.Transform;D.translate(x.x,x.y),D.rotate(x.rotation),D.scale(x.width/A,x.height/A);const L=D.multiply(O.invert());this._nodes.forEach(U=>{var $;const Z=U.getParent().getAbsoluteTransform(),ne=U.getTransform().copy();ne.translate(U.offsetX(),U.offsetY());const te=new e.Transform;te.multiply(Z.copy().invert()).multiply(L).multiply(Z).multiply(ne);const de=te.decompose();U.setAttrs(de),this._fire("transform",{evt:E,target:U}),U._fire("transform",{evt:E,target:U}),($=U.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(e.Util._getRotation(x.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(x,E){this.findOne(x).setAttrs(E)}update(){var x,E=this._getNodeRect();this.rotation(e.Util._getRotation(E.rotation));var M=E.width,R=E.height,v=this.enabledAnchors(),C=this.resizeEnabled(),A=this.padding(),O=this.anchorSize();const D=this.find("._anchor");D.forEach(U=>{U.setAttrs({width:O,height:O,offsetX:O/2,offsetY:O/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:O/2+A,offsetY:O/2+A,visible:C&&v.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:M/2,y:0,offsetY:O/2+A,visible:C&&v.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:M,y:0,offsetX:O/2-A,offsetY:O/2+A,visible:C&&v.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:R/2,offsetX:O/2+A,visible:C&&v.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:M,y:R/2,offsetX:O/2-A,visible:C&&v.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:R,offsetX:O/2+A,offsetY:O/2-A,visible:C&&v.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:M/2,y:R,offsetY:O/2-A,visible:C&&v.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:M,y:R,offsetX:O/2-A,offsetY:O/2-A,visible:C&&v.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:M/2,y:-this.rotateAnchorOffset()*e.Util._sign(R)-A,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:M,height:R,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const L=this.anchorStyleFunc();L&&D.forEach(U=>{L(U)}),(x=this.getLayer())===null||x===void 0||x.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var x=this.findOne("."+this._movingAnchorName);x&&x.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(x){var E=r.Node.prototype.clone.call(this,x);return E}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};di.Transformer=k;function N(w){return w instanceof Array||e.Util.warn("enabledAnchors value should be an array"),w instanceof Array&&w.forEach(function(x){S.indexOf(x)===-1&&e.Util.warn("Unknown anchor name: "+x+". Available names are: "+S.join(", "))}),w||[]}return k.prototype.className="Transformer",(0,l._registerNode)(k),t.Factory.addGetterSetter(k,"enabledAnchors",S,N),t.Factory.addGetterSetter(k,"flipEnabled",!0,(0,o.getBooleanValidator)()),t.Factory.addGetterSetter(k,"resizeEnabled",!0),t.Factory.addGetterSetter(k,"anchorSize",10,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(k,"rotateEnabled",!0),t.Factory.addGetterSetter(k,"rotationSnaps",[]),t.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(k,"borderEnabled",!0),t.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(k,"anchorFill","white"),t.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(k,"borderDash"),t.Factory.addGetterSetter(k,"keepRatio",!0),t.Factory.addGetterSetter(k,"shiftBehavior","default"),t.Factory.addGetterSetter(k,"centeredScaling",!1),t.Factory.addGetterSetter(k,"ignoreStroke",!1),t.Factory.addGetterSetter(k,"padding",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(k,"node"),t.Factory.addGetterSetter(k,"nodes"),t.Factory.addGetterSetter(k,"boundBoxFunc"),t.Factory.addGetterSetter(k,"anchorDragBoundFunc"),t.Factory.addGetterSetter(k,"anchorStyleFunc"),t.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),t.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),di}var gi={},Oc;function e6(){if(Oc)return gi;Oc=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Wedge=void 0;const e=Me(),t=dt(),r=Fe(),n=Re(),i=Fe();let s=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return gi.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"radius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"angle",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"clockwise",!1),e.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),gi}var mi={},Pc;function t6(){if(Pc)return mi;Pc=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Blur=void 0;const e=Me(),t=it(),r=Re();function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function a(l,u){var p=l.data,h=l.width,m=l.height,d,g,b,S,T,f,c,y,_,k,N,w,x,E,M,R,v,C,A,O,D,L,U,$,Z=u+u+1,ne=h-1,te=m-1,de=u+1,me=de*(de+1)/2,ye=new n,B=null,q=ye,ie=null,Te=null,Ce=i[u],I=s[u];for(b=1;b<Z;b++)q=q.next=new n,b===de&&(B=q);for(q.next=ye,c=f=0,g=0;g<m;g++){for(R=v=C=A=y=_=k=N=0,w=de*(O=p[f]),x=de*(D=p[f+1]),E=de*(L=p[f+2]),M=de*(U=p[f+3]),y+=me*O,_+=me*D,k+=me*L,N+=me*U,q=ye,b=0;b<de;b++)q.r=O,q.g=D,q.b=L,q.a=U,q=q.next;for(b=1;b<de;b++)S=f+((ne<b?ne:b)<<2),y+=(q.r=O=p[S])*($=de-b),_+=(q.g=D=p[S+1])*$,k+=(q.b=L=p[S+2])*$,N+=(q.a=U=p[S+3])*$,R+=O,v+=D,C+=L,A+=U,q=q.next;for(ie=ye,Te=B,d=0;d<h;d++)p[f+3]=U=N*Ce>>I,U!==0?(U=255/U,p[f]=(y*Ce>>I)*U,p[f+1]=(_*Ce>>I)*U,p[f+2]=(k*Ce>>I)*U):p[f]=p[f+1]=p[f+2]=0,y-=w,_-=x,k-=E,N-=M,w-=ie.r,x-=ie.g,E-=ie.b,M-=ie.a,S=c+((S=d+u+1)<ne?S:ne)<<2,R+=ie.r=p[S],v+=ie.g=p[S+1],C+=ie.b=p[S+2],A+=ie.a=p[S+3],y+=R,_+=v,k+=C,N+=A,ie=ie.next,w+=O=Te.r,x+=D=Te.g,E+=L=Te.b,M+=U=Te.a,R-=O,v-=D,C-=L,A-=U,Te=Te.next,f+=4;c+=h}for(d=0;d<h;d++){for(v=C=A=R=_=k=N=y=0,f=d<<2,w=de*(O=p[f]),x=de*(D=p[f+1]),E=de*(L=p[f+2]),M=de*(U=p[f+3]),y+=me*O,_+=me*D,k+=me*L,N+=me*U,q=ye,b=0;b<de;b++)q.r=O,q.g=D,q.b=L,q.a=U,q=q.next;for(T=h,b=1;b<=u;b++)f=T+d<<2,y+=(q.r=O=p[f])*($=de-b),_+=(q.g=D=p[f+1])*$,k+=(q.b=L=p[f+2])*$,N+=(q.a=U=p[f+3])*$,R+=O,v+=D,C+=L,A+=U,q=q.next,b<te&&(T+=h);for(f=d,ie=ye,Te=B,g=0;g<m;g++)S=f<<2,p[S+3]=U=N*Ce>>I,U>0?(U=255/U,p[S]=(y*Ce>>I)*U,p[S+1]=(_*Ce>>I)*U,p[S+2]=(k*Ce>>I)*U):p[S]=p[S+1]=p[S+2]=0,y-=w,_-=x,k-=E,N-=M,w-=ie.r,x-=ie.g,E-=ie.b,M-=ie.a,S=d+((S=g+de)<te?S:te)*h<<2,y+=R+=ie.r=p[S],_+=v+=ie.g=p[S+1],k+=C+=ie.b=p[S+2],N+=A+=ie.a=p[S+3],ie=ie.next,w+=O=Te.r,x+=D=Te.g,E+=L=Te.b,M+=U=Te.a,R-=O,v-=D,C-=L,A-=U,Te=Te.next,f+=h}}const o=function(u){var p=Math.round(this.blurRadius());p>0&&a(u,p)};return mi.Blur=o,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),mi}var pi={},Mc;function r6(){if(Mc)return pi;Mc=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Brighten=void 0;const e=Me(),t=it(),r=Re(),n=function(i){var s=this.brightness()*255,a=i.data,o=a.length,l;for(l=0;l<o;l+=4)a[l]+=s,a[l+1]+=s,a[l+2]+=s};return pi.Brighten=n,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),pi}var vi={},Nc;function n6(){if(Nc)return vi;Nc=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Contrast=void 0;const e=Me(),t=it(),r=Re(),n=function(i){var s=Math.pow((this.contrast()+100)/100,2),a=i.data,o=a.length,l=150,u=150,p=150,h;for(h=0;h<o;h+=4)l=a[h],u=a[h+1],p=a[h+2],l/=255,l-=.5,l*=s,l+=.5,l*=255,u/=255,u-=.5,u*=s,u+=.5,u*=255,p/=255,p-=.5,p*=s,p+=.5,p*=255,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,p=p<0?0:p>255?255:p,a[h]=l,a[h+1]=u,a[h+2]=p};return vi.Contrast=n,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),vi}var yi={},Fc;function i6(){if(Fc)return yi;Fc=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.Emboss=void 0;const e=Me(),t=it(),r=rt(),n=Re(),i=function(s){var a=this.embossStrength()*10,o=this.embossWhiteLevel()*255,l=this.embossDirection(),u=this.embossBlend(),p=0,h=0,m=s.data,d=s.width,g=s.height,b=d*4,S=g;switch(l){case"top-left":p=-1,h=-1;break;case"top":p=-1,h=0;break;case"top-right":p=-1,h=1;break;case"right":p=0,h=1;break;case"bottom-right":p=1,h=1;break;case"bottom":p=1,h=0;break;case"bottom-left":p=1,h=-1;break;case"left":p=0,h=-1;break;default:r.Util.error("Unknown emboss direction: "+l)}do{var T=(S-1)*b,f=p;S+f<1&&(f=0),S+f>g&&(f=0);var c=(S-1+f)*d*4,y=d;do{var _=T+(y-1)*4,k=h;y+k<1&&(k=0),y+k>d&&(k=0);var N=c+(y-1+k)*4,w=m[_]-m[N],x=m[_+1]-m[N+1],E=m[_+2]-m[N+2],M=w,R=M>0?M:-M,v=x>0?x:-x,C=E>0?E:-E;if(v>R&&(M=x),C>R&&(M=E),M*=a,u){var A=m[_]+M,O=m[_+1]+M,D=m[_+2]+M;m[_]=A>255?255:A<0?0:A,m[_+1]=O>255?255:O<0?0:O,m[_+2]=D>255?255:D<0?0:D}else{var L=o-M;L<0?L=0:L>255&&(L=255),m[_]=m[_+1]=m[_+2]=L}}while(--y)}while(--S)};return yi.Emboss=i,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",null,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,null,e.Factory.afterSetFilter),yi}var _i={},Rc;function s6(){if(Rc)return _i;Rc=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.Enhance=void 0;const e=Me(),t=it(),r=Re();function n(s,a,o,l,u){var p=o-a,h=u-l,m;return p===0?l+h/2:h===0?l:(m=(s-a)/p,m=h*m+l,m)}const i=function(s){var a=s.data,o=a.length,l=a[0],u=l,p,h=a[1],m=h,d,g=a[2],b=g,S,T,f=this.enhance();if(f!==0){for(T=0;T<o;T+=4)p=a[T+0],p<l?l=p:p>u&&(u=p),d=a[T+1],d<h?h=d:d>m&&(m=d),S=a[T+2],S<g?g=S:S>b&&(b=S);u===l&&(u=255,l=0),m===h&&(m=255,h=0),b===g&&(b=255,g=0);var c,y,_,k,N,w,x,E,M;for(f>0?(y=u+f*(255-u),_=l-f*(l-0),N=m+f*(255-m),w=h-f*(h-0),E=b+f*(255-b),M=g-f*(g-0)):(c=(u+l)*.5,y=u+f*(u-c),_=l+f*(l-c),k=(m+h)*.5,N=m+f*(m-k),w=h+f*(h-k),x=(b+g)*.5,E=b+f*(b-x),M=g+f*(g-x)),T=0;T<o;T+=4)a[T+0]=n(a[T+0],l,u,_,y),a[T+1]=n(a[T+1],h,m,w,N),a[T+2]=n(a[T+2],g,b,M,E)}};return _i.Enhance=i,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),_i}var bi={},Ic;function a6(){if(Ic)return bi;Ic=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.Grayscale=void 0;const e=function(t){var r=t.data,n=r.length,i,s;for(i=0;i<n;i+=4)s=.34*r[i]+.5*r[i+1]+.16*r[i+2],r[i]=s,r[i+1]=s,r[i+2]=s};return bi.Grayscale=e,bi}var Si={},Dc;function o6(){if(Dc)return Si;Dc=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.HSL=void 0;const e=Me(),t=it(),r=Re();e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter);const n=function(i){var s=i.data,a=s.length,o=1,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,p=this.luminance()*127,h,m=o*l*Math.cos(u*Math.PI/180),d=o*l*Math.sin(u*Math.PI/180),g=.299*o+.701*m+.167*d,b=.587*o-.587*m+.33*d,S=.114*o-.114*m-.497*d,T=.299*o-.299*m-.328*d,f=.587*o+.413*m+.035*d,c=.114*o-.114*m+.293*d,y=.299*o-.3*m+1.25*d,_=.587*o-.586*m-1.05*d,k=.114*o+.886*m-.2*d,N,w,x,E;for(h=0;h<a;h+=4)N=s[h+0],w=s[h+1],x=s[h+2],E=s[h+3],s[h+0]=g*N+b*w+S*x+p,s[h+1]=T*N+f*w+c*x+p,s[h+2]=y*N+_*w+k*x+p,s[h+3]=E};return Si.HSL=n,Si}var Ci={},Lc;function l6(){if(Lc)return Ci;Lc=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.HSV=void 0;const e=Me(),t=it(),r=Re(),n=function(i){var s=i.data,a=s.length,o=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,p,h=o*l*Math.cos(u*Math.PI/180),m=o*l*Math.sin(u*Math.PI/180),d=.299*o+.701*h+.167*m,g=.587*o-.587*h+.33*m,b=.114*o-.114*h-.497*m,S=.299*o-.299*h-.328*m,T=.587*o+.413*h+.035*m,f=.114*o-.114*h+.293*m,c=.299*o-.3*h+1.25*m,y=.587*o-.586*h-1.05*m,_=.114*o+.886*h-.2*m,k,N,w,x;for(p=0;p<a;p+=4)k=s[p+0],N=s[p+1],w=s[p+2],x=s[p+3],s[p+0]=d*k+g*N+b*w,s[p+1]=S*k+T*N+f*w,s[p+2]=c*k+y*N+_*w,s[p+3]=x};return Ci.HSV=n,e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Ci}var wi={},Bc;function u6(){if(Bc)return wi;Bc=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.Invert=void 0;const e=function(t){var r=t.data,n=r.length,i;for(i=0;i<n;i+=4)r[i]=255-r[i],r[i+1]=255-r[i+1],r[i+2]=255-r[i+2]};return wi.Invert=e,wi}var Ti={},Gc;function c6(){if(Gc)return Ti;Gc=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Kaleidoscope=void 0;const e=Me(),t=it(),r=rt(),n=Re();var i=function(o,l,u){var p=o.data,h=l.data,m=o.width,d=o.height,g=u.polarCenterX||m/2,b=u.polarCenterY||d/2,S,T,f,c=0,y=0,_=0,k=0,N,w=Math.sqrt(g*g+b*b);T=m-g,f=d-b,N=Math.sqrt(T*T+f*f),w=N>w?N:w;var x=d,E=m,M,R,v=360/E*Math.PI/180,C,A;for(R=0;R<E;R+=1)for(C=Math.sin(R*v),A=Math.cos(R*v),M=0;M<x;M+=1)T=Math.floor(g+w*M/x*A),f=Math.floor(b+w*M/x*C),S=(f*m+T)*4,c=p[S+0],y=p[S+1],_=p[S+2],k=p[S+3],S=(R+M*m)*4,h[S+0]=c,h[S+1]=y,h[S+2]=_,h[S+3]=k},s=function(o,l,u){var p=o.data,h=l.data,m=o.width,d=o.height,g=u.polarCenterX||m/2,b=u.polarCenterY||d/2,S,T,f,c,y,_=0,k=0,N=0,w=0,x,E=Math.sqrt(g*g+b*b);T=m-g,f=d-b,x=Math.sqrt(T*T+f*f),E=x>E?x:E;var M=d,R=m,v,C,A=u.polarRotation||0,O,D;for(T=0;T<m;T+=1)for(f=0;f<d;f+=1)c=T-g,y=f-b,v=Math.sqrt(c*c+y*y)*M/E,C=(Math.atan2(y,c)*180/Math.PI+360+A)%360,C=C*R/360,O=Math.floor(C),D=Math.floor(v),S=(D*m+O)*4,_=p[S+0],k=p[S+1],N=p[S+2],w=p[S+3],S=(f*m+T)*4,h[S+0]=_,h[S+1]=k,h[S+2]=N,h[S+3]=w};const a=function(o){var l=o.width,u=o.height,p,h,m,d,g,b,S,T,f,c,y=Math.round(this.kaleidoscopePower()),_=Math.round(this.kaleidoscopeAngle()),k=Math.floor(l*(_%360)/360);if(!(y<1)){var N=r.Util.createCanvasElement();N.width=l,N.height=u;var w=N.getContext("2d").getImageData(0,0,l,u);r.Util.releaseCanvas(N),i(o,w,{polarCenterX:l/2,polarCenterY:u/2});for(var x=l/Math.pow(2,y);x<=8;)x=x*2,y-=1;x=Math.ceil(x);var E=x,M=0,R=E,v=1;for(k+x>l&&(M=E,R=0,v=-1),h=0;h<u;h+=1)for(p=M;p!==R;p+=v)m=Math.round(p+k)%l,f=(l*h+m)*4,g=w.data[f+0],b=w.data[f+1],S=w.data[f+2],T=w.data[f+3],c=(l*h+p)*4,w.data[c+0]=g,w.data[c+1]=b,w.data[c+2]=S,w.data[c+3]=T;for(h=0;h<u;h+=1)for(E=Math.floor(x),d=0;d<y;d+=1){for(p=0;p<E+1;p+=1)f=(l*h+p)*4,g=w.data[f+0],b=w.data[f+1],S=w.data[f+2],T=w.data[f+3],c=(l*h+E*2-p-1)*4,w.data[c+0]=g,w.data[c+1]=b,w.data[c+2]=S,w.data[c+3]=T;E*=2}s(w,o,{polarRotation:0})}};return Ti.Kaleidoscope=a,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Ti}var Ei={},Uc;function h6(){if(Uc)return Ei;Uc=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.Mask=void 0;const e=Me(),t=it(),r=Re();function n(m,d,g){var b=(g*m.width+d)*4,S=[];return S.push(m.data[b++],m.data[b++],m.data[b++],m.data[b++]),S}function i(m,d){return Math.sqrt(Math.pow(m[0]-d[0],2)+Math.pow(m[1]-d[1],2)+Math.pow(m[2]-d[2],2))}function s(m){for(var d=[0,0,0],g=0;g<m.length;g++)d[0]+=m[g][0],d[1]+=m[g][1],d[2]+=m[g][2];return d[0]/=m.length,d[1]/=m.length,d[2]/=m.length,d}function a(m,d){var g=n(m,0,0),b=n(m,m.width-1,0),S=n(m,0,m.height-1),T=n(m,m.width-1,m.height-1),f=d||10;if(i(g,b)<f&&i(b,T)<f&&i(T,S)<f&&i(S,g)<f){for(var c=s([b,g,T,S]),y=[],_=0;_<m.width*m.height;_++){var k=i(c,[m.data[_*4],m.data[_*4+1],m.data[_*4+2]]);y[_]=k<f?0:255}return y}}function o(m,d){for(var g=0;g<m.width*m.height;g++)m.data[4*g+3]=d[g]}function l(m,d,g){for(var b=[1,1,1,1,0,1,1,1,1],S=Math.round(Math.sqrt(b.length)),T=Math.floor(S/2),f=[],c=0;c<g;c++)for(var y=0;y<d;y++){for(var _=c*d+y,k=0,N=0;N<S;N++)for(var w=0;w<S;w++){var x=c+N-T,E=y+w-T;if(x>=0&&x<g&&E>=0&&E<d){var M=x*d+E,R=b[N*S+w];k+=m[M]*R}}f[_]=k===255*8?255:0}return f}function u(m,d,g){for(var b=[1,1,1,1,1,1,1,1,1],S=Math.round(Math.sqrt(b.length)),T=Math.floor(S/2),f=[],c=0;c<g;c++)for(var y=0;y<d;y++){for(var _=c*d+y,k=0,N=0;N<S;N++)for(var w=0;w<S;w++){var x=c+N-T,E=y+w-T;if(x>=0&&x<g&&E>=0&&E<d){var M=x*d+E,R=b[N*S+w];k+=m[M]*R}}f[_]=k>=255*4?255:0}return f}function p(m,d,g){for(var b=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],S=Math.round(Math.sqrt(b.length)),T=Math.floor(S/2),f=[],c=0;c<g;c++)for(var y=0;y<d;y++){for(var _=c*d+y,k=0,N=0;N<S;N++)for(var w=0;w<S;w++){var x=c+N-T,E=y+w-T;if(x>=0&&x<g&&E>=0&&E<d){var M=x*d+E,R=b[N*S+w];k+=m[M]*R}}f[_]=k}return f}const h=function(m){var d=this.threshold(),g=a(m,d);return g&&(g=l(g,m.width,m.height),g=u(g,m.width,m.height),g=p(g,m.width,m.height),o(m,g)),m};return Ei.Mask=h,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Ei}var xi={},Vc;function f6(){if(Vc)return xi;Vc=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Noise=void 0;const e=Me(),t=it(),r=Re(),n=function(i){var s=this.noise()*255,a=i.data,o=a.length,l=s/2,u;for(u=0;u<o;u+=4)a[u+0]+=l-2*l*Math.random(),a[u+1]+=l-2*l*Math.random(),a[u+2]+=l-2*l*Math.random()};return xi.Noise=n,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),xi}var Ai={},Hc;function d6(){if(Hc)return Ai;Hc=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.Pixelate=void 0;const e=Me(),t=rt(),r=it(),n=Re(),i=function(s){var a=Math.ceil(this.pixelSize()),o=s.width,l=s.height,u,p,h,m,d,g,b,S=Math.ceil(o/a),T=Math.ceil(l/a),f,c,y,_,k,N,w,x=s.data;if(a<=0){t.Util.error("pixelSize value can not be <= 0");return}for(k=0;k<S;k+=1)for(N=0;N<T;N+=1){for(m=0,d=0,g=0,b=0,f=k*a,c=f+a,y=N*a,_=y+a,w=0,u=f;u<c;u+=1)if(!(u>=o))for(p=y;p<_;p+=1)p>=l||(h=(o*p+u)*4,m+=x[h+0],d+=x[h+1],g+=x[h+2],b+=x[h+3],w+=1);for(m=m/w,d=d/w,g=g/w,b=b/w,u=f;u<c;u+=1)if(!(u>=o))for(p=y;p<_;p+=1)p>=l||(h=(o*p+u)*4,x[h+0]=m,x[h+1]=d,x[h+2]=g,x[h+3]=b)}};return Ai.Pixelate=i,e.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Ai}var ki={},$c;function g6(){if($c)return ki;$c=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.Posterize=void 0;const e=Me(),t=it(),r=Re(),n=function(i){var s=Math.round(this.levels()*254)+1,a=i.data,o=a.length,l=255/s,u;for(u=0;u<o;u+=1)a[u]=Math.floor(a[u]/l)*l};return ki.Posterize=n,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),ki}var Oi={},Wc;function m6(){if(Wc)return Oi;Wc=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.RGB=void 0;const e=Me(),t=it(),r=Re(),n=function(i){var s=i.data,a=s.length,o=this.red(),l=this.green(),u=this.blue(),p,h;for(p=0;p<a;p+=4)h=(.34*s[p]+.5*s[p+1]+.16*s[p+2])/255,s[p]=h*o,s[p+1]=h*l,s[p+2]=h*u,s[p+3]=s[p+3]};return Oi.RGB=n,e.Factory.addGetterSetter(t.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),e.Factory.addGetterSetter(t.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),Oi}var Pi={},Kc;function p6(){if(Kc)return Pi;Kc=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.RGBA=void 0;const e=Me(),t=it(),r=Re(),n=function(i){var s=i.data,a=s.length,o=this.red(),l=this.green(),u=this.blue(),p=this.alpha(),h,m;for(h=0;h<a;h+=4)m=1-p,s[h]=o*p+s[h]*m,s[h+1]=l*p+s[h+1]*m,s[h+2]=u*p+s[h+2]*m};return Pi.RGBA=n,e.Factory.addGetterSetter(t.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),e.Factory.addGetterSetter(t.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(i){return this._filterUpToDate=!1,i>1?1:i<0?0:i}),Pi}var Mi={},qc;function v6(){if(qc)return Mi;qc=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.Sepia=void 0;const e=function(t){var r=t.data,n=r.length,i,s,a,o;for(i=0;i<n;i+=4)s=r[i+0],a=r[i+1],o=r[i+2],r[i+0]=Math.min(255,s*.393+a*.769+o*.189),r[i+1]=Math.min(255,s*.349+a*.686+o*.168),r[i+2]=Math.min(255,s*.272+a*.534+o*.131)};return Mi.Sepia=e,Mi}var Ni={},zc;function y6(){if(zc)return Ni;zc=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.Solarize=void 0;const e=function(t){var r=t.data,n=t.width,i=t.height,s=n*4,a=i;do{var o=(a-1)*s,l=n;do{var u=o+(l-1)*4,p=r[u],h=r[u+1],m=r[u+2];p>127&&(p=255-p),h>127&&(h=255-h),m>127&&(m=255-m),r[u]=p,r[u+1]=h,r[u+2]=m}while(--l)}while(--a)};return Ni.Solarize=e,Ni}var Fi={},jc;function _6(){if(jc)return Fi;jc=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Threshold=void 0;const e=Me(),t=it(),r=Re(),n=function(i){var s=this.threshold()*255,a=i.data,o=a.length,l;for(l=0;l<o;l+=1)a[l]=a[l]<s?0:255};return Fi.Threshold=n,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Fi}var Yc;function b6(){if(Yc)return zn;Yc=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.Konva=void 0;const e=U4(),t=V4(),r=$4(),n=W4(),i=K4(),s=q4(),a=z4(),o=qd(),l=Tl(),u=jd(),p=j4(),h=Y4(),m=X4(),d=Z4(),g=Yd(),b=J4(),S=Q4(),T=e6(),f=t6(),c=r6(),y=n6(),_=i6(),k=s6(),N=a6(),w=o6(),x=l6(),E=u6(),M=c6(),R=h6(),v=f6(),C=d6(),A=g6(),O=m6(),D=p6(),L=v6(),U=y6(),$=_6();return zn.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:r.Arrow,Circle:n.Circle,Ellipse:i.Ellipse,Image:s.Image,Label:a.Label,Tag:a.Tag,Line:o.Line,Path:l.Path,Rect:u.Rect,RegularPolygon:p.RegularPolygon,Ring:h.Ring,Sprite:m.Sprite,Star:d.Star,Text:g.Text,TextPath:b.TextPath,Transformer:S.Transformer,Wedge:T.Wedge,Filters:{Blur:f.Blur,Brighten:c.Brighten,Contrast:y.Contrast,Emboss:_.Emboss,Enhance:k.Enhance,Grayscale:N.Grayscale,HSL:w.HSL,HSV:x.HSV,Invert:E.Invert,Kaleidoscope:M.Kaleidoscope,Mask:R.Mask,Noise:v.Noise,Pixelate:C.Pixelate,Posterize:A.Posterize,RGB:O.RGB,RGBA:D.RGBA,Sepia:L.Sepia,Solarize:U.Solarize,Threshold:$.Threshold}}),zn}var S6=Hs.exports,Xc;function C6(){if(Xc)return Hs.exports;Xc=1,Object.defineProperty(S6,"__esModule",{value:!0});const e=b6();return Hs.exports=e.Konva,Hs.exports}/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(e,t){(function(n,i){e.exports=i(D4,C6())})(jr,function(r,n){return function(i){var s={};function a(o){if(s[o])return s[o].exports;var l=s[o]={i:o,l:!1,exports:{}};return i[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=i,a.c=s,a.d=function(o,l,u){a.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:u})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,l){if(l&1&&(o=a(o)),l&8||l&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),l&2&&typeof o!="string")for(var p in o)a.d(u,p,function(h){return o[h]}.bind(null,p));return u},a.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(l,"a",l),l},a.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},a.p="",a(a.s=2)}([function(i,s){i.exports=r},function(i,s){i.exports=n},function(i,s,a){i.exports=a(3)},function(i,s,a){a.r(s);var o=a(0),l=a(1),u=a.n(l);function p(v){if(!u.a.autoDrawEnabled){var C=v.getLayer()||v.getStage();C&&C.batchDraw()}}var h={key:!0,style:!0,elm:!0,isRootInsert:!0},m=".vue-konva-event";function d(v,C,A,O){C===void 0&&(C={}),A===void 0&&(A={});var D=v.__konvaNode,L={},U=!1;for(var $ in A)if(!h[$]){var Z=$.slice(0,2)==="on",ne=A[$]!==C[$];if(Z&&ne){var te=$.substr(2).toLowerCase();te.substr(0,7)==="content"&&(te="content"+te.substr(7,1).toUpperCase()+te.substr(8)),D.off(te+m,A[$])}var de=!C.hasOwnProperty($);de&&D.setAttr($,void 0)}for(var me in C)if(!h[me]){var ye=me.slice(0,2)==="on",B=A[me]!==C[me];if(ye&&B){var q=me.substr(2).toLowerCase();q.substr(0,7)==="content"&&(q="content"+q.substr(7,1).toUpperCase()+q.substr(8)),C[me]&&(D.off(q+m),D.on(q+m,C[me]))}!ye&&(C[me]!==A[me]||O&&C[me]!==D.getAttr(me))&&(U=!0,L[me]=C[me])}U&&(D.setAttrs(L),p(D))}var g="v";function b(v){function C(A){return A.__konvaNode?A:A.parent?C(A.parent):(console.error("vue-konva error: Can not find parent node"),{})}return C(v.parent)}function S(v){if(v!=null&&v.component)return v.component.__konvaNode||S(v.component.subTree)}function T(v){var C=v.el,A=v.component,O=S(v);if(C!=null&&C.tagName&&A&&!O){var D=C&&C.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+D+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return O}function f(v){var C=[];return v.children&&v.children.forEach(function(A){!A.component&&Array.isArray(A.children)&&A.children.forEach(function(O){!O.component&&Array.isArray(O.children)?C.push.apply(C,O.children):C.push(O)}),A.component&&C.push(A)}),C}function c(v,C){var A=f(v),O=[];A.forEach(function(L){var U=T(L);U&&O.push(U)});var D=!1;O.forEach(function(L,U){L.getZIndex()!==U&&(L.setZIndex(U),D=!0)}),D&&p(C)}function y(){return y=Object.assign||function(v){for(var C=1;C<arguments.length;C++){var A=arguments[C];for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(v[O]=A[O])}return v},y.apply(this,arguments)}var _={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(C,A){var O=A.attrs,D=A.slots,L=A.expose;A.emits;var U=Object(o.getCurrentInstance)(),$=Object(o.reactive)({}),Z=Object(o.ref)(null),ne=new window.Konva.Stage({width:C.config.width,height:C.config.height,container:document.createElement("div")});U.__konvaNode=ne,me();function te(){return U.__konvaNode}function de(){return U.__konvaNode}function me(){var ye=$||{},B=y({},O,C.config);d(U,B,ye,C.__useStrictMode),Object.assign($,B)}return Object(o.onMounted)(function(){Z.value.innerHTML="",ne.container(Z.value),me()}),Object(o.onUpdated)(function(){me(),c(U.subTree,ne)}),Object(o.onBeforeUnmount)(function(){ne.destroy()}),Object(o.watch)(function(){return C.config},me,{deep:!0}),L({getStage:de,getNode:te}),function(){var ye;return Object(o.h)("div",{ref:Z},(ye=D.default)===null||ye===void 0?void 0:ye.call(D))}}};function k(){return k=Object.assign||function(v){for(var C=1;C<arguments.length;C++){var A=arguments[C];for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(v[O]=A[O])}return v},k.apply(this,arguments)}var N=".vue-konva-event",w={Group:!0,Layer:!0,FastLayer:!0,Label:!0},x=function(v){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(A,O){var D=O.attrs,L=O.slots,U=O.expose,$=Object(o.getCurrentInstance)(),Z=Object(o.reactive)({}),ne=window.Konva[v];if(!ne){console.error("vue-konva error: Can not find node "+v);return}var te=new ne;$.__konvaNode=te,$.vnode.__konvaNode=te,ye();function de(){return $.__konvaNode}function me(){return $.__konvaNode}function ye(){var q={};for(var ie in $.vnode.props)ie.slice(0,2)==="on"&&(q[ie]=$.vnode.props[ie]);var Te=Z||{},Ce=k({},D,A.config,q);d($,Ce,Te,A.__useStrictMode),Object.assign(Z,Ce)}Object(o.onMounted)(function(){var q=b($).__konvaNode;q.add(te),p(te)}),Object(o.onUnmounted)(function(){p(te),te.destroy(),te.off(N)}),Object(o.onUpdated)(function(){ye(),c($.subTree,te)}),Object(o.watch)(function(){return A.config},ye,{deep:!0}),U({getStage:me,getNode:de});var B=w[v];return B?function(){var q;return Object(o.h)("template",{},(q=L.default)===null||q===void 0?void 0:q.call(L))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&a(1);var E=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],M=[{name:"Stage",component:_}].concat(E.map(function(v){return{name:v,component:x(v)}})),R={install:function(C,A){var O=g;A&&A.prefix&&(O=A.prefix),M.forEach(function(D){C.component(""+O+D.name,D.component)})}};s.default=R}]).default})})(Hd);var w6=Hd.exports;const T6=Bf(w6),E6=Q2(),El=Nf(I4);El.use(E6);El.use(T6);El.mount("#app");
